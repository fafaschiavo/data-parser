{"version":3,"sources":["views/Header.js","views/Footer.js","reducers/GlobalReducer.js","reducers/index.js","store.js","constants.js","actions/GlobalActions.js","views/Home.js","views/Urls.js","views/Progress.js","views/PartialResults.js","views/PostProcess.js","views/FinalResults.js","routes/Routes.js","App.js","serviceWorker.js","index.js"],"names":["Header","className","React","Component","Footer","initial_state","full_list_urls","crawl_urls","crawl_selectors","partial_results","final_results","GenericReducer","state","action","new_state","Object","assign","type","RootReducer","combineReducers","GlobalReducer","persistConfig","key","storage","PersistedRootReducer","persistReducer","store","createStore","store_persistor","persistStore","tag_options","title","tag_id","color","set_full_list_urls","set_crawl_urls","set_crawl_selectors","set_partial_results","set_final_results","validate_css_selector","selector","document","querySelector","Selector","props","open_tags_dialog","is_selector_valid","Fragment","style","this","backgroundColor","Input","label","fullWidth","disableUnderline","placeholder","defaultValue","config","css_selector","onChange","event","setState","target","value","edit_selector","selector_id","tag","onClick","remove_selector","Divider","Dialog","onClose","open","aria-labelledby","DialogTitle","id","List","ListItem","button","add_tag","uniqid","ListItemText","primary","constants","map","Home","add_selector_field","selectors","urls","add_selector","bind","next","new_selectors","new_id","regex","attr","snackbar_open","snackbar_message","redirect","actions","full_list","i","keys","length","current_selector_id","to","Paper","Button","variant","speed","contentClassName","horizontal","smoothScrolling","onKeyDown","e","Snackbar","message","connect","dispatch","bindActionCreators","global_action_creators","url_dict_to_string","url_dict","urls_string","url_ids","url","status","url_list_changed","run","new_urls","split","url_id","page_source","response_code","obj","n","current_url_id","undefined","validate","website","splice","sort","slice","reduce","memo","current","data-tip","TextField","margin","multiline","Progress","in_queue_counter","initial_queue_size","crawl","crawl_next","count_in_queue","update_queue","crawl_finished","current_url","$","ajax","context","data","success","error","complete","XHR","timeout","counter","LinearProgress","generate_csv_from_matches","matches","csv_export_array","selector_titles","j","push","header","current_row","text","replace","PosedCell","posed","div","pressable","init","scale","press","PartialResults","soup","parse","tags","querySelectorAll","outerHTML","k","unitary_tag","structuredText","data_type","JSON","stringify","html","get_content","separator","filename","Table","collapsing","celled","Row","HeaderCell","Body","Cell","collapsed","src","toString","NewMatch","match","parent","remove_match","popover_timer","window","setTimeout","PostProcessPopovoer","is_open","close_timeout","current_selection","popover_close","popover_open","selection","getSelection","clearTimeout","children","selectionRef","ref_element","isOpen","onTextSelect","onTextUnselect","add_match","PostProcess","ref_text","createRef","ref_html","to_post_process_array","post_processed","prepare_post_process_array","current_match_index","clear_matches","finish_post_process","new_to_post_process_array","results","all_tags","match_id","current_tag","selector_ids","result","post_processed_tags","post_procced_tag","prepare_final_resuts","href","rel","verticalContainerStyle","width","contentEditable","ref","tag_titles","random_key","FinalResults","tag_dict","tag_array","create_tag_dict","csv_data","console","log","Routes","path","exact","render","Urls","material_ui_theme","typography","fontFamily","join","palette","main","light","dark","contrastText","secondary","primary1Color","primary2Color","primary3Color","accent1Color","accent2Color","accent3Color","textColor","appBar","height","datePicker","calendarTextColor","selectColor","selectTextColor","calendarYearBackgroundColor","headerColor","raisedButton","primaryTextColor","theme","createMuiTheme","App","Boolean","location","hostname","ReactDOM","loading","persistor","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.e2dc9944.chunk.js","sourcesContent":["import React from 'react';\n\n// CSS Imports\nimport './styles/Header.css';\n\nexport default class Header extends React.Component {\n\t// constructor(props) {\n\t// \tsuper(props);\n\t// }\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"header\"></div>\n\t\t);\n\t}\n}\n","import React from 'react';\n\nexport default class Footer extends React.Component {\n\t// constructor(props) {\n\t// \tsuper(props);\n\t// }\n\n\trender() {\n\t\treturn (\n\t\t\t<div></div>\n\t\t);\n\t}\n}\n","const initial_state = {\n\tfull_list_urls: [],\n\tcrawl_urls: false,\n\tcrawl_selectors: false,\n\tpartial_results: false,\n\tfinal_results: false\n}\n\nfunction GenericReducer(state = initial_state, action) {\n\tlet new_state = Object.assign({}, state);\n\n\tswitch (action.type) {\n\t\tcase 'SET_FULL_LIST_URLS':\n\t\t\tnew_state.full_list_urls = action.full_list_urls;\n\t\t\treturn new_state\n\n\t\tcase 'SET_CRAWL_URLS':\n\t\t\tnew_state.crawl_urls = action.crawl_urls;\n\t\t\treturn new_state\n\n\t\tcase 'SET_CRAWL_SELECTORS':\n\t\t\tnew_state.crawl_selectors = action.crawl_selectors;\n\t\t\treturn new_state\n\n\t\tcase 'SET_PARTIAL_RESULTS':\n\t\t\tnew_state.partial_results = action.partial_results;\n\t\t\treturn new_state\n\n\t\tcase 'SET_FINAL_RESULTS':\n\t\t\tnew_state.final_results = action.final_results;\n\t\t\treturn new_state\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n\n}\n\nexport default GenericReducer","import { combineReducers } from 'redux'\n\nimport GlobalReducer from './GlobalReducer.js'\n\nconst RootReducer = combineReducers({\n\tGlobalReducer\n\t// ThatReducer,\n\t// ThatReducer,\n})\n\nexport default RootReducer","import { createStore } from 'redux'\nimport { persistStore, persistReducer } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage'\n\n// Base reducer\nimport RootReducer from './reducers/index.js'\n\nconst persistConfig = {\n\tkey: 'root',\n\tstorage,\n}\n\nconst PersistedRootReducer = persistReducer(persistConfig, RootReducer)\n\nconst store = createStore(PersistedRootReducer)\nconst store_persistor = persistStore(store)\n\nexport { store, store_persistor }","// Debug options ----------------------------------------------------------------------------------------------------------------\nexport const debug = process.env.NODE_ENV === 'development'\nexport const purge_store_persist_on_reload = process.env.NODE_ENV === 'development' ? false : false\n\n// API endpoints ----------------------------------------------------------------------------------------------------------------\nexport const scraper_endpoint = process.env.NODE_ENV === 'development' ? 'http://127.0.0.1:5000/scrape/' : 'http://13.59.2.237:5000/scrape/'\n\n// Default Tags\nexport const tag_options = [\n\t{\n\t\ttitle: 'auction_house_name',\n\t\ttag_id: 'eguarqp59r',\n\t\tcolor: '#167dd1'\n\t},\n\t{\n\t\ttitle: 'auction_house_description',\n\t\ttag_id: 'bddndnm4dx',\n\t\tcolor: '#162a8b'\n\t},\n\t{\n\t\ttitle: 'auction_house_website',\n\t\ttag_id: '7zhbbdymd7',\n\t\tcolor: '#5f1579'\n\t},\n\t{\n\t\ttitle: 'auction_house_phone',\n\t\ttag_id: 's9cfw7sjua',\n\t\tcolor: '#ca264f'\n\t},\n\t{\n\t\ttitle: 'auction_house_address',\n\t\ttag_id: 'hhcd2dadsp',\n\t\tcolor: '#819c50'\n\t},\n\t{\n\t\ttitle: 'auction_house_source_id',\n\t\ttag_id: 'wvpepsw2xc',\n\t\tcolor: '#92acb1'\n\t},\n\t{\n\t\ttitle: 'auction_house_source_url',\n\t\ttag_id: '47qbbkug2a',\n\t\tcolor: '#1dd128'\n\t},\n\t{\n\t\ttitle: 'auction_house_source_name',\n\t\ttag_id: 'bkl5qunxls',\n\t\tcolor: '#906ec5'\n\t},\n\t{\n\t\ttitle: 'auction_name',\n\t\ttag_id: 'ebsfukecgm',\n\t\tcolor: '#39b386'\n\t},\n\t{\n\t\ttitle: 'auction_start_at',\n\t\ttag_id: 'lsfhpccpb2',\n\t\tcolor: '#280439'\n\t},\n\t{\n\t\ttitle: 'auction_end_at',\n\t\ttag_id: 'fwyrbqpg5x',\n\t\tcolor: '#7bcfff'\n\t},\n\t{\n\t\ttitle: 'auction_image_url',\n\t\ttag_id: 'cjzjtwgg7e',\n\t\tcolor: '#52c40e'\n\t},\n\t{\n\t\ttitle: 'auction_source_id',\n\t\ttag_id: '9zfpse5tbd',\n\t\tcolor: '#e8f9e2'\n\t},\n\t{\n\t\ttitle: 'auction_source_url',\n\t\ttag_id: 'hx6y32mmt8',\n\t\tcolor: '#860073'\n\t},\n\t{\n\t\ttitle: 'auction_source_name',\n\t\ttag_id: 'fkjshhqhqb',\n\t\tcolor: '#478913'\n\t},\n\t{\n\t\ttitle: 'object_name',\n\t\ttag_id: 'qghneam4vw',\n\t\tcolor: '#8d0710'\n\t},\n\t{\n\t\ttitle: 'object_source_id',\n\t\ttag_id: 'e3ssleqyge',\n\t\tcolor: '#fef7aa'\n\t},\n\t{\n\t\ttitle: 'object_source_url',\n\t\ttag_id: 'jvvvwwqwkj',\n\t\tcolor: '#3138cd'\n\t},\n\t{\n\t\ttitle: 'object_source_name',\n\t\ttag_id: 'bezgjdwvmt',\n\t\tcolor: '#06d650'\n\t},\n\t{\n\t\ttitle: 'object_image_url',\n\t\ttag_id: '7sebgn9cdz',\n\t\tcolor: '#e17c2c'\n\t},\n\t{\n\t\ttitle: 'object_medium',\n\t\ttag_id: 'bllxpawhkq',\n\t\tcolor: '#8faf11'\n\t},\n\t{\n\t\ttitle: 'object_description',\n\t\ttag_id: 'wjapmaqcmz',\n\t\tcolor: '#741920'\n\t},\n\t{\n\t\ttitle: 'object_tags',\n\t\ttag_id: 'vcbvm5hdw7',\n\t\tcolor: '#ce6393'\n\t},\n\t{\n\t\ttitle: 'object_size',\n\t\ttag_id: 'byzsma4rd6',\n\t\tcolor: '#d7c248'\n\t},\n\t{\n\t\ttitle: 'object_category',\n\t\ttag_id: '9ahkujyhff',\n\t\tcolor: '#0760ad'\n\t},\n\t{\n\t\ttitle: 'object_top_estimation',\n\t\ttag_id: 'zw7vvtnzb8',\n\t\tcolor: '#acb59d'\n\t},\n\t{\n\t\ttitle: 'object_floor_estimation',\n\t\ttag_id: 'gup7bwnypd',\n\t\tcolor: '#b87f44'\n\t},\n\t{\n\t\ttitle: 'object_hammer_price',\n\t\ttag_id: 'xnjcrwndcu',\n\t\tcolor: '#c10081'\n\t},\n\t{\n\t\ttitle: 'object_not_sold',\n\t\ttag_id: 'yafpgxc4yv',\n\t\tcolor: '#1789ad'\n\t},\n\t{\n\t\ttitle: 'artist_name',\n\t\ttag_id: 'b4hkvqk7mc',\n\t\tcolor: '#4811e3'\n\t},\n\t{\n\t\ttitle: 'artist_source_id',\n\t\ttag_id: '5uxd2y4qad',\n\t\tcolor: '#1878df'\n\t},\n\t{\n\t\ttitle: 'artist_source_url',\n\t\ttag_id: 'frvy5zxjyk',\n\t\tcolor: '#8506c7'\n\t},\n\t{\n\t\ttitle: 'artist_century',\n\t\ttag_id: 'dxhp4dqaa4',\n\t\tcolor: '#95787d'\n\t},\n\t{\n\t\ttitle: 'artist_birth_year',\n\t\ttag_id: 'ukvfzw8rep',\n\t\tcolor: '#14a998'\n\t},\n\t{\n\t\ttitle: 'artist_death_year',\n\t\ttag_id: 'anptku77fe',\n\t\tcolor: '#cf04d9'\n\t},\n\t{\n\t\ttitle: 'artist_description',\n\t\ttag_id: 'hzwxtyjamc',\n\t\tcolor: '#442734'\n\t},\n\t{\n\t\ttitle: 'artist_birth_place',\n\t\ttag_id: 'rqvtase2mw',\n\t\tcolor: '#dc6843'\n\t},\n\t{\n\t\ttitle: 'artist_biography',\n\t\ttag_id: 'ppcza3wpmr',\n\t\tcolor: '#c700ab'\n\t},\n]","export function set_full_list_urls(full_list_urls){\n\tvar action_to_return = {\n\t\ttype: 'SET_FULL_LIST_URLS',\n\t\tfull_list_urls: full_list_urls\n\t};\n\n\treturn action_to_return;\n}\n\n\nexport function set_crawl_urls(crawl_urls){\n\tvar action_to_return = {\n\t\ttype: 'SET_CRAWL_URLS',\n\t\tcrawl_urls: crawl_urls\n\t};\n\n\treturn action_to_return;\n}\n\nexport function set_crawl_selectors(crawl_selectors){\n\tvar action_to_return = {\n\t\ttype: 'SET_CRAWL_SELECTORS',\n\t\tcrawl_selectors: crawl_selectors\n\t};\n\n\treturn action_to_return;\n}\n\n\nexport function set_partial_results(partial_results){\n\tvar action_to_return = {\n\t\ttype: 'SET_PARTIAL_RESULTS',\n\t\tpartial_results: partial_results\n\t};\n\n\treturn action_to_return;\n}\n\nexport function set_final_results(final_results){\n\tvar action_to_return = {\n\t\ttype: 'SET_FINAL_RESULTS',\n\t\tfinal_results: final_results\n\t};\n\n\treturn action_to_return;\n}","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Redirect } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Input from '@material-ui/core/Input';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport List from '@material-ui/core/List';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Dialog from '@material-ui/core/Dialog';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport uniqid from 'uniqid';\nimport ReactTooltip from 'react-tooltip'\nimport ScrollArea from 'react-scrollbar';\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/Home.css';\n\n// Constants import\nimport * as constants from '../constants.js'\n\nfunction validate_css_selector(selector){\n\ttry {\n\t\tdocument.querySelector(selector);\n\t\treturn true;\n\t}\n\tcatch {\n\n\t}\n\treturn false;\n}\n\nclass Selector extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\topen_tags_dialog: false,\n\t\t\tis_selector_valid: true\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<ReactTooltip />\n\t\t\t\t<div className=\"home-selector-container\" style={this.state.is_selector_valid ? {} : {backgroundColor: '#fd676417'}}>\n\t\t\t\t\t<div className=\"home-selector-input-container\">\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tlabel=\"Dense multiline\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tdisableUnderline={true}\n\t\t\t\t\t\t\tplaceholder=\"My Awesome CSS selector\"\n\t\t\t\t\t\t\tdefaultValue={this.props.config.css_selector}\n\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\tthis.setState({is_selector_valid: validate_css_selector(event.target.value)})\n\t\t\t\t\t\t\t\tthis.props.edit_selector(this.props.config.selector_id, event.target.value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t{this.props.config.tag &&\n\t\t\t\t\t\t<span style={{backgroundColor: this.props.config.tag.color}} className=\"home-tag-indicator\">{this.props.config.tag.title}</span>\n\t\t\t\t\t}\n\t\t\t\t\t{!this.props.config.tag &&\n\t\t\t\t\t\t<span style={{backgroundColor: '#fd6764'}} className=\"home-tag-indicator\">Post Process</span>\n\t\t\t\t\t}\n\t\t\t\t\t<i className=\"home-selector-icon material-icons\" onClick={() => this.setState({open_tags_dialog: true})}>label</i>\n\t\t\t\t\t<i className=\"home-selector-icon material-icons\">more_horiz</i>\n\t\t\t\t\t<i className=\"home-selector-icon material-icons\" onClick={() => this.props.remove_selector(this.props.config.selector_id)}>close</i>\n\t\t\t\t</div>\n\t\t\t\t<Divider />\n\n\t\t\t\t<Dialog\n\t\t\t\t\tonClose={() => this.setState({open_tags_dialog: false})}\n\t\t\t\t\topen={this.state.open_tags_dialog}\n\t\t\t\t\taria-labelledby=\"simple-dialog-title\"\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle id=\"simple-dialog-title\">Select a tag</DialogTitle>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tstyle={{backgroundColor: '#eaeaea'}}\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({open_tags_dialog: false});\n\t\t\t\t\t\t\t\tthis.props.add_tag(this.props.config.selector_id, false);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary=\"Post process\" />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t{constants.tag_options.map((tag) => \n\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.setState({open_tags_dialog: false});\n\t\t\t\t\t\t\t\t\tthis.props.add_tag(this.props.config.selector_id, tag);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemText primary={tag.title} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</List>\n\t\t\t\t</Dialog>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n\nclass Home extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tadd_selector_field: '',\n\t\t\tselectors: this.props.crawl_selectors ? this.props.crawl_selectors : {},\n\t\t\turls: this.props.full_list_urls\n\t\t}\n\n\t\tthis.add_selector = this.add_selector.bind(this);\n\t\tthis.remove_selector = this.remove_selector.bind(this);\n\t\tthis.add_tag = this.add_tag.bind(this);\n\t\tthis.edit_selector = this.edit_selector.bind(this);\n\t\tthis.next = this.next.bind(this);\n\t}\n\n\t// Add a new empty CSS selector\n\tadd_selector(){\n\t\tlet new_selectors = Object.assign({}, this.state.selectors);\n\n\t\tlet new_id = uniqid();\n\t\tnew_selectors[new_id] = {\n\t\t\tselector_id: new_id,\n\t\t\tcss_selector: this.state.add_selector_field,\n\t\t\ttag: false,\n\t\t\tregex: '',\n\t\t\tattr: '',\n\t\t\turls: [],\n\t\t\tsnackbar_open: false,\n\t\t\tsnackbar_message: '',\n\t\t\tredirect: false\n\t\t}\n\t\tthis.setState({selectors: new_selectors})\n\t\tthis.setState({add_selector_field: ''})\n\t\tthis.props.actions.set_crawl_selectors(new_selectors)\n\t}\n\n\tremove_selector(selector_id){\n\t\tlet new_selectors = Object.assign({}, this.state.selectors);\n\t\tdelete new_selectors[selector_id]\n\t\tthis.setState({selectors: new_selectors})\n\t\tthis.props.actions.set_crawl_selectors(new_selectors)\n\t}\n\n\tadd_tag(selector_id, tag){\n\t\tlet new_selectors = Object.assign({}, this.state.selectors);\n\t\tnew_selectors[selector_id]['tag'] = tag\n\t\tthis.setState({selectors: new_selectors})\n\t\tthis.props.actions.set_crawl_selectors(new_selectors)\n\t}\n\n\tedit_selector(selector_id, css_selector){\n\t\tlet new_selectors = Object.assign({}, this.state.selectors);\n\t\tnew_selectors[selector_id]['css_selector'] = css_selector;\n\t\t// eslint-disable-next-line\n\t\tthis.state.selectors = new_selectors;\n\t}\n\n\tnext(full_list){\n\t\tlet selectors = Object.assign({}, this.state.selectors);\n\n\t\t// Delete css selectors with invalid format\n\t\tfor (var i = Object.keys(selectors).length - 1; i >= 0; i--) {\n\t\t\tlet current_selector_id = Object.keys(selectors)[i];\n\t\t\tif (!validate_css_selector(selectors[current_selector_id].css_selector)) {\n\t\t\t\tdelete selectors[current_selector_id]\n\t\t\t}\n\t\t}\n\n\t\tif (Object.keys(selectors).length === 0) {\n\t\t\tthis.setState({snackbar_message: 'No proper CSS selector found'})\n\t\t\tthis.setState({snackbar_open: true})\n\t\t\treturn\n\t\t}\n\n\t\tthis.props.actions.set_crawl_selectors(selectors)\n\t\t\n\t\tthis.setState({redirect: \"/urls/\"})\n\t\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"home-main-container\">\n\t\t\t\t<ReactTooltip />\n\t\t\t\t<Paper className=\"home-section\">\n\t\t\t\t\t<div className=\"home-section-header\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"home-section-header-title\">\n\t\t\t\t\t\t\t\tSelectors\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"home-section-header-subtitle\">\n\t\t\t\t\t\t\t\tAdd your CSS selectors and their respective tags\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Button className=\"home-run-button\" variant=\"contained\" color=\"primary\" onClick={this.next}>NEXT</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ScrollArea\n\t\t\t\t\t\tspeed={0.8}\n\t\t\t\t\t\tclassName=\"home-section-body\"\n\t\t\t\t\t\tcontentClassName=\"content\"\n\t\t\t\t\t\thorizontal={false}\n\t\t\t\t\t\tsmoothScrolling={true}\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t{Object.keys(this.state.selectors).map((selector_id) => {\n\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t<Selector\n\t\t\t\t\t\t\t\t\t\tconfig={this.state.selectors[selector_id]}\n\t\t\t\t\t\t\t\t\t\tremove_selector={this.remove_selector}\n\t\t\t\t\t\t\t\t\t\tadd_tag={this.add_tag}\n\t\t\t\t\t\t\t\t\t\tedit_selector={this.edit_selector}\n\t\t\t\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\n\t\t\t\t\t\t\t<div className=\"home-selector-container\">\n\t\t\t\t\t\t\t\t<div className=\"home-selector-input-container\">\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tlabel=\"CSS Selector\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tdisableUnderline={true}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"My Awesome CSS selector\"\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.add_selector_field}\n\t\t\t\t\t\t\t\t\t\tonChange={(event) => this.setState({add_selector_field: event.target.value})}\n\t\t\t\t\t\t\t\t\t\tonKeyDown={(e) => {if (e.key === 'Enter') this.add_selector()}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<i className=\"home-selector-icon material-icons\" onClick={this.add_selector}>add</i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t</React.Fragment>\n\n\t\t\t\t\t</ScrollArea>\n\t\t\t\t</Paper>\n\n\t\t\t\t<Snackbar message={this.state.snackbar_message} open={this.state.snackbar_open} onClose={() => this.setState({snackbar_open: false})} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tcrawl_selectors: state.GlobalReducer.crawl_selectors,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)\n\n\n\n\n\n\n\n\n\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Redirect } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport uniqid from 'uniqid';\nimport validate from 'validate.js';\nimport ReactTooltip from 'react-tooltip'\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/Home.css';\n\n// Get the first N keys of a dict\nfunction firstN(obj, n) {\n\treturn Object.keys(obj) //get the keys out\n\t\t.sort() //this will ensure consistent ordering of what you will get back. If you want something in non-aphabetical order, you will need to supply a custom sorting function\n\t\t.slice(0, n) //get the first N\n\t\t.reduce(function(memo, current) { //generate a new object out of them\n\t\t\tmemo[current] = obj[current]\n\t\t\treturn memo;\n\t}, {})\n}\n\n\nfunction url_dict_to_string(url_dict){\n\tlet urls_string = ''\n\n\tvar url_ids = Object.keys(url_dict);\n\tfor (var i = url_ids.length - 1; i >= 0; i--) {\n\t\tlet url_id = url_ids[i]\n\n\t\turls_string = urls_string + url_dict[url_id].url + '\\n'\n\t}\n\n\treturn urls_string\n}\n\n\nclass Home extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// Reset the URLs status to in_queue\n\t\tlet urls = Object.assign({}, this.props.full_list_urls);\n\t\tlet url_ids = Object.keys(urls)\n\t\tfor (var i = url_ids.length - 1; i >= 0; i--) {\n\t\t\tlet url_id = url_ids[i]\n\t\t\turls[url_id].status = 'in_queue'\n\t\t}\n\n\t\tthis.state = {\n\t\t\tadd_selector_field: '',\n\t\t\turls: urls\n\t\t}\n\n\t\tthis.url_list_changed = this.url_list_changed.bind(this);\n\t\tthis.run = this.run.bind(this);\n\t}\n\n\turl_list_changed(event){\n\t\tlet new_urls = Object.assign({}, {});\n\n\t\tlet urls = event.target.value.split('\\n')\n\t\tlet url_id = uniqid();\n\t\tfor (var i = urls.length - 1; i >= 0; i--) {\n\t\t\turl_id = uniqid();\n\t\t\tnew_urls[url_id] = {url: urls[i], url_id: url_id, 'status': 'in_queue', page_source: false, response_code: false}\n\t\t}\n\n\t\tthis.props.actions.set_full_list_urls(new_urls)\n\n\t\t// eslint-disable-next-line\n\t\tthis.state.urls = new_urls;\n\t}\n\n\trun(full_list){\n\t\tlet urls = Object.assign({}, this.state.urls);\n\n\t\t// Delete URLs that don't have a valid format\n\t\t// eslint-disable-next-line\n\t\tfor (var i = Object.keys(urls).length - 1; i >= 0; i--) {\n\t\t\tlet current_url_id = Object.keys(urls)[i];\n\t\t\tlet url_checker = validate({website: urls[current_url_id]['url']}, {website: {url: true}});\n\t\t\tif (url_checker !== undefined) {\n\t\t\t\tdelete urls[current_url_id]\n\t\t\t}\n\t\t}\n\n\t\t// eslint-disable-next-line\n\t\tfor (var i = urls.length - 1; i >= 0; i--) {\n\t\t\tlet url_checker = validate({website: urls[i]}, {website: {url: true}});\n\t\t\tif (url_checker !== undefined) {\n\t\t\t\turls.splice(i, 1);\n\t\t\t}\n\t\t}\n\n\t\tif (Object.keys(urls).length === 0) {\n\t\t\tthis.setState({snackbar_message: 'No proper URLs found'})\n\t\t\tthis.setState({snackbar_open: true})\n\t\t\treturn\n\t\t}\n\n\t\tif (!full_list && Object.keys(urls).length > 3) {\n\t\t\turls = firstN(urls, 3)\n\t\t}\n\n\t\tthis.props.actions.set_crawl_urls(urls)\n\t\t\n\t\tthis.setState({redirect: \"/progress/\"})\n\t\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"home-main-container\">\n\t\t\t\t<ReactTooltip />\n\t\t\t\t<Paper className=\"home-section\">\n\t\t\t\t\t<div className=\"home-section-header\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"home-section-header-title\">\n\t\t\t\t\t\t\t\tURLs to scrape\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"home-section-header-subtitle\">\n\t\t\t\t\t\t\t\tURL list here - One per line\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Button className=\"home-run-sample-button\" variant=\"contained\" color=\"secondary\" onClick={() => this.setState({redirect: \"/\"})}>BACK</Button>\n\t\t\t\t\t\t\t<Button className=\"home-run-sample-button\" variant=\"contained\" color=\"secondary\" data-tip=\"Run a sample of 3 URLs only\" onClick={() => this.run(false)}>RUN SAMPLE</Button>\n\t\t\t\t\t\t\t<Button className=\"home-run-button\" variant=\"contained\" color=\"primary\" onClick={() => this.run(true)}>RUN</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"home-section-body\">\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tid=\"outlined-dense-multiline\"\n\t\t\t\t\t\t\tlabel=\"URL List\"\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tdefaultValue={url_dict_to_string(this.state.urls)}\n\t\t\t\t\t\t\tonChange={this.url_list_changed}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Paper>\n\n\t\t\t\t<Snackbar message={this.state.snackbar_message} open={this.state.snackbar_open} onClose={() => this.setState({snackbar_open: false})} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tfull_list_urls: state.GlobalReducer.full_list_urls,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)\n\n\n\n\n\n\n\n\n\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Redirect } from 'react-router-dom';\nimport $ from \"jquery\";\nimport uniqid from 'uniqid';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Paper from '@material-ui/core/Paper';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/Progress.css';\n\n// Constants import\nimport * as constants from '../constants.js'\n\nclass Progress extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\turls: this.props.crawl_urls,\n\t\t\tin_queue_counter: 0,\n\t\t\tinitial_queue_size: 0,\n\t\t\tredirect: false\n\t\t}\n\n\t\tthis.crawl = this.crawl.bind(this);\n\t\tthis.crawl_next = this.crawl_next.bind(this);\n\t\tthis.count_in_queue = this.count_in_queue.bind(this);\n\t\tthis.update_queue = this.update_queue.bind(this);\n\t\tthis.crawl_finished = this.crawl_finished.bind(this);\n\n\t\tthis.state.initial_queue_size = this.count_in_queue();\n\t\tthis.crawl_next();\n\t\tthis.state.in_queue_counter = this.count_in_queue() + 1;\n\t}\n\n\tcrawl_next(){\n\t\tlet urls = Object.assign({}, this.state.urls);\n\t\tfor (var i = 0; i < Object.keys(urls).length; i++) {\n\t\t\tlet current_url_id = Object.keys(urls)[i];\n\t\t\tlet current_url = urls[current_url_id];\n\t\t\tif (current_url.status === 'in_queue') {\n\t\t\t\turls[current_url_id].status = 'scraping'\n\t\t\t\tthis.setState({urls: urls})\n\t\t\t\tthis.update_queue();\n\t\t\t\tthis.crawl(current_url)\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\tthis.crawl_finished()\n\t\treturn\n\t}\n\n\tcrawl(url){\n\t\t$.ajax({\n\t\t\tcontext: this,\n\t\t\turl: constants.scraper_endpoint,\n\t\t\ttype: 'get',\n\t\t\tdata: {\n\t\t\t\turl: url.url\n\t\t\t},\n\t\t\tsuccess: function(data) {\n\t\t\t\tlet urls = Object.assign({}, this.state.urls);\n\t\t\t\turls[url.url_id].status = data.status\n\t\t\t\turls[url.url_id].page_source = data.page_source\n\t\t\t\turls[url.url_id].response_code = data.response_code\n\t\t\t\tthis.setState({urls: urls})\n\t\t\t\tthis.crawl_next();\n\t\t\t},\n\t\t\terror: function(data) {\n\t\t\t\tlet urls = Object.assign({}, this.state.urls);\n\t\t\t\turls[url.url_id].status = 'error'\n\t\t\t\tthis.setState({urls: urls})\n\t\t\t\tthis.crawl_next();\n\t\t\t},\n\t\t\tcomplete: function(XHR, status){\n\t\t\t\tthis.update_queue();\n\t\t\t},\n\t\t\ttimeout: 60000\n\t\t});\n\t}\n\n\tcount_in_queue(){\n\t\tlet counter = 0;\n\t\tfor (var i = Object.keys(this.state.urls).length - 1; i >= 0; i--) {\n\t\t\tlet current_url_id = Object.keys(this.state.urls)[i];\n\t\t\tlet current_url = this.state.urls[current_url_id];\n\t\t\tif (current_url.status === 'in_queue') {\n\t\t\t\tcounter = counter + 1\n\t\t\t}\n\t\t}\n\t\treturn counter\n\t}\n\n\tupdate_queue(){\n\t\tlet counter = this.count_in_queue();\n\t\tthis.setState({in_queue_counter: counter + 1});\n\t}\n\n\tcrawl_finished(){\n\t\tthis.props.actions.set_crawl_urls(this.state.urls)\n\t\tthis.setState({redirect: \"/partial-results/\"})\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"progress-main-container\">\n\t\t\t\t<Paper className=\"progress-section\">\n\t\t\t\t\t<div className=\"progress-section-header\">\n\t\t\t\t\t\t<div className=\"progress-section-header-title\">Now running...</div>\n\t\t\t\t\t\t<Button className=\"home-run-button\" variant=\"contained\" color=\"secondary\" onClick={() => this.setState({redirect: \"/urls/\"}) }>CANCEL</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<LinearProgress className=\"progress-loading-bar\" variant=\"determinate\" value={100*((this.state.initial_queue_size - this.state.in_queue_counter)/this.state.initial_queue_size)} />\n\t\t\t\t\t<div className=\"progress-section-progress-legend\">{this.state.initial_queue_size - this.state.in_queue_counter}/{this.state.initial_queue_size} urls processed</div>\n\t\t\t\t</Paper>\n\t\t\t\t<Paper className=\"progress-section\">\n\t\t\t\t\t<div className=\"progress-section-header-title\">Crawl Results</div>\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<Divider />\n\n\t\t\t\t\t\t{Object.keys(this.state.urls).map((url_id) => {\n\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t<React.Fragment key={uniqid()}>\n\t\t\t\t\t\t\t\t\t<div className=\"progress-item\" key={uniqid()}>\n\t\t\t\t\t\t\t\t\t\t<div key={uniqid()} className=\"progress-item-url\">{this.state.urls[url_id].url}</div>\n\t\t\t\t\t\t\t\t\t\t<div key={uniqid()} className=\"progress-item-status\">{this.state.urls[url_id].status}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<Divider key={uniqid()} />\n\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</React.Fragment>\n\n\t\t\t\t</Paper>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tcrawl_urls: state.GlobalReducer.crawl_urls,\n\t\tcrawl_selectors: state.GlobalReducer.crawl_selectors,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(Progress)\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Redirect } from 'react-router-dom';\nimport { Table } from 'semantic-ui-react'\nimport uniqid from 'uniqid';\nimport { parse } from 'node-html-parser';\nimport EllipsisText from 'react-ellipsis-text';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport { CSVLink } from \"react-csv\";\nimport posed from 'react-pose';\nimport ReactJson from 'react-json-view'\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/PartialResults.css';\n\nfunction get_content(urls, selectors){\n\tlet matches = {}\n\n\t// Now let's iterate over each url scraped\n\tfor (var i = Object.keys(urls).length - 1; i >= 0; i--) {\n\t\tlet url_id = Object.keys(urls)[i];\n\t\tlet url = urls[url_id];\n\n\t\t// Now let's create an empty entry for each one of the URLs, this entry will later be filled with the selectors results\n\t\tmatches[url_id] = {}\n\n\t\t// We should only parse URLs that were successfully scraped\n\t\tif (url.status === \"success\") {\n\n\t\t\t// Now create a soup from the raw page source code\n\t\t\tlet soup = parse(url.page_source);\n\n\t\t\t// Now let's find the elements of interest withing the soup using the user's CSS selectors\n\t\t\tfor (var j = Object.keys(selectors).length - 1; j >= 0; j--) {\n\t\t\t\tlet selector_id = Object.keys(selectors)[j];\n\t\t\t\tlet selector = selectors[selector_id];\n\n\t\t\t\t// Now get the target element from the soup\n\t\t\t\tlet tag = soup.querySelector(selector.css_selector);\n\t\t\t\tlet tags = soup.querySelectorAll(selector.css_selector);\n\n\t\t\t\t// Check if the element was found, if it is then, get the inner text,\n\t\t\t\t// otherwise just assign false to the result array\n\t\t\t\tif (tag !== null) {\n\t\t\t\t\tif (tags.length > 1) {\n\t\t\t\t\t\tlet text = {\n\t\t\t\t\t\t\t'data_type': 'json',\n\t\t\t\t\t\t\tmatches: []\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet outerHTML = {\n\t\t\t\t\t\t\t'data_type': 'json',\n\t\t\t\t\t\t\tmatches: []\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (var k = tags.length - 1; k >= 0; k--) {\n\t\t\t\t\t\t\tlet unitary_tag = tags[k];\n\t\t\t\t\t\t\ttext.matches.push(unitary_tag.structuredText)\n\t\t\t\t\t\t\touterHTML.matches.push(unitary_tag.outerHTML)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatches[url_id][selector_id] = {data_type: 'json', text: JSON.stringify(text), html: JSON.stringify(outerHTML)}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tmatches[url_id][selector_id] = {data_type: 'single', text: tag.structuredText, html: tag.outerHTML}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tmatches[url_id][selector_id] = false\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\t// If the page surce wasn't scraped successfuly, then simply assign false to every selector\n\t\t\t// eslint-disable-next-line\n\t\t\tfor (var j = Object.keys(selectors).length - 1; j >= 0; j--) {\n\t\t\t\tlet selector_id = Object.keys(selectors)[j];\n\t\t\t\tmatches[url_id][selector_id] = false\n\t\t\t}\n\t\t}\n\n\t}\n\n\treturn matches\n}\n\nfunction generate_csv_from_matches(urls, selectors, matches){\n\tlet csv_export_array = [];\n\n\tlet selector_titles = [];\n\tfor (var j = 0; j < Object.keys(selectors).length; j++) {\n\t\tlet selector_id = Object.keys(selectors)[j];\n\t\tlet selector = selectors[selector_id];\n\t\tselector_titles.push(selector.tag.title ? selector.tag.title : 'Post Process')\n\t}\t\n\n\tlet header = ['URL', 'Status', 'Response Code', ...selector_titles];\n\tcsv_export_array.push(header)\n\n\tfor (var i = 0; i < Object.keys(urls).length; i++) {\n\t\tlet current_row = []\n\t\tlet url_id = Object.keys(urls)[i];\n\t\tlet url = urls[url_id];\n\t\tcurrent_row.push(url.url)\n\t\tcurrent_row.push(url.status ? url.status : '')\n\t\tcurrent_row.push(url.response_code)\n\n\t\t// eslint-disable-next-line\n\t\tfor (var j = 0; j < Object.keys(selectors).length; j++) {\n\t\t\tlet selector_id = Object.keys(selectors)[j];\n\t\t\tif (matches[url_id][selector_id]) {\n\t\t\t\tcurrent_row.push(matches[url_id][selector_id].text.replace(/(\\r\\n|\\n|\\r)/gm, \" \"))\n\t\t\t}else{\n\t\t\t\tcurrent_row.push('')\n\t\t\t}\n\t\t}\n\n\t\tcsv_export_array.push(current_row)\n\t}\n\n\treturn csv_export_array\n}\n\n\nconst PosedCell = posed.div({\n\tpressable: true,\n\tinit: { scale: 1 },\n\tpress: { scale: 0.98 }\n});\n\n\nclass PartialResults extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t\n\t\tlet matches = get_content(this.props.crawl_urls, this.props.crawl_selectors)\n\t\tthis.props.actions.set_partial_results(matches)\n\n\t\tthis.state = {\n\t\t\tmatches: matches,\n\t\t\tredirect: false\n\t\t}\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"partial-main-container\">\n\t\t\t\t<Paper className=\"partial-section\">\n\t\t\t\t\t<div className=\"partial-section-header\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"partial-section-header-title\">\n\t\t\t\t\t\t\t\tPartial Results\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"partial-section-header-subtitle\">\n\t\t\t\t\t\t\t\tData parsed using the scraper results before post processing\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button className=\"post-process-previous-button\" variant=\"contained\" color=\"secondary\" onClick={() => this.setState({redirect: '/urls/'})}>BACK</Button>\n\t\t\t\t\t\t\t<CSVLink separator={\"|\"} filename={\"pipe-separated-partial-data.csv\"} data={generate_csv_from_matches(this.props.crawl_urls, this.props.crawl_selectors, this.state.matches)}>\n\t\t\t\t\t\t\t\t<Button className=\"partial-download-button\" variant=\"contained\" color=\"secondary\">DOWNLOAD</Button>\n\t\t\t\t\t\t\t</CSVLink>\n\t\t\t\t\t\t\t<Button className=\"partial-postprocess-button\" variant=\"contained\" color=\"primary\" onClick={() => {this.setState({redirect: \"/post-process/\"})}}>Post Process</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"partial-section-body\">\n\t\t\t\t\t\t<div className=\"table-container\">\n\t\t\t\t\t\t\t<Table collapsing celled>\n\t\t\t\t\t\t\t\t<Table.Header>\n\t\t\t\t\t\t\t\t\t<Table.Row>\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>URL</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t{Object.keys(this.props.crawl_selectors).map((selector_id) => {\n\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>{this.props.crawl_selectors[selector_id].tag.title ? this.props.crawl_selectors[selector_id].tag.title : 'Post Process' }</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Status</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Response Code</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t\t\t</Table.Header>\n\t\t\t\t\t\t\t\t<Table.Body>\n\t\t\t\t\t\t\t\t\t{Object.keys(this.props.crawl_urls).map((url_id) => {\n\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t<Table.Row key={uniqid()}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].url}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].url} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t{Object.keys(this.props.crawl_selectors).map((selector_id) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.matches[url_id][selector_id].data_type === 'single' &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={ this.state.matches[url_id][selector_id] ? this.state.matches[url_id][selector_id].text : '' }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext={ this.state.matches[url_id][selector_id] ? this.state.matches[url_id][selector_id].text : '' }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlength={\"70\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.matches[url_id][selector_id].data_type === 'json' &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ReactJson collapsed={true} src={JSON.parse(this.state.matches[url_id][selector_id].text)} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].status}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].status} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\t\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].response_code.toString()}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].response_code.toString()} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Table.Body>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Paper>\n\t\t\t</div>\n\n\t\t);\n\t}\n}\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tcrawl_urls: state.GlobalReducer.crawl_urls,\n\t\tcrawl_selectors: state.GlobalReducer.crawl_selectors,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(PartialResults)","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport Input from '@material-ui/core/Input';\nimport { Redirect } from 'react-router-dom';\nimport Popover from 'react-text-selection-popover';\nimport ScrollArea from 'react-scrollbar';\nimport uniqid from 'uniqid';\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/PostProcess.css';\n\n// Constants import\nimport * as constants from '../constants.js'\n\n\nclass NewMatch extends React.Component {\n\t// constructor(props) {\n\t// \tsuper(props);\n\t// }\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className=\"post-process-selector-container\">\n\t\t\t\t\t<div className=\"post-process-selector-input-container\">\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tlabel=\"Dense multiline\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tdisableUnderline={true}\n\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\tdefaultValue={this.props.match.text}\n\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t// this.props.edit_selector(this.props.config.selector_id, event.target.value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span style={{backgroundColor: this.props.match.tag.color}} className=\"post-process-tag-indicator\">{this.props.match.tag.title}</span>\n\t\t\t\t\t<i className=\"post-process-selector-icon material-icons\" onClick={() => this.props.parent.remove_match(this.props.match.tag.tag_id)}>close</i>\n\t\t\t\t</div>\n\t\t\t\t<Divider />\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n\n\nvar popover_timer = window.setTimeout(() => {}, 1);\n\nclass PostProcessPopovoer extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tis_open: false,\n\t\t\tclose_timeout: false,\n\t\t\tcurrent_selection: ''\n\t\t}\n\n\t\tthis.popover_close = this.popover_close.bind(this);\n\t\tthis.popover_open = this.popover_open.bind(this);\n\t}\n\n\tpopover_open(){\n\t\tlet selection = window.getSelection().toString()\n\t\t// eslint-disable-next-line\n\t\tthis.props.parent.state.current_selection = selection;\n\n\t\twindow.clearTimeout(popover_timer);\n\t\tthis.setState({ is_open: true })\n\t}\n\n\tpopover_close(){\n\t\twindow.clearTimeout(popover_timer);\n\t\tpopover_timer = window.setTimeout(() => {\n\t\t\tthis.setState({ is_open: false });\n\t\t\t// eslint-disable-next-line\n\t\t\tthis.props.parent.state.current_selection = '';\n\t\t}, 400);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{this.props.children}\n\t\t\t\t<Popover\n\t\t\t\t\tselectionRef={this.props.ref_element}\n\t\t\t\t\tisOpen={this.state.is_open}\n\t\t\t\t\tonTextSelect={this.popover_open}\n\t\t\t\t\tonTextUnselect={this.popover_close}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"post-process-popover-content\">\n\t\t\t\t\t\t{constants.tag_options.map((tag) => \n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"post-process-popover-tag\"\n\t\t\t\t\t\t\t\tonClick={() => { this.props.parent.add_match(tag) }} \n\t\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"post-process-popover-tag-color\" style={{backgroundColor: tag.color}} key={uniqid()}></div>\n\t\t\t\t\t\t\t\t<div className=\"post-process-popover-tag-title\" key={uniqid()}>{tag.title}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</Popover>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n\nfunction prepare_post_process_array(urls, selectors, matches){\n\tvar to_post_process_array = [];\n\n\t// Now let's create an array with all the elements that should be post processed\n\tfor (var i = 0; i < Object.keys(urls).length; i++) {\n\t\tlet url_id = Object.keys(urls)[i];\n\t\tlet url = urls[url_id];\n\n\t\t// Check if the crawl was a success, ignore otherwise\n\t\tif (url.status === 'success') {\n\t\t\t// eslint-disable-next-line\n\t\t\tfor (var j = 0; j < Object.keys(selectors).length; j++) {\n\t\t\t\tlet selector_id = Object.keys(selectors)[j];\n\t\t\t\tlet selector = selectors[selector_id];\n\n\t\t\t\t// Check if the tag for the selector is false, that's the signal that the selctor has no defined tag and should rather be post-processed\n\t\t\t\t// Also check if the post process tag was found in the page source code\n\n\t\t\t\tif (selector.tag === false && matches[url_id][selector_id] && matches[url_id][selector_id].data_type === \"single\") {\n\t\t\t\t\t// If it was, then append the match to be post processed\n\t\t\t\t\tto_post_process_array.push({\n\t\t\t\t\t\tmatch: matches[url_id][selector_id],\n\t\t\t\t\t\tselector: selector,\n\t\t\t\t\t\turl: url,\n\t\t\t\t\t\tpost_processed: {}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to_post_process_array;\n}\n\nfunction prepare_final_resuts(urls, selectors, matches, post_processed){\n\t// Now let's create an array with all possible tag IDs to use as the columns for our export\n\tvar all_tags = [];\n\t\n\t// Now push to the all_tags array all the non-post-process tags\n\tfor (var i = 0; i < Object.keys(selectors).length; i++) {\n\t\tlet selector_id = Object.keys(selectors)[i];\n\t\tlet selector = selectors[selector_id];\n\t\tif (selector.tag) {\n\t\t\tall_tags.push(selector.tag.tag_id)\n\t\t}\n\t}\n\n\t// Now push to the all_tags array all tags created during post-process\n\t// eslint-disable-next-line\n\tfor (var i = post_processed.length - 1; i >= 0; i--) {\n\t\tfor (var j = 0; j < Object.keys(post_processed[i].post_processed).length; j++) {\n\t\t\tlet match_id = Object.keys(post_processed[i].post_processed)[j];\n\t\t\tlet match = post_processed[i].post_processed[match_id];\n\t\t\tall_tags.push(match.tag.tag_id)\n\t\t}\n\t}\n\n\t// This is the object that will contain all the results extracted so far\n\t// It will be a two-dimensional array with url ids in the first dimension and tag ids in the second\n\tvar results = {};\n\n\t// Now let's fill the results array with false for all possible tags, we will later fill this object with the actual results\n\t// eslint-disable-next-line\n\tfor (var i = 0; i < Object.keys(urls).length; i++) {\n\t\tlet url_id = Object.keys(urls)[i];\n\t\tlet url = urls[url_id];\n\t\t\n\t\t// Check if the crawl was a success, ignore otherwise\n\t\tif (url.status === 'success') {\n\t\t\t\n\t\t\t// create the url key\n\t\t\tresults[url.url_id] = {}\n\n\t\t\t// Now fill the url key with all possible tags, but with empty value for each\n\t\t\t// eslint-disable-next-line\n\t\t\tfor (var j = all_tags.length - 1; j >= 0; j--) {\n\t\t\t\tlet current_tag = all_tags[j];\n\t\t\t\tresults[url.url_id][current_tag] = false\n\t\t\t}\n\t\t}\n\t}\n\n\t// Now let's fill the result array with the non post-process results\n\t// eslint-disable-next-line\n\tfor (var i = 0; i < Object.keys(matches).length; i++) {\n\t\tlet url_id = Object.keys(matches)[i];\n\t\tlet selector_ids = matches[url_id];\n\n\t\t// eslint-disable-next-line\n\t\tfor (var j = 0; j < Object.keys(selector_ids).length; j++) {\n\t\t\tlet selector_id = Object.keys(selector_ids)[j];\n\t\t\tlet selector = selectors[selector_id];\n\t\t\tlet result = selector_ids[selector_id];\n\n\t\t\tif (selector.tag) {\n\t\t\t\tif (urls[url_id].status === 'success') {\n\t\t\t\t\tresults[url_id][selector.tag.tag_id] = result.text;\n\t\t\t\t}\n\t\t\t}else if(matches[url_id][selector_id].data_type === 'json'){\n\t\t\t\tresults[url_id]['composed_' + selector_id] = matches[url_id][selector_id].text;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Now let's fill the result array with the post-process results\n\t// eslint-disable-next-line\n\tfor (var i = post_processed.length - 1; i >= 0; i--) {\n\t\tlet url_id = post_processed[i].url.url_id;\n\t\tlet post_processed_tags = post_processed[i].post_processed;\n\n\t\t// eslint-disable-next-line\n\t\tfor (var j = 0; j < Object.keys(post_processed_tags).length; j++) {\n\t\t\tlet post_procced_tag_id = Object.keys(post_processed_tags)[j];\n\t\t\tlet post_procced_tag = post_processed_tags[post_procced_tag_id]\n\n\t\t\tresults[url_id][post_procced_tag.tag.tag_id] = post_procced_tag.text;\n\t\t}\n\t}\n\n\treturn(results)\n}\n\n\nclass PostProcess extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.ref_text = React.createRef()\n\t\tthis.ref_html = React.createRef()\n\t\t\n\t\t// eslint-disable-next-line\n\t\tvar to_post_process_array = prepare_post_process_array(this.props.crawl_urls, this.props.crawl_selectors, this.props.partial_results);\n\n\t\tthis.state = {\n\t\t\tcurrent_match_index: 0,\n\t\t\tto_post_process_array: to_post_process_array,\n\t\t\tcurrent_selection: '',\n\t\t\tredirect: false\n\t\t}\n\n\t\tthis.add_match = this.add_match.bind(this);\n\t\tthis.remove_match = this.remove_match.bind(this);\n\t\tthis.clear_matches = this.clear_matches.bind(this);\n\t\tthis.finish_post_process = this.finish_post_process.bind(this);\n\t}\n\n\tadd_match(tag){\n\t\t// Create a copy of the current to_post_process_array\n\t\tvar new_to_post_process_array = this.state.to_post_process_array.slice();\n\n\t\tnew_to_post_process_array[this.state.current_match_index].post_processed[tag.tag_id] = {text: this.state.current_selection, html: this.state.current_selection, tag: tag}\n\t\tthis.setState({to_post_process_array: new_to_post_process_array});\n\t}\n\n\tremove_match(tag_id){\n\t\tvar new_to_post_process_array = this.state.to_post_process_array.slice();\n\n\t\tdelete new_to_post_process_array[this.state.current_match_index].post_processed[tag_id]\n\t\tthis.setState({to_post_process_array: new_to_post_process_array});\n\t}\n\n\tclear_matches(){\n\t\tvar new_to_post_process_array = this.state.to_post_process_array.slice();\n\t\tfor (var i = Object.keys(new_to_post_process_array[this.state.current_match_index].post_processed).length - 1; i >= 0; i--) {\n\t\t\tlet tag_id = Object.keys(new_to_post_process_array[this.state.current_match_index].post_processed)[i];\n\t\t\tdelete new_to_post_process_array[this.state.current_match_index].post_processed[tag_id]\n\t\t}\n\n\t\tthis.setState({to_post_process_array: new_to_post_process_array});\n\t}\n\n\tfinish_post_process(){\n\t\tlet results = prepare_final_resuts(this.props.crawl_urls, this.props.crawl_selectors, this.props.partial_results, this.state.to_post_process_array)\n\t\tthis.props.actions.set_final_results(results)\n\t\tthis.setState({redirect: '/final-results/'})\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"post-process-main-container\">\n\t\t\t\t<div className=\"post-process-main-container-inner\">\n\t\t\t\t\t<Paper className=\"post-process-section\">\n\t\t\t\t\t\t<div className=\"post-process-section-header\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div className=\"post-process-section-header-title\">\n\t\t\t\t\t\t\t\t\tPost Processing\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"post-process-section-header-subtitle\">\n\t\t\t\t\t\t\t\t\tPlease highlight and tag all the content accordingly\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<a href={this.state.to_post_process_array[this.state.current_match_index].url.url} rel=\"noopener noreferrer\" target=\"_blank\">\n\t\t\t\t\t\t\t\t\t<Button className=\"post-process-previous-button\" variant=\"contained\" color=\"secondary\">VISIT PAGE</Button>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t{this.state.current_match_index === 0 &&\n\t\t\t\t\t\t\t\t\t<Button className=\"post-process-previous-button\" variant=\"contained\" color=\"primary\" onClick={() => this.setState({redirect: '/partial-results/'})}>BACK</Button>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{this.state.current_match_index > 0 &&\n\t\t\t\t\t\t\t\t\t<Button className=\"post-process-previous-button\" variant=\"contained\" color=\"primary\" onClick={() => this.setState({current_match_index: this.state.current_match_index - 1})}>PREVIOUS</Button>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{this.state.current_match_index < this.state.to_post_process_array.length - 1 &&\n\t\t\t\t\t\t\t\t\t<Button className=\"post-process-next-button\" variant=\"contained\" color=\"primary\" onClick={() => this.setState({current_match_index: this.state.current_match_index + 1})}>NEXT</Button>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{this.state.current_match_index === this.state.to_post_process_array.length - 1 &&\n\t\t\t\t\t\t\t\t\t<Button className=\"post-process-next-button\" variant=\"contained\" color=\"primary\" onClick={this.finish_post_process}>FINISH</Button>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"post-process-section-body\">\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<div className=\"post-process-section-body-inner\">\n\t\t\t\t\t\t\t\t<ScrollArea className=\"post-process-section-body-left\" verticalContainerStyle={{width: 4}}>\n\t\t\t\t\t\t\t\t\t{constants.tag_options.map((tag) => \n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"post-process-popover-tag\"\n\t\t\t\t\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => { this.add_match(tag) }} \n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-popover-tag-color\" style={{backgroundColor: tag.color}} key={uniqid()}></div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-popover-tag-title\" key={uniqid()}>{tag.title}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</ScrollArea>\n\t\t\t\t\t\t\t\t<div className=\"post-process-section-body-right\">\n\t\t\t\t\t\t\t\t\t<PostProcessPopovoer parent={this} ref_element={this.ref_text}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-raw-text\" contentEditable=\"true\" ref={this.ref_text}>\n\t\t\t\t\t\t\t\t\t\t\t{this.state.to_post_process_array[this.state.current_match_index].match.text}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</PostProcessPopovoer>\n\t\t\t\t\t\t\t\t\t<PostProcessPopovoer parent={this} ref_element={this.ref_html}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-raw-html\" contentEditable=\"true\" ref={this.ref_html}>\n\t\t\t\t\t\t\t\t\t\t\t{this.state.to_post_process_array[this.state.current_match_index].match.html}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</PostProcessPopovoer>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Paper>\n\n\t\t\t\t\t<Paper className=\"post-process-section\">\n\t\t\t\t\t\t<div className=\"post-process-section-header\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div className=\"post-process-section-header-title\">\n\t\t\t\t\t\t\t\t\tCurrent Tags\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"post-process-section-header-subtitle\">\n\t\t\t\t\t\t\t\t\tThese are the tags selected so far\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<Button className=\"post-process-next-button\" variant=\"contained\" color=\"primary\" onClick={this.clear_matches}>CLEAR</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t{Object.keys(this.state.to_post_process_array[this.state.current_match_index].post_processed).length > 0 &&\n\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<ScrollArea className=\"post-process-section-body post-process-matcehs-section\">\n\t\t\t\t\t\t\t{Object.keys(this.state.to_post_process_array[this.state.current_match_index].post_processed).map((tag_id) => {\n\t\t\t\t\t\t\t\tlet match = this.state.to_post_process_array[this.state.current_match_index].post_processed[tag_id];\n\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t<NewMatch parent={this} match={match} key={uniqid()}/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</ScrollArea>\n\t\t\t\t\t</Paper>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tcrawl_urls: state.GlobalReducer.crawl_urls,\n\t\tcrawl_selectors: state.GlobalReducer.crawl_selectors,\n\t\tpartial_results: state.GlobalReducer.partial_results,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(PostProcess)","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Redirect } from 'react-router-dom';\nimport { Table } from 'semantic-ui-react'\nimport uniqid from 'uniqid';\nimport EllipsisText from 'react-ellipsis-text';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport { CSVLink } from \"react-csv\";\nimport posed from 'react-pose';\nimport ReactJson from 'react-json-view'\n\n// Constants import\nimport * as constants from '../constants.js'\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/FinalResults.css';\n\nfunction randomProperty(obj) {\n\tvar keys = Object.keys(obj);\n\treturn keys[0];\n};\n\nconst PosedCell = posed.div({\n\tpressable: true,\n\tinit: { scale: 1 },\n\tpress: { scale: 0.98 }\n});\n\nfunction create_tag_dict(tag_array){\n\tvar tag_dict = {}\n\tfor (var i = tag_array.length - 1; i >= 0; i--) {\n\t\tlet current_tag = tag_array[i]\n\t\ttag_dict[current_tag.tag_id] = current_tag;\n\t}\n\n\treturn tag_dict\n}\n\nfunction generate_csv_from_matches(final_results, tags, urls){\n\tlet csv_export_array = [];\n\n\tlet tag_titles = [];\n\tlet random_key = randomProperty(final_results)\n\tfor (var i = Object.keys(final_results[random_key]).length - 1; i >= 0; i--) {\n\t\tlet current_tag = Object.keys(final_results[random_key])[i];\n\t\tif (current_tag in tags) {\n\t\t\ttag_titles.push(tags[current_tag].title)\n\t\t}else{\n\t\t\ttag_titles.push('Composed')\n\t\t}\n\t}\n\n\tlet header = ['URL', 'Status', 'Response Code', ...tag_titles];\n\n\tcsv_export_array.push(header)\n\n\t// eslint-disable-next-line\n\tfor (var i = Object.keys(final_results).length - 1; i >= 0; i--) {\n\t\tlet current_row = []\n\t\tlet current_url = Object.keys(final_results)[i];\n\n\t\tcurrent_row.push(urls[current_url].url)\n\t\tcurrent_row.push(urls[current_url].status)\n\t\tcurrent_row.push(urls[current_url].response_code)\n\n\t\tfor (var j = Object.keys(final_results[current_url]).length - 1; j >= 0; j--) {\n\t\t\tlet current_tag = Object.keys(final_results[current_url])[j]\n\t\t\tif (final_results[current_url][current_tag]) {\n\t\t\t\tcurrent_row.push(final_results[current_url][current_tag])\n\t\t\t}else{\n\t\t\t\tcurrent_row.push('')\n\t\t\t}\n\t\t}\n\n\t\tcsv_export_array.push(current_row)\n\t}\n\n\treturn csv_export_array\n}\n\nclass FinalResults extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tvar tag_dict = create_tag_dict(constants.tag_options)\n\n\t\tthis.state = {\n\t\t\ttags: tag_dict,\n\t\t\tcsv_data: generate_csv_from_matches(this.props.final_results, tag_dict, this.props.crawl_urls),\n\t\t\tredirect: false\n\t\t}\n\n\t\tconsole.log(this.props.final_results)\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"final-main-container\">\n\t\t\t\t<Paper className=\"final-section\">\n\t\t\t\t\t<div className=\"final-section-header\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"final-section-header-title\">\n\t\t\t\t\t\t\t\tFinal Results\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"final-section-header-subtitle\">\n\t\t\t\t\t\t\t\tData parsed using the scraper results after post processing\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button className=\"final-home-button\" variant=\"contained\" color=\"secondary\" onClick={() => {this.setState({redirect: \"/\"})}}>Home</Button>\n\t\t\t\t\t\t\t<CSVLink separator={\"|\"} filename={\"pipe-separated-final-data.csv\"} data={this.state.csv_data}>\n\t\t\t\t\t\t\t\t<Button className=\"final-download-button\" variant=\"contained\" color=\"primary\">DOWNLOAD</Button>\n\t\t\t\t\t\t\t</CSVLink>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"final-section-body\">\n\t\t\t\t\t\t<div className=\"table-container\">\n\t\t\t\t\t\t\t<Table collapsing celled>\n\t\t\t\t\t\t\t\t<Table.Header>\n\t\t\t\t\t\t\t\t\t<Table.Row>\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>URL</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t{Object.keys(this.props.final_results[Object.keys(this.props.final_results)[0]]).map((tag_id) => {\n\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell key={uniqid()}>{tag_id in this.state.tags ? this.state.tags[tag_id].title : 'Composed'}</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Status</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Response Code</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t\t\t</Table.Header>\n\t\t\t\t\t\t\t\t<Table.Body>\n\t\t\t\t\t\t\t\t\t{Object.keys(this.props.final_results).map((url_id) => {\n\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t<Table.Row key={uniqid()}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].url}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].url} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t{Object.keys(this.props.final_results[url_id]).map((tag_id) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (tag_id in this.state.tags) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell key={uniqid()}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.final_results[url_id][tag_id].toString()}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.final_results[url_id][tag_id].toString()} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell key={uniqid()}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ReactJson collapsed={true} src={JSON.parse(this.props.final_results[url_id][tag_id])} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].status}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].status} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\t\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].response_code.toString()}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].response_code.toString()} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Table.Body>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Paper>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tcrawl_urls: state.GlobalReducer.crawl_urls,\n\t\tcrawl_selectors: state.GlobalReducer.crawl_selectors,\n\t\tfinal_results: state.GlobalReducer.final_results,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(FinalResults)","import React, { Component } from 'react';\nimport { Route, Switch } from \"react-router-dom\";\n// import { connect } from 'react-redux'\n// import { bindActionCreators } from 'redux'\nimport Home from '../views/Home.js';\nimport Urls from '../views/Urls.js';\nimport Progress from '../views/Progress.js';\nimport PartialResults from '../views/PartialResults.js';\nimport PostProcess from '../views/PostProcess.js';\nimport FinalResults from '../views/FinalResults.js';\n\nexport default class Routes extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<Switch>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<Home/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/urls/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<Urls/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/progress/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<Progress/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/partial-results/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<PartialResults/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/post-process/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<PostProcess/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/final-results/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<FinalResults/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</Switch>\n\t\t);\n\t}\n}","import React, { Component } from 'react';\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\n// Components\nimport Header from './views/Header.js';\nimport Footer from './views/Footer.js';\n\n// import the store created in the store.js file\nimport { store_persistor } from './store';\n\n// Constants import\nimport * as constants from './constants.js'\n\n// URLs Imports\nimport Routes from './routes/Routes.js';\n\n// CSS Imports\nimport './App.css';\n\n// General theme definition\nconst material_ui_theme = {\n\ttypography: {\n\t\tfontFamily: [\n\t\t\t'Karla',\n\t\t].join(','),\n\t},\n\tpalette: {\n\t\tprimary: {\n\t\t\tmain: '#361FFB',\n\t\t\tlight: '#361FFB',\n\t\t\tdark: '#361FFB',\n\t\t\tcontrastText: '#FFFFFF',\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: '#BEBEBE',\n\t\t\tlight: '#BEBEBE',\n\t\t\tdark: '#BEBEBE',\n\t\t\tcontrastText: '#000000',\n\t\t},\n\t\tprimary1Color: '#361FFB',\n\t\tprimary2Color: '#361FFB',\n\t\tprimary3Color: '#361FFB',\n\t\taccent1Color: '#361FFB',\n\t\taccent2Color: '#361FFB',\n\t\taccent3Color: '#361FFB',\n\t\ttextColor: '#101010',\n\t},\n\tappBar: {\n\t\theight: 50,\n\t},\n\tdatePicker: {\n\t\tcolor: '#361FFB',\n\t\ttextColor: '#101010',\n\t\tcalendarTextColor: '#101010',\n\t\tselectColor: '#361FFB',\n\t\tselectTextColor: '#101010',\n\t\tcalendarYearBackgroundColor: '#ffffff',\n\t\theaderColor: '#361FFB',\n\t},\n\traisedButton: {\n\t\ttextColor: '#000000',\n\t\tprimaryTextColor: '#000000'\n\t}\n}\nconst theme = createMuiTheme(material_ui_theme);\n\n\n\nclass App extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tif (constants.purge_store_persist_on_reload) {\n\t\t\tstore_persistor.pause()\n\t\t\tstore_persistor.flush().then(() => { return store_persistor.purge() })\n\t\t}\n\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Router>\n\t\t\t\t<MuiThemeProvider theme={theme}>\n\t\t\t\t\t<Header />\n\t\t\t\t\t<div className=\"main-content\">\n\t\t\t\t\t\t<Routes />\n\t\t\t\t\t</div>\n\t\t\t\t\t<Footer />\n\t\t\t\t</MuiThemeProvider>\n\t\t\t</Router>\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { Provider } from 'react-redux'\nimport { PersistGate } from 'redux-persist/integration/react'\n\n// import the store created in the store.js file\nimport { store, store_persistor } from './store';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<PersistGate\n\t\t\tloading={null}\n\t\t\tpersistor={store_persistor}\n\t\t>\n\t\t\t<App />\n\t\t</PersistGate>\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();"],"sourceRoot":""}