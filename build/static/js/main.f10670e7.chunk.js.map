{"version":3,"sources":["views/Header.js","views/Footer.js","reducers/GlobalReducer.js","reducers/index.js","store.js","constants.js","actions/GlobalActions.js","views/Home.js","views/Urls.js","views/Progress.js","views/PartialResults.js","views/PostProcess.js","views/FinalResults.js","routes/Routes.js","App.js","serviceWorker.js","index.js"],"names":["Header","className","React","Component","Footer","initial_state","full_list_urls","crawl_urls","crawl_selectors","partial_results","final_results","scraper_settings","use_proxy","GenericReducer","state","action","new_state","Object","assign","type","RootReducer","combineReducers","GlobalReducer","persistConfig","key","storage","PersistedRootReducer","persistReducer","store","createStore","store_persistor","persistStore","regex_options","title","example","regex","tags","regex_id","tag_options","tag_id","color","set_full_list_urls","set_scraper_settings","set_crawl_urls","set_crawl_selectors","set_partial_results","set_final_results","json_parse_booleans","value","validate_css_selector","selector","document","querySelector","Selector","props","open_tags_dialog","open_attributes_dialog","is_selector_valid","Fragment","style","this","backgroundColor","Input","label","fullWidth","disableUnderline","placeholder","defaultValue","config","css_selector","onChange","event","setState","target","edit_selector","selector_id","tag","marginLeft","attr","onClick","remove_selector","Divider","Dialog","onClose","open","aria-labelledby","DialogTitle","id","List","ListItem","button","add_tag","uniqid","ListItemText","primary","constants","map","add_attribute","Home","add_selector_field","selectors","urls","snackbar_open","snackbar_message","redirect","new_selector_set_name","display_save_dialog","display_load_dialog","is_selector_set_loading","available_selector_sets","add_selector","bind","next","save","delete","load","load_selectors","new_selectors","new_id","actions","attribute","full_list","i","keys","length","current_selector_id","$","ajax","context","url","scraper_base_url","data","success","console","log","selector_sets","error","complete","XHR","status","timeout","selector_set","selector_set_dict","JSON","parse","select_set_hash_id","to","Paper","Button","variant","marginRight","speed","contentClassName","horizontal","smoothScrolling","onKeyDown","e","aria-describedby","DialogContent","DialogContentText","TextField","marginTop","marginBottom","DialogActions","CircularProgress","selectors_json","set_name","ListItemAvatar","hash_id","Snackbar","message","autoHideDuration","connect","dispatch","bindActionCreators","global_action_creators","url_dict_to_string","url_dict","urls_string","url_ids","url_list_changed","run","use_proxy_changed","new_urls","split","url_id","page_source","response_code","obj","n","current_url_id","undefined","validate","website","trim","splice","sort","slice","reduce","memo","current","is_checked","update","$set","data-tip","margin","multiline","Checkbox","checked","Progress","in_queue_counter","initial_queue_size","matches","crawl","crawl_next","count_in_queue","update_queue","crawl_finished","current_url","selector_ids","settings","counter","LinearProgress","get_data_from_tag","structuredText","result","getAttribute","generate_csv_from_matches","csv_export_array","selector_titles","j","push","header","current_row","text","replace","stringify","PosedCell","posed","div","pressable","init","scale","press","PartialResults","soup","querySelectorAll","outerHTML","k","unitary_tag","data_type","html","get_content","open_dialog","dialog_json","dialog_url","use_result_as_urls","createElement","setAttribute","base_url","protocol","hostname","port","regex_pattern","RegExp","urls_to_crawl","scraped_url","test","new_url_id","separator","enclosingCharacter","filename","Table","collapsing","celled","Row","HeaderCell","Body","Cell","toString","collapsed","src","NewMatch","match","parent","remove_match","popover_timer","window","setTimeout","PostProcessPopovoer","is_open","close_timeout","current_selection","popover_close","popover_open","selection","getSelection","clearTimeout","children","selectionRef","ref_element","isOpen","onTextSelect","onTextUnselect","prepare_final_resuts","post_processed","all_tags","match_id","results","current_tag","post_processed_tags","post_procced_tag","get_tag","PostProcess","ref_text","createRef","ref_html","to_post_process_array","prepare_post_process_array","current_match_index","current_tag_type","render_divider","add_regex_match","add_match","clear_matches","finish_post_process","previous","new_to_post_process_array","current_text","exec","onKeysPressed","href","rel","verticalContainerStyle","width","contentEditable","ref","tag_titles","random_url_id","FinalResults","tag_dict","tag_array","create_tag_dict","csv_data","Routes","path","exact","render","material_ui_theme","typography","fontFamily","join","palette","main","light","dark","contrastText","secondary","primary1Color","primary2Color","primary3Color","accent1Color","accent2Color","accent3Color","textColor","appBar","height","datePicker","calendarTextColor","selectColor","selectTextColor","calendarYearBackgroundColor","headerColor","raisedButton","primaryTextColor","theme","createMuiTheme","App","open_back_warning_dialog","addEventListener","preventDefault","returnValue","Boolean","location","ReactDOM","loading","persistor","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.f10670e7.chunk.js","sourcesContent":["import React from 'react';\n\n// CSS Imports\nimport './styles/Header.css';\n\nexport default class Header extends React.Component {\n\t// constructor(props) {\n\t// \tsuper(props);\n\t// }\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"header\"></div>\n\t\t);\n\t}\n}\n","import React from 'react';\n\nexport default class Footer extends React.Component {\n\t// constructor(props) {\n\t// \tsuper(props);\n\t// }\n\n\trender() {\n\t\treturn (\n\t\t\t<div></div>\n\t\t);\n\t}\n}\n","const initial_state = {\n\tfull_list_urls: [],\n\tcrawl_urls: false,\n\tcrawl_selectors: false,\n\tpartial_results: false,\n\tfinal_results: false,\n\tscraper_settings: {\n\t\tuse_proxy: true\n\t}\n}\n\nfunction GenericReducer(state = initial_state, action) {\n\tlet new_state = Object.assign({}, state);\n\n\tswitch (action.type) {\n\t\tcase 'SET_FULL_LIST_URLS':\n\t\t\tnew_state.full_list_urls = action.full_list_urls;\n\t\t\treturn new_state\n\n\t\tcase 'SET_SCRAPER_SETTINGS':\n\t\t\tnew_state.scraper_settings = action.scraper_settings;\n\t\t\treturn new_state\n\n\t\tcase 'SET_CRAWL_URLS':\n\t\t\tnew_state.crawl_urls = action.crawl_urls;\n\t\t\treturn new_state\n\n\t\tcase 'SET_CRAWL_SELECTORS':\n\t\t\tnew_state.crawl_selectors = action.crawl_selectors;\n\t\t\treturn new_state\n\n\t\tcase 'SET_PARTIAL_RESULTS':\n\t\t\tnew_state.partial_results = action.partial_results;\n\t\t\treturn new_state\n\n\t\tcase 'SET_FINAL_RESULTS':\n\t\t\tnew_state.final_results = action.final_results;\n\t\t\treturn new_state\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n\n}\n\nexport default GenericReducer","import { combineReducers } from 'redux'\n\nimport GlobalReducer from './GlobalReducer.js'\n\nconst RootReducer = combineReducers({\n\tGlobalReducer\n\t// ThatReducer,\n\t// ThatReducer,\n})\n\nexport default RootReducer","import { createStore } from 'redux'\nimport { persistStore, persistReducer } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage'\n\n// Base reducer\nimport RootReducer from './reducers/index.js'\n\nconst persistConfig = {\n\tkey: 'root',\n\tstorage,\n}\n\nconst PersistedRootReducer = persistReducer(persistConfig, RootReducer)\n\nconst store = createStore(PersistedRootReducer)\nconst store_persistor = persistStore(store)\n\nexport { store, store_persistor }","// Debug options ----------------------------------------------------------------------------------------------------------------\nexport const debug = process.env.NODE_ENV === 'development'\nexport const purge_store_persist_on_reload = process.env.NODE_ENV === 'development' ? false : false\n\n// API endpoints ----------------------------------------------------------------------------------------------------------------\nexport const scraper_base_url = process.env.NODE_ENV === 'development' ? 'http://127.0.0.1:5000' : 'http://13.59.2.237:5000';\nexport const scraper_endpoint = scraper_base_url + '/scrape/';\nexport const save_selector_sets = scraper_base_url + '/save-selector-set/';\nexport const load_selector_sets = scraper_base_url + '/selector-sets/';\nexport const delete_selector_set = scraper_base_url + '/delete-selector-set/';\n\n// Default Regex\nexport const regex_options = [\n\t{\n\t\ttitle: 'Artist Name + Death Year + Birth Year',\n\t\texample: 'Andy Warhol (1928-1987)',\n\t\tregex: /^([a-zA-Z\\s]*)\\s\\(([0-9]*)-([0-9]*)\\)/g,\n\t\ttags: ['b4hkvqk7mc', 'ukvfzw8rep', 'anptku77fe'],\n\t\tregex_id: '6lZCSihs7w'\n\t},\n\t{\n\t\ttitle: 'Currency + Floor Est. + Top Est.',\n\t\texample: 'USD 400,000 - USD 600,000',\n\t\t// eslint-disable-next-line\n\t\tregex: /^([A-Z]{3})\\s([0-9\\,\\.]*)[\\s\\-A-Z]*([0-9\\,\\.]*)/g,\n\t\ttags: ['tnjcrwnpwk', 'gup7bwnypd', 'zw7vvtnzb8'],\n\t\tregex_id: 'ReRbEVeknb'\n\t},\n\t{\n\t\ttitle: 'Hammer Price',\n\t\texample: 'USD 400,000',\n\t\t// eslint-disable-next-line\n\t\tregex: /^([A-Z]{3})\\s([0-9\\,\\.]*)/g,\n\t\ttags: ['tnjcrwnpwk', 'gup7bwnypd'],\n\t\tregex_id: 'ReRbEVeknb'\n\t}\n]\n\n\n// Default Tags\nexport const tag_options = [\n\t// Artist Tags\n\t{\n\t\ttitle: 'Artist Name',\n\t\ttype: 'artist',\n\t\ttag_id: 'b4hkvqk7mc',\n\t\tcolor: '#4811e3'\n\t},\n\t{\n\t\ttitle: 'Artist Birth Year',\n\t\ttype: 'artist',\n\t\ttag_id: 'ukvfzw8rep',\n\t\tcolor: '#14a998'\n\t},\n\t{\n\t\ttitle: 'Artist Death Year',\n\t\ttype: 'artist',\n\t\ttag_id: 'anptku77fe',\n\t\tcolor: '#cf04d9'\n\t},\n\t{\n\t\ttitle: 'Artist Century',\n\t\ttype: 'artist',\n\t\ttag_id: 'dxhp4dqaa4',\n\t\tcolor: '#95787d'\n\t},\n\t{\n\t\ttitle: 'Artist Birth Place',\n\t\ttype: 'artist',\n\t\ttag_id: 'rqvtase2mw',\n\t\tcolor: '#dc6843'\n\t},\n\t{\n\t\ttitle: 'Artist Description',\n\t\ttype: 'artist',\n\t\ttag_id: 'hzwxtyjamc',\n\t\tcolor: '#442734'\n\t},\n\t{\n\t\ttitle: 'Artist Biography',\n\t\ttype: 'artist',\n\t\ttag_id: 'ppcza3wpmr',\n\t\tcolor: '#c700ab'\n\t},\n\t\t{\n\t\ttitle: 'Artist Source ID',\n\t\ttype: 'artist',\n\t\ttag_id: '5uxd2y4qad',\n\t\tcolor: '#1878df'\n\t},\n\t{\n\t\ttitle: 'Artist Source URL',\n\t\ttype: 'artist',\n\t\ttag_id: 'frvy5zxjyk',\n\t\tcolor: '#8506c7'\n\t},\n\n\t// Object Tags\n\t{\n\t\ttitle: 'Object Name',\n\t\ttype: 'object',\n\t\ttag_id: 'qghneam4vw',\n\t\tcolor: '#8d0710'\n\t},\n\t{\n\t\ttitle: 'Object Image URL',\n\t\ttype: 'object',\n\t\ttag_id: '7sebgn9cdz',\n\t\tcolor: '#e17c2c'\n\t},\n\t{\n\t\ttitle: 'Object Floor Estimation',\n\t\ttype: 'object',\n\t\ttag_id: 'gup7bwnypd',\n\t\tcolor: '#b87f44'\n\t},\n\t{\n\t\ttitle: 'Object Top Estimation',\n\t\ttype: 'object',\n\t\ttag_id: 'zw7vvtnzb8',\n\t\tcolor: '#acb59d'\n\t},\n\t{\n\t\ttitle: 'Object Hammer Price',\n\t\ttype: 'object',\n\t\ttag_id: 'xnjcrwndcu',\n\t\tcolor: '#c10081'\n\t},\n\t{\n\t\ttitle: 'Object Currency',\n\t\ttype: 'object',\n\t\ttag_id: 'tnjcrwnpwk',\n\t\tcolor: '#d12031'\n\t},\n\t{\n\t\ttitle: 'Object Medium',\n\t\ttype: 'object',\n\t\ttag_id: 'bllxpawhkq',\n\t\tcolor: '#8faf11'\n\t},\n\t{\n\t\ttitle: 'Object Size',\n\t\ttype: 'object',\n\t\ttag_id: 'byzsma4rd6',\n\t\tcolor: '#d7c248'\n\t},\n\t{\n\t\ttitle: 'Object Category',\n\t\ttype: 'object',\n\t\ttag_id: '9ahkujyhff',\n\t\tcolor: '#0760ad'\n\t},\n\t{\n\t\ttitle: 'Object Description',\n\t\ttype: 'object',\n\t\ttag_id: 'wjapmaqcmz',\n\t\tcolor: '#6b72dd'\n\t},\n\t{\n\t\ttitle: 'Object Extra Info',\n\t\ttype: 'object',\n\t\ttag_id: 'widhku9p2l',\n\t\tcolor: '#fe5012'\n\t},\n\t{\n\t\ttitle: 'Object Lot Number',\n\t\ttype: 'object',\n\t\ttag_id: 'ltlxihttlf',\n\t\tcolor: '#013ab0'\n\t},\n\t{\n\t\ttitle: 'Object Year of Creation',\n\t\ttype: 'object',\n\t\ttag_id: 'ghqcdd5hho',\n\t\tcolor: '#a871de'\n\t},\n\t{\n\t\ttitle: 'Object Signature',\n\t\ttype: 'object',\n\t\ttag_id: 'zol6lprlzd',\n\t\tcolor: '#ba35fe'\n\t},\n\t{\n\t\ttitle: 'Object Provenance',\n\t\ttype: 'object',\n\t\ttag_id: 'eseceqwdbt',\n\t\tcolor: '#328ea3'\n\t},\n\t{\n\t\ttitle: 'Object Not Sold',\n\t\ttype: 'object',\n\t\ttag_id: 'yafpgxc4yv',\n\t\tcolor: '#1789ad'\n\t},\n\t{\n\t\ttitle: 'Object Source ID',\n\t\ttype: 'object',\n\t\ttag_id: 'e3ssleqyge',\n\t\tcolor: '#fef7aa'\n\t},\n\t{\n\t\ttitle: 'Object Source URL',\n\t\ttype: 'object',\n\t\ttag_id: 'jvvvwwqwkj',\n\t\tcolor: '#3138cd'\n\t},\n\t{\n\t\ttitle: 'Object Source Name',\n\t\ttype: 'object',\n\t\ttag_id: 'bezgjdwvmt',\n\t\tcolor: '#06d650'\n\t},\n\n\t// Auction Tags\n\t{\n\t\ttitle: 'Auction Name',\n\t\ttype: 'auction',\n\t\ttag_id: 'ebsfukecgm',\n\t\tcolor: '#39b386'\n\t},\n\t{\n\t\ttitle: 'Auction Start Date',\n\t\ttype: 'auction',\n\t\ttag_id: 'lsfhpccpb2',\n\t\tcolor: '#280439'\n\t},\n\t{\n\t\ttitle: 'Auction End Date',\n\t\ttype: 'auction',\n\t\ttag_id: 'fwyrbqpg5x',\n\t\tcolor: '#7bcfff'\n\t},\n\t{\n\t\ttitle: 'Auction Image URL',\n\t\ttype: 'auction',\n\t\ttag_id: 'cjzjtwgg7e',\n\t\tcolor: '#52c40e'\n\t},\n\t{\n\t\ttitle: 'Auction City',\n\t\ttype: 'auction',\n\t\ttag_id: 'fbqffkvcsm',\n\t\tcolor: '#33f346'\n\t},\n\t{\n\t\ttitle: 'Auction Source ID',\n\t\ttype: 'auction',\n\t\ttag_id: '9zfpse5tbd',\n\t\tcolor: '#e8f9e2'\n\t},\n\t{\n\t\ttitle: 'Auction Source URL',\n\t\ttype: 'auction',\n\t\ttag_id: 'hx6y32mmt8',\n\t\tcolor: '#860073'\n\t},\n\t{\n\t\ttitle: 'Auction Source Name',\n\t\ttype: 'auction',\n\t\ttag_id: 'fkjshhqhqb',\n\t\tcolor: '#478913'\n\t},\n\n\t// Auction House Tags\n\t{\n\t\ttitle: 'Auction House Name',\n\t\ttype: 'auction_house',\n\t\ttag_id: 'eguarqp59r',\n\t\tcolor: '#167dd1'\n\t},\n\t{\n\t\ttitle: 'Auction House Description',\n\t\ttype: 'auction_house',\n\t\ttag_id: 'bddndnm4dx',\n\t\tcolor: '#162a8b'\n\t},\n\t{\n\t\ttitle: 'Auction House Website',\n\t\ttype: 'auction_house',\n\t\ttag_id: '7zhbbdymd7',\n\t\tcolor: '#5f1579'\n\t},\n\t{\n\t\ttitle: 'Auction House Phone',\n\t\ttype: 'auction_house',\n\t\ttag_id: 's9cfw7sjua',\n\t\tcolor: '#ca264f'\n\t},\n\t{\n\t\ttitle: 'Auction House Address',\n\t\ttype: 'auction_house',\n\t\ttag_id: 'hhcd2dadsp',\n\t\tcolor: '#819c50'\n\t},\n\t{\n\t\ttitle: 'Auction House Source ID',\n\t\ttype: 'auction_house',\n\t\ttag_id: 'wvpepsw2xc',\n\t\tcolor: '#92acb1'\n\t},\n\t{\n\t\ttitle: 'Auction House Source URL',\n\t\ttype: 'auction_house',\n\t\ttag_id: '47qbbkug2a',\n\t\tcolor: '#1dd128'\n\t},\n\t{\n\t\ttitle: 'Auction House Source Name',\n\t\ttype: 'auction_house',\n\t\ttag_id: 'bkl5qunxls',\n\t\tcolor: '#906ec5'\n\t},\n]","export function set_full_list_urls(full_list_urls){\n\tvar action_to_return = {\n\t\ttype: 'SET_FULL_LIST_URLS',\n\t\tfull_list_urls: full_list_urls\n\t};\n\n\treturn action_to_return;\n}\n\nexport function set_scraper_settings(scraper_settings){\n\tvar action_to_return = {\n\t\ttype: 'SET_SCRAPER_SETTINGS',\n\t\tscraper_settings: scraper_settings\n\t};\n\n\treturn action_to_return;\n}\n\nexport function set_crawl_urls(crawl_urls){\n\tvar action_to_return = {\n\t\ttype: 'SET_CRAWL_URLS',\n\t\tcrawl_urls: crawl_urls\n\t};\n\n\treturn action_to_return;\n}\n\nexport function set_crawl_selectors(crawl_selectors){\n\tvar action_to_return = {\n\t\ttype: 'SET_CRAWL_SELECTORS',\n\t\tcrawl_selectors: crawl_selectors\n\t};\n\n\treturn action_to_return;\n}\n\n\nexport function set_partial_results(partial_results){\n\tvar action_to_return = {\n\t\ttype: 'SET_PARTIAL_RESULTS',\n\t\tpartial_results: partial_results\n\t};\n\n\treturn action_to_return;\n}\n\nexport function set_final_results(final_results){\n\tvar action_to_return = {\n\t\ttype: 'SET_FINAL_RESULTS',\n\t\tfinal_results: final_results\n\t};\n\n\treturn action_to_return;\n}","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Redirect } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Input from '@material-ui/core/Input';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport List from '@material-ui/core/List';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport TextField from '@material-ui/core/TextField';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport uniqid from 'uniqid';\nimport ReactTooltip from 'react-tooltip'\nimport ScrollArea from 'react-scrollbar';\nimport $ from \"jquery\";\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/Home.css';\n\n// Constants import\nimport * as constants from '../constants.js'\n\nfunction json_parse_booleans(key, value){\n\tif (value === 'false') {\n\t\treturn false\n\t}\n\treturn value\n}\n\nfunction validate_css_selector(selector){\n\ttry {\n\t\tdocument.querySelector(selector);\n\t\treturn true;\n\t}\n\tcatch {\n\n\t}\n\treturn false;\n}\n\nclass Selector extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\topen_tags_dialog: false,\n\t\t\topen_attributes_dialog: false,\n\t\t\tis_selector_valid: true,\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<ReactTooltip />\n\t\t\t\t<div className=\"home-selector-container\" style={this.state.is_selector_valid ? {} : {backgroundColor: '#fd676417'}}>\n\t\t\t\t\t<div className=\"home-selector-input-container\">\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tlabel=\"Dense multiline\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tdisableUnderline={true}\n\t\t\t\t\t\t\tplaceholder=\"My Awesome CSS selector\"\n\t\t\t\t\t\t\tdefaultValue={this.props.config.css_selector}\n\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\tthis.setState({is_selector_valid: validate_css_selector(event.target.value)})\n\t\t\t\t\t\t\t\tthis.props.edit_selector(this.props.config.selector_id, event.target.value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t{this.props.config.tag &&\n\t\t\t\t\t\t<span style={{backgroundColor: this.props.config.tag.color}} className=\"home-tag-indicator\">{this.props.config.tag.title}</span>\n\t\t\t\t\t}\n\t\t\t\t\t{!this.props.config.tag &&\n\t\t\t\t\t\t<span style={{backgroundColor: '#fd6764'}} className=\"home-tag-indicator\">Post Process</span>\n\t\t\t\t\t}\n\n\t\t\t\t\t<span style={{backgroundColor: '#361ffb', marginLeft: 10, color: 'white'}} className=\"home-tag-indicator\">{this.props.config.attr}</span>\n\t\t\t\t\t<i className=\"home-selector-icon material-icons\" onClick={() => this.setState({open_tags_dialog: true})}>label</i>\n\t\t\t\t\t<i className=\"home-selector-icon material-icons\" onClick={() => this.setState({open_attributes_dialog: true})}>code</i>\n\t\t\t\t\t<i className=\"home-selector-icon material-icons\" onClick={() => this.props.remove_selector(this.props.config.selector_id)}>close</i>\n\t\t\t\t</div>\n\t\t\t\t<Divider />\n\n\t\t\t\t<Dialog\n\t\t\t\t\tonClose={() => this.setState({open_tags_dialog: false})}\n\t\t\t\t\topen={this.state.open_tags_dialog}\n\t\t\t\t\taria-labelledby=\"simple-dialog-title\"\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle id=\"simple-dialog-title\">Select a tag</DialogTitle>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tstyle={{backgroundColor: '#eaeaea'}}\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({open_tags_dialog: false});\n\t\t\t\t\t\t\t\tthis.props.add_tag(this.props.config.selector_id, false);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary=\"Post process\" />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t{constants.tag_options.map((tag) => \n\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.setState({open_tags_dialog: false});\n\t\t\t\t\t\t\t\t\tthis.props.add_tag(this.props.config.selector_id, tag);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemText primary={tag.title} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</List>\n\t\t\t\t</Dialog>\n\n\t\t\t\t<Dialog\n\t\t\t\t\tonClose={() => this.setState({open_attributes_dialog: false})}\n\t\t\t\t\topen={this.state.open_attributes_dialog}\n\t\t\t\t\taria-labelledby=\"simple-dialog-title\"\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle id=\"simple-dialog-title\">Select an Attribute</DialogTitle>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({open_attributes_dialog: false});\n\t\t\t\t\t\t\t\tthis.props.add_attribute(this.props.config.selector_id, 'innerText');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary={'innerText'} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({open_attributes_dialog: false});\n\t\t\t\t\t\t\t\tthis.props.add_attribute(this.props.config.selector_id, 'href');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary={'href'} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({open_attributes_dialog: false});\n\t\t\t\t\t\t\t\tthis.props.add_attribute(this.props.config.selector_id, 'src');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary={'src'} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({open_attributes_dialog: false});\n\t\t\t\t\t\t\t\tthis.props.add_attribute(this.props.config.selector_id, 'srcset');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary={'srcset'} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({open_attributes_dialog: false});\n\t\t\t\t\t\t\t\tthis.props.add_attribute(this.props.config.selector_id, 'class');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary={'class'} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({open_attributes_dialog: false});\n\t\t\t\t\t\t\t\tthis.props.add_attribute(this.props.config.selector_id, 'id');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary={'id'} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</List>\n\t\t\t\t</Dialog>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n\nclass Home extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tadd_selector_field: '',\n\t\t\tselectors: this.props.crawl_selectors ? this.props.crawl_selectors : {},\n\t\t\turls: this.props.full_list_urls,\n\t\t\tsnackbar_open: false,\n\t\t\tsnackbar_message: '',\n\t\t\tredirect: false,\n\t\t\tnew_selector_set_name: '',\n\t\t\tdisplay_save_dialog: false,\n\t\t\tdisplay_load_dialog: false,\n\t\t\tis_selector_set_loading: true,\n\t\t\tavailable_selector_sets: []\n\t\t}\n\n\t\tthis.add_selector = this.add_selector.bind(this);\n\t\tthis.remove_selector = this.remove_selector.bind(this);\n\t\tthis.add_tag = this.add_tag.bind(this);\n\t\tthis.add_attribute = this.add_attribute.bind(this);\n\t\tthis.edit_selector = this.edit_selector.bind(this);\n\t\tthis.next = this.next.bind(this);\n\t\tthis.save = this.save.bind(this);\n\t\tthis.delete = this.delete.bind(this);\n\t\tthis.load = this.load.bind(this);\n\t\tthis.load_selectors = this.load_selectors.bind(this);\n\t}\n\n\t// Add a new empty CSS selector\n\tadd_selector(){\n\t\tlet new_selectors = Object.assign({}, this.state.selectors);\n\n\t\tlet new_id = uniqid();\n\t\tnew_selectors[new_id] = {\n\t\t\tselector_id: new_id,\n\t\t\tcss_selector: this.state.add_selector_field,\n\t\t\ttag: false,\n\t\t\tregex: '',\n\t\t\tattr: 'innerText',\n\t\t\turls: [],\n\t\t}\n\t\tthis.setState({selectors: new_selectors})\n\t\tthis.setState({add_selector_field: ''})\n\t\tthis.props.actions.set_crawl_selectors(new_selectors)\n\t}\n\n\tremove_selector(selector_id){\n\t\tlet new_selectors = Object.assign({}, this.state.selectors);\n\t\tdelete new_selectors[selector_id]\n\t\tthis.setState({selectors: new_selectors})\n\t\tthis.props.actions.set_crawl_selectors(new_selectors)\n\t}\n\n\tadd_tag(selector_id, tag){\n\t\tlet new_selectors = Object.assign({}, this.state.selectors);\n\t\tnew_selectors[selector_id]['tag'] = tag\n\t\tthis.setState({selectors: new_selectors})\n\t\tthis.props.actions.set_crawl_selectors(new_selectors)\n\t}\n\n\tadd_attribute(selector_id, attribute){\n\t\tlet new_selectors = Object.assign({}, this.state.selectors);\n\t\tnew_selectors[selector_id]['attr'] = attribute\n\t\tthis.setState({selectors: new_selectors})\n\t\tthis.props.actions.set_crawl_selectors(new_selectors)\n\t}\n\n\tedit_selector(selector_id, css_selector){\n\t\tlet new_selectors = Object.assign({}, this.state.selectors);\n\t\tnew_selectors[selector_id]['css_selector'] = css_selector;\n\t\t// eslint-disable-next-line\n\t\tthis.state.selectors = new_selectors;\n\t}\n\n\tnext(full_list){\n\t\tlet selectors = Object.assign({}, this.state.selectors);\n\n\t\t// Delete css selectors with invalid format\n\t\tfor (var i = Object.keys(selectors).length - 1; i >= 0; i--) {\n\t\t\tlet current_selector_id = Object.keys(selectors)[i];\n\t\t\tif (!validate_css_selector(selectors[current_selector_id].css_selector)) {\n\t\t\t\tdelete selectors[current_selector_id]\n\t\t\t}\n\t\t}\n\n\t\tif (Object.keys(selectors).length === 0) {\n\t\t\tthis.setState({snackbar_message: 'No proper CSS selector found'})\n\t\t\tthis.setState({snackbar_open: true})\n\t\t\treturn\n\t\t}\n\n\t\tthis.props.actions.set_crawl_selectors(selectors)\n\t\t\n\t\tthis.setState({redirect: \"/urls/\"})\n\t}\n\n\tload_selectors(){\n\t\tthis.setState({is_selector_set_loading: true});\n\t\tthis.setState({display_load_dialog: true});\n\t\t$.ajax({\n\t\t\tcontext: this,\n\t\t\turl: constants.load_selector_sets,\n\t\t\ttype: 'get',\n\t\t\tdata: {},\n\t\t\tsuccess: function(data) {\n\t\t\t\tconsole.log(data)\n\t\t\t\tthis.setState({available_selector_sets: data.selector_sets});\n\t\t\t\tthis.setState({is_selector_set_loading: false});\n\t\t\t},\n\t\t\terror: function(data) {},\n\t\t\tcomplete: function(XHR, status){},\n\t\t\ttimeout: 120000\n\t\t});\n\t}\n\n\tload(selector_set){\n\t\tvar selector_set_dict = JSON.parse(selector_set, json_parse_booleans);\n\t\tthis.setState({ selectors: selector_set_dict });\n\t\tthis.setState({display_load_dialog: false});\n\t\tconsole.log(selector_set_dict)\n\t}\n\n\tsave(){\t\n\t\tif (this.state.new_selector_set_name.length === 0) {\n\t\t\tthis.setState({snackbar_message: 'Please give your selector set a proper name'})\n\t\t\tthis.setState({snackbar_open: true})\n\t\t\treturn \n\t\t}\n\n\t\tthis.setState({display_save_dialog: false})\n\t\t$.ajax({\n\t\t\tcontext: this,\n\t\t\turl: constants.save_selector_sets,\n\t\t\ttype: 'get',\n\t\t\tdata: {\n\t\t\t\t'selector_set': this.state.selectors,\n\t\t\t\t'set_name': this.state.new_selector_set_name\n\t\t\t},\n\t\t\tsuccess: function(data) {\n\t\t\t\tif (data.status === 'success') {\n\t\t\t\t\tthis.setState({snackbar_message: 'Saved!'})\n\t\t\t\t\tthis.setState({snackbar_open: true})\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\tthis.setState({snackbar_message: 'Sorry, I got an error...'})\n\t\t\t\t\tthis.setState({snackbar_open: true})\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: function(data) {\n\t\t\t\tthis.setState({snackbar_message: 'Sorry, I got an error...'})\n\t\t\t\tthis.setState({snackbar_open: true})\n\t\t\t},\n\t\t\tcomplete: function(XHR, status){},\n\t\t\ttimeout: 120000\n\t\t});\n\t}\n\n\tdelete(select_set_hash_id){\n\t\tthis.setState({display_load_dialog: false})\n\t\t$.ajax({\n\t\t\tcontext: this,\n\t\t\turl: constants.delete_selector_set,\n\t\t\ttype: 'get',\n\t\t\tdata: {\n\t\t\t\t'hash_id': select_set_hash_id,\n\t\t\t},\n\t\t\tsuccess: function(data) {},\n\t\t\terror: function(data) {},\n\t\t\tcomplete: function(XHR, status){},\n\t\t\ttimeout: 120000\n\t\t});\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"home-main-container\">\n\t\t\t\t<ReactTooltip />\n\t\t\t\t<Paper className=\"home-section\">\n\t\t\t\t\t<div className=\"home-section-header\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"home-section-header-title\">\n\t\t\t\t\t\t\t\tSelectors\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"home-section-header-subtitle\">\n\t\t\t\t\t\t\t\tAdd your CSS selectors and their respective tags\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Button className=\"home-run-button\" variant=\"contained\" color=\"secondary\" onClick={this.load_selectors} style={{marginRight: 10}}>LOAD</Button>\n\t\t\t\t\t\t\t<Button className=\"home-run-button\" variant=\"contained\" color=\"secondary\" onClick={() => this.setState({display_save_dialog: true})} style={{marginRight: 10}}>SAVE</Button>\n\t\t\t\t\t\t\t<Button className=\"home-run-button\" variant=\"contained\" color=\"primary\" onClick={this.next}>NEXT</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ScrollArea\n\t\t\t\t\t\tspeed={0.8}\n\t\t\t\t\t\tclassName=\"home-section-body\"\n\t\t\t\t\t\tcontentClassName=\"content\"\n\t\t\t\t\t\thorizontal={false}\n\t\t\t\t\t\tsmoothScrolling={true}\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t{Object.keys(this.state.selectors).map((selector_id) => {\n\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t<Selector\n\t\t\t\t\t\t\t\t\t\tconfig={this.state.selectors[selector_id]}\n\t\t\t\t\t\t\t\t\t\tremove_selector={this.remove_selector}\n\t\t\t\t\t\t\t\t\t\tadd_tag={this.add_tag}\n\t\t\t\t\t\t\t\t\t\tadd_attribute={this.add_attribute}\n\t\t\t\t\t\t\t\t\t\tedit_selector={this.edit_selector}\n\t\t\t\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\n\t\t\t\t\t\t\t<div className=\"home-selector-container\">\n\t\t\t\t\t\t\t\t<div className=\"home-selector-input-container\">\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tlabel=\"CSS Selector\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tdisableUnderline={true}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"My Awesome CSS selector\"\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.add_selector_field}\n\t\t\t\t\t\t\t\t\t\tonChange={(event) => this.setState({add_selector_field: event.target.value})}\n\t\t\t\t\t\t\t\t\t\tonKeyDown={(e) => {if (e.key === 'Enter') this.add_selector()}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<i className=\"home-selector-icon material-icons\" onClick={this.add_selector}>add</i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t</React.Fragment>\n\n\t\t\t\t\t</ScrollArea>\n\t\t\t\t</Paper>\n\n\t\t\t\t<Dialog\n\t\t\t\t\topen={this.state.display_save_dialog}\n\t\t\t\t\tonClose={() => this.setState({display_save_dialog: false})}\n\t\t\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\t\t\taria-describedby=\"alert-dialog-description\"\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle id=\"alert-dialog-title\">Save Selector Set</DialogTitle>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<DialogContentText id=\"alert-dialog-description\">\n\t\t\t\t\t\t\tGive your selector set a name. It should have a name that reminds you of the website and type of page you're parsing.\n\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tstyle={{marginTop: 10, marginBottom: 10 }}\n\t\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\t\tid=\"outlined-basic\"\n\t\t\t\t\t\t\tlabel=\"Selecto Set Name\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tvalue={this.state.new_selector_set_name}\n\t\t\t\t\t\t\tonChange={(event) => this.setState({new_selector_set_name: event.target.value})}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={() => this.setState({display_save_dialog: false})} color=\"secondary\" variant=\"contained\">CANCEL</Button>\n\t\t\t\t\t\t<Button onClick={this.save} color=\"primary\" variant=\"contained\">SAVE</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Dialog>\n\n\t\t\t\t<Dialog onClose={() => this.setState({display_load_dialog: false})} aria-labelledby=\"simple-dialog-title\" open={this.state.display_load_dialog}>\n\t\t\t\t\t<DialogTitle id=\"simple-dialog-title\">Load Selector Set</DialogTitle>\n\t\t\t\t\t{this.state.is_selector_set_loading &&\n\t\t\t\t\t\t<div className=\"home-load-dialog-progress-container\">\n\t\t\t\t\t\t\t<CircularProgress />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t\t{!this.state.is_selector_set_loading &&\n\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t{this.state.available_selector_sets.map((selector_set) => {\n\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t<ListItem className=\"home-load-dialog-item\">\n\t\t\t\t\t\t\t\t\t\t<ListItemText onClick={() => this.load(selector_set.selectors_json)} primary={selector_set.set_name} />\n\t\t\t\t\t\t\t\t\t\t<ListItemAvatar onClick={() => this.delete(selector_set.hash_id)} className=\"home-load-dialog-delete-button\">\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">delete</i>\n\t\t\t\t\t\t\t\t\t\t</ListItemAvatar>\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</List>\n\t\t\t\t\t}\n\t\t\t\t</Dialog>\n\n\t\t\t\t<Snackbar message={this.state.snackbar_message} open={this.state.snackbar_open} autoHideDuration={5000} onClose={() => this.setState({snackbar_open: false})} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tcrawl_selectors: state.GlobalReducer.crawl_selectors,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)\n\n\n\n\n\n\n\n\n\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Redirect } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport update from 'react-addons-update';\nimport uniqid from 'uniqid';\nimport validate from 'validate.js';\nimport ReactTooltip from 'react-tooltip'\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/Urls.css';\n\n// Get the first N keys of a dict\nfunction firstN(obj, n) {\n\treturn Object.keys(obj) //get the keys out\n\t\t.sort() //this will ensure consistent ordering of what you will get back. If you want something in non-aphabetical order, you will need to supply a custom sorting function\n\t\t.slice(0, n) //get the first N\n\t\t.reduce(function(memo, current) { //generate a new object out of them\n\t\t\tmemo[current] = obj[current]\n\t\t\treturn memo;\n\t}, {})\n}\n\n\nfunction url_dict_to_string(url_dict){\n\tlet urls_string = ''\n\n\tvar url_ids = Object.keys(url_dict);\n\tfor (var i = url_ids.length - 1; i >= 0; i--) {\n\t\tlet url_id = url_ids[i]\n\n\t\turls_string = urls_string + url_dict[url_id].url + '\\n'\n\t}\n\n\treturn urls_string\n}\n\n\nclass Home extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// Reset the URLs status to in_queue\n\n\t\tlet urls = Object.assign({}, this.props.full_list_urls);\n\t\tlet url_ids = Object.keys(urls)\n\t\tfor (var i = url_ids.length - 1; i >= 0; i--) {\n\t\t\tlet url_id = url_ids[i]\n\t\t\turls[url_id].status = 'in_queue'\n\t\t}\n\n\t\tthis.state = {\n\t\t\tadd_selector_field: '',\n\t\t\turls: urls,\n\t\t\tscraper_settings: this.props.scraper_settings,\n\t\t}\n\n\t\tthis.url_list_changed = this.url_list_changed.bind(this);\n\t\tthis.run = this.run.bind(this);\n\t\tthis.use_proxy_changed = this.use_proxy_changed.bind(this);\n\t}\n\n\turl_list_changed(event){\n\t\tlet new_urls = Object.assign({}, {});\n\n\t\tlet urls = event.target.value.split('\\n')\n\t\tlet url_id = uniqid();\n\t\tfor (var i = urls.length - 1; i >= 0; i--) {\n\t\t\turl_id = uniqid();\n\t\t\tnew_urls[url_id] = {url: urls[i], url_id: url_id, 'status': 'in_queue', page_source: false, response_code: false}\n\t\t}\n\n\t\tthis.props.actions.set_full_list_urls(new_urls)\n\n\t\t// eslint-disable-next-line\n\t\tthis.state.urls = new_urls;\n\t}\n\n\trun(full_list){\n\t\tlet urls = Object.assign({}, this.state.urls);\n\n\t\t// Delete URLs that don't have a valid format\n\t\t// eslint-disable-next-line\n\t\tfor (var i = Object.keys(urls).length - 1; i >= 0; i--) {\n\t\t\tlet current_url_id = Object.keys(urls)[i];\n\t\t\tlet url_checker = validate({website: urls[current_url_id]['url'].trim()}, {website: {url: true}});\n\t\t\tif (url_checker !== undefined) {\n\t\t\t\tdelete urls[current_url_id]\n\t\t\t}\n\t\t}\n\n\t\t// eslint-disable-next-line\n\t\tfor (var i = urls.length - 1; i >= 0; i--) {\n\t\t\tlet url_checker = validate({website: urls[i]}, {website: {url: true}});\n\t\t\tif (url_checker !== undefined) {\n\t\t\t\turls.splice(i, 1);\n\t\t\t}\n\t\t}\n\n\t\tif (Object.keys(urls).length === 0) {\n\t\t\tthis.setState({snackbar_message: 'No proper URLs found'})\n\t\t\tthis.setState({snackbar_open: true})\n\t\t\treturn\n\t\t}\n\n\t\tif (!full_list && Object.keys(urls).length > 3) {\n\t\t\turls = firstN(urls, 3)\n\t\t}\n\n\t\tthis.props.actions.set_crawl_urls(urls)\n\t\t\n\t\tthis.setState({redirect: \"/progress/\"})\n\t}\n\n\tuse_proxy_changed(event, is_checked){\n\t\tconst new_state = update(this.state, {\n\t\t\tscraper_settings: {use_proxy: {$set: is_checked}},\n\t\t});\n\t\tthis.props.actions.set_scraper_settings(new_state.scraper_settings)\n\t\tthis.setState(new_state)\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"urls-main-container\">\n\t\t\t\t<ReactTooltip />\n\t\t\t\t<Paper className=\"urls-section\">\n\t\t\t\t\t<div className=\"urls-section-header\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"urls-section-header-title\">\n\t\t\t\t\t\t\t\tURLs to scrape\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"urls-section-header-subtitle\">\n\t\t\t\t\t\t\t\tURL list here - One per line\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Button className=\"urls-run-sample-button\" variant=\"contained\" color=\"secondary\" onClick={() => this.setState({redirect: \"/\"})}>BACK</Button>\n\t\t\t\t\t\t\t<Button className=\"urls-run-sample-button\" variant=\"contained\" color=\"secondary\" data-tip=\"Run a sample of 3 URLs only\" onClick={() => this.run(false)}>RUN SAMPLE</Button>\n\t\t\t\t\t\t\t<Button className=\"urls-run-button\" variant=\"contained\" color=\"primary\" onClick={() => this.run(true)}>RUN</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"urls-section-body\">\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tid=\"outlined-dense-multiline\"\n\t\t\t\t\t\t\tlabel=\"URL List\"\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tdefaultValue={url_dict_to_string(this.state.urls)}\n\t\t\t\t\t\t\tonChange={this.url_list_changed}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Paper>\n\n\t\t\t\t<Paper className=\"urls-section\">\n\t\t\t\t\t<div className=\"urls-section-header\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"urls-section-header-title\">\n\t\t\t\t\t\t\t\tScraper options\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"urls-section-header-subtitle\">\n\t\t\t\t\t\t\t\tThe settings to use when requesting the listed URLs.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"urls-section-body\">\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tchecked={this.state.scraper_settings.use_proxy}\n\t\t\t\t\t\t\t\tonChange={this.use_proxy_changed}\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span>Use proxies on every request</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Paper>\n\n\n\t\t\t\t<Snackbar message={this.state.snackbar_message} open={this.state.snackbar_open} onClose={() => this.setState({snackbar_open: false})} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tfull_list_urls: state.GlobalReducer.full_list_urls,\n\t\tscraper_settings: state.GlobalReducer.scraper_settings,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)\n\n\n\n\n\n\n\n\n\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Redirect } from 'react-router-dom';\nimport $ from \"jquery\";\nimport uniqid from 'uniqid';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Paper from '@material-ui/core/Paper';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/Progress.css';\n\n// Constants import\nimport * as constants from '../constants.js'\n\nclass Progress extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\turls: this.props.crawl_urls,\n\t\t\tin_queue_counter: 0,\n\t\t\tinitial_queue_size: 0,\n\t\t\tredirect: false,\n\t\t\tmatches: {}\n\t\t}\n\n\t\tthis.crawl = this.crawl.bind(this);\n\t\tthis.crawl_next = this.crawl_next.bind(this);\n\t\tthis.count_in_queue = this.count_in_queue.bind(this);\n\t\tthis.update_queue = this.update_queue.bind(this);\n\t\tthis.crawl_finished = this.crawl_finished.bind(this);\n\n\t\tthis.state.initial_queue_size = this.count_in_queue();\n\t\tthis.crawl_next();\n\t\tthis.state.in_queue_counter = this.count_in_queue() + 1;\n\t}\n\n\tcrawl_next(){\n\t\tlet urls = Object.assign({}, this.state.urls);\n\t\tfor (var i = 0; i < Object.keys(urls).length; i++) {\n\t\t\tlet current_url_id = Object.keys(urls)[i];\n\t\t\tlet current_url = urls[current_url_id];\n\t\t\tif (current_url.status === 'in_queue') {\n\t\t\t\turls[current_url_id].status = 'scraping'\n\t\t\t\tthis.setState({urls: urls})\n\t\t\t\tthis.update_queue();\n\t\t\t\tthis.crawl(current_url)\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\tthis.crawl_finished()\n\t\treturn\n\t}\n\n\tcrawl(url){\n\t\tvar selector_ids = Object.keys(this.props.crawl_selectors);\n\n\t\t// Create an empty dict for the current URL being crawler\n\t\t// eslint-disable-next-line\n\t\tthis.state.matches[url.url_id] = {}\n\n\t\t// Now, for each one of the selector IDs, let's create an empty array with the selector id as the key.\n\t\t// They will later be replaces with the matches if we find any.\n\t\tfor (var i = selector_ids.length - 1; i >= 0; i--) {\n\t\t\tlet selector_id = selector_ids[i];\n\t\t\t// eslint-disable-next-line\n\t\t\tthis.state.matches[url.url_id][selector_id] = []\n\t\t}\n\n\t\t$.ajax({\n\t\t\tcontext: this,\n\t\t\turl: constants.scraper_endpoint,\n\t\t\ttype: 'get',\n\t\t\tdata: {\n\t\t\t\turl: url.url,\n\t\t\t\tselectors: this.props.crawl_selectors,\n\t\t\t\tsettings: this.props.scraper_settings\n\t\t\t},\n\t\t\tsuccess: function(data) {\n\t\t\t\t// eslint-disable-next-line\n\t\t\t\tthis.state.matches[url.url_id] = Object.assign(this.state.matches[url.url_id], data.matches);\n\n\t\t\t\tlet urls = Object.assign({}, this.state.urls);\n\t\t\t\turls[url.url_id].status = data.status\n\t\t\t\turls[url.url_id].page_source = data.page_source\n\t\t\t\turls[url.url_id].response_code = data.response_code\n\t\t\t\tthis.setState({urls: urls})\n\t\t\t\tthis.crawl_next();\n\t\t\t},\n\t\t\terror: function(data) {\n\t\t\t\tlet urls = Object.assign({}, this.state.urls);\n\t\t\t\turls[url.url_id].status = 'error'\n\t\t\t\tthis.setState({urls: urls})\n\t\t\t\tthis.crawl_next();\n\t\t\t},\n\t\t\tcomplete: function(XHR, status){\n\t\t\t\tthis.update_queue();\n\t\t\t},\n\t\t\ttimeout: 120000\n\t\t});\n\t}\n\n\tcount_in_queue(){\n\t\tlet counter = 0;\n\t\tfor (var i = Object.keys(this.state.urls).length - 1; i >= 0; i--) {\n\t\t\tlet current_url_id = Object.keys(this.state.urls)[i];\n\t\t\tlet current_url = this.state.urls[current_url_id];\n\t\t\tif (current_url.status === 'in_queue') {\n\t\t\t\tcounter = counter + 1\n\t\t\t}\n\t\t}\n\t\treturn counter\n\t}\n\n\tupdate_queue(){\n\t\tlet counter = this.count_in_queue();\n\t\tthis.setState({in_queue_counter: counter + 1});\n\t}\n\n\tcrawl_finished(){\n\t\tthis.props.actions.set_crawl_urls(this.state.urls)\n\t\tthis.props.actions.set_partial_results(this.state.matches);\n\t\tthis.setState({redirect: \"/partial-results/\"})\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"progress-main-container\">\n\t\t\t\t<Paper className=\"progress-section\">\n\t\t\t\t\t<div className=\"progress-section-header\">\n\t\t\t\t\t\t<div className=\"progress-section-header-title\">Now running...</div>\n\t\t\t\t\t\t<Button className=\"home-run-button\" variant=\"contained\" color=\"secondary\" onClick={() => this.setState({redirect: \"/urls/\"}) }>CANCEL</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<LinearProgress className=\"progress-loading-bar\" variant=\"determinate\" value={100*((this.state.initial_queue_size - this.state.in_queue_counter)/this.state.initial_queue_size)} />\n\t\t\t\t\t<div className=\"progress-section-progress-legend\">{this.state.initial_queue_size - this.state.in_queue_counter}/{this.state.initial_queue_size} urls processed</div>\n\t\t\t\t</Paper>\n\t\t\t\t<Paper className=\"progress-section\">\n\t\t\t\t\t<div className=\"progress-section-header-title\">Crawl Results</div>\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<div className=\"progress-section-url-container\">\n\t\t\t\t\t\t\t{Object.keys(this.state.urls).map((url_id) => {\n\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t<React.Fragment key={uniqid()}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"progress-item\" key={uniqid()}>\n\t\t\t\t\t\t\t\t\t\t\t<div key={uniqid()} className=\"progress-item-url\">{this.state.urls[url_id].url}</div>\n\t\t\t\t\t\t\t\t\t\t\t<div key={uniqid()} className=\"progress-item-status\">{this.state.urls[url_id].status}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<Divider key={uniqid()} />\n\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</React.Fragment>\n\n\t\t\t\t</Paper>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tcrawl_urls: state.GlobalReducer.crawl_urls,\n\t\tcrawl_selectors: state.GlobalReducer.crawl_selectors,\n\t\tscraper_settings: state.GlobalReducer.scraper_settings,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(Progress)\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Redirect } from 'react-router-dom';\nimport { Table } from 'semantic-ui-react'\nimport uniqid from 'uniqid';\nimport { parse } from 'node-html-parser';\nimport EllipsisText from 'react-ellipsis-text';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { CSVLink } from \"react-csv\";\nimport posed from 'react-pose';\nimport ReactJson from 'react-json-view'\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/PartialResults.css';\n\nfunction get_data_from_tag(tag, attr){\n\tif (attr === 'innerText') {\n\t\treturn tag.structuredText\n\t}\n\n\tvar result = tag.getAttribute(attr);\n\tif (result == null){\n    \treturn ''\n\t}\n\n\treturn result\n\n}\n\nfunction get_content(urls, selectors){\n\tlet matches = {}\n\n\t// Now let's iterate over each url scraped\n\tfor (var i = Object.keys(urls).length - 1; i >= 0; i--) {\n\t\tlet url_id = Object.keys(urls)[i];\n\t\tlet url = urls[url_id];\n\n\t\t// Now let's create an empty entry for each one of the URLs, this entry will later be filled with the selectors results\n\t\tmatches[url_id] = {}\n\n\t\t// We should only parse URLs that were successfully scraped\n\t\tif (url.status === \"success\") {\n\n\t\t\t// Now create a soup from the raw page source code\n\t\t\tlet soup = parse(url.page_source);\n\n\t\t\t// Now let's find the elements of interest withing the soup using the user's CSS selectors\n\t\t\tfor (var j = Object.keys(selectors).length - 1; j >= 0; j--) {\n\t\t\t\tlet selector_id = Object.keys(selectors)[j];\n\t\t\t\tlet selector = selectors[selector_id];\n\n\t\t\t\t// Now get the target element from the soup\n\t\t\t\tlet tag = soup.querySelector(selector.css_selector);\n\t\t\t\tlet tags = soup.querySelectorAll(selector.css_selector);\n\n\t\t\t\t// Check if the element was found, if it is then, get the inner text,\n\t\t\t\t// otherwise just assign false to the result array\n\t\t\t\tif (tag !== null) {\n\t\t\t\t\tif (tags.length > 1) {\n\t\t\t\t\t\tlet text = {\n\t\t\t\t\t\t\t'data_type': 'json',\n\t\t\t\t\t\t\tmatches: []\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet outerHTML = {\n\t\t\t\t\t\t\t'data_type': 'json',\n\t\t\t\t\t\t\tmatches: []\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (var k = tags.length - 1; k >= 0; k--) {\n\t\t\t\t\t\t\tlet unitary_tag = tags[k];\n\t\t\t\t\t\t\ttext.matches.push(get_data_from_tag(unitary_tag, selector.attr))\n\t\t\t\t\t\t\touterHTML.matches.push(unitary_tag.outerHTML)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatches[url_id][selector_id] = {data_type: 'json', text: JSON.stringify(text), html: JSON.stringify(outerHTML)}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tmatches[url_id][selector_id] = {data_type: 'single', text: get_data_from_tag(tag, selector.attr), html: tag.outerHTML}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tmatches[url_id][selector_id] = false\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\t// If the page surce wasn't scraped successfuly, then simply assign false to every selector\n\t\t\t// eslint-disable-next-line\n\t\t\tfor (var j = Object.keys(selectors).length - 1; j >= 0; j--) {\n\t\t\t\tlet selector_id = Object.keys(selectors)[j];\n\t\t\t\tmatches[url_id][selector_id] = false\n\t\t\t}\n\t\t}\n\n\t}\n\n\treturn matches\n}\n\nfunction generate_csv_from_matches(urls, selectors, matches){\n\tlet csv_export_array = [];\n\n\tlet selector_titles = [];\n\tfor (var j = 0; j < Object.keys(selectors).length; j++) {\n\t\tlet selector_id = Object.keys(selectors)[j];\n\t\tlet selector = selectors[selector_id];\n\t\tselector_titles.push(selector.tag.title ? selector.tag.title : 'Post Process')\n\t}\t\n\n\tlet header = ['URL', 'Status', 'Response Code', ...selector_titles];\n\tcsv_export_array.push(header)\n\n\tfor (var i = 0; i < Object.keys(urls).length; i++) {\n\t\tlet current_row = []\n\t\tlet url_id = Object.keys(urls)[i];\n\t\tlet url = urls[url_id];\n\t\tcurrent_row.push(url.url)\n\t\tcurrent_row.push(url.status ? url.status : '')\n\t\tcurrent_row.push(url.response_code)\n\n\t\t// eslint-disable-next-line\n\t\tfor (var j = 0; j < Object.keys(selectors).length; j++) {\n\t\t\tlet selector_id = Object.keys(selectors)[j];\n\n\t\t\tif (matches[url_id][selector_id].length === 0) {\n\t\t\t\tcurrent_row.push('');\n\n\t\t\t} else if (matches[url_id][selector_id].length === 1) {\n\t\t\t\tif (matches[url_id][selector_id][0].text !== null) {\n\t\t\t\t\tcurrent_row.push(matches[url_id][selector_id][0].text.replace(/(\\r\\n|\\n|\\r)/gm, \" \"));\n\t\t\t\t}else{\n\t\t\t\t\tcurrent_row.push('');\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tcurrent_row.push(JSON.stringify(matches[url_id][selector_id]).replace(/(\\r\\n|\\n|\\r)/gm, \" \"));\n\t\t\t}\n\n\t\t}\n\n\t\tcsv_export_array.push(current_row)\n\t}\n\n\treturn csv_export_array\n}\n\n\nconst PosedCell = posed.div({\n\tpressable: true,\n\tinit: { scale: 1 },\n\tpress: { scale: 0.98 }\n});\n\n\nclass PartialResults extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tlet matches = get_content(this.props.crawl_urls, this.props.crawl_selectors)\n\n\t\tthis.state = {\n\t\t\tmatches: matches,\n\t\t\tredirect: false,\n\t\t\topen_dialog: false,\n\t\t\tdialog_json: [],\n\t\t\tdialog_url: '',\n\t\t}\n\n\t\tthis.use_result_as_urls = this.use_result_as_urls.bind(this);\n\t}\n\n\tuse_result_as_urls(){\n\t\t// Get base URL (without path) to use with relative paths down the line\n\t\tconst url = document.createElement('a');\n\t\turl.setAttribute('href', this.state.dialog_url);\n\t\tlet base_url = url.protocol + '//' + url.hostname;\n\t\tif (url.port.length > 0) {\n\t\t\tbase_url = base_url + ':' + url.port\n\t\t}\n\n\t\t// Create a regex pattern to test for absolute URLs\n\t\tvar regex_pattern = new RegExp('^(?:[a-z]+:)?//', 'i');\n\n\t\tvar urls_to_crawl = {};\n\t\tfor (var i = this.state.dialog_json.length - 1; i >= 0; i--) {\n\t\t\tlet scraped_url = this.state.dialog_json[i].text.trim();\n\t\t\tlet is_absolute_url = regex_pattern.test(scraped_url)\n\n\t\t\tif (is_absolute_url) {\n\t\t\t\tlet new_url_id = uniqid();\n\t\t\t\turls_to_crawl[new_url_id] = {\n\t\t\t\t\turl: scraped_url,\n\t\t\t\t\turl_id: new_url_id,\n\t\t\t\t\t'status': 'in_queue',\n\t\t\t\t\tpage_source: false,\n\t\t\t\t\tresponse_code: false\n\t\t\t\t}\n\n\t\t\t}else{\n\t\t\t\tlet new_url_id = uniqid();\n\t\t\t\turls_to_crawl[new_url_id] = {\n\t\t\t\t\turl: base_url + scraped_url,\n\t\t\t\t\turl_id: new_url_id,\n\t\t\t\t\t'status': 'in_queue',\n\t\t\t\t\tpage_source: false,\n\t\t\t\t\tresponse_code: false\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.setState({open_dialog: false});\n\t\tthis.props.actions.set_full_list_urls(urls_to_crawl);\n\t\tthis.setState({redirect: '/'});\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\t\n\t\treturn (\n\t\t\t<div className=\"partial-main-container\">\n\t\t\t\t<Paper className=\"partial-section\">\n\t\t\t\t\t<div className=\"partial-section-header\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"partial-section-header-title\">\n\t\t\t\t\t\t\t\tPartial Results\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"partial-section-header-subtitle\">\n\t\t\t\t\t\t\t\tData parsed using the scraper results before post processing\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button className=\"post-process-previous-button\" variant=\"contained\" color=\"secondary\" onClick={() => this.setState({redirect: '/urls/'})}>BACK</Button>\n\t\t\t\t\t\t\t<CSVLink separator={\"|\"} enclosingCharacter={`\"`} filename={\"pipe-separated-partial-data.csv\"} data={generate_csv_from_matches(this.props.crawl_urls, this.props.crawl_selectors, this.props.partial_results)}>\n\t\t\t\t\t\t\t\t<Button className=\"partial-download-button\" variant=\"contained\" color=\"secondary\">DOWNLOAD</Button>\n\t\t\t\t\t\t\t</CSVLink>\n\t\t\t\t\t\t\t<Button className=\"partial-postprocess-button\" variant=\"contained\" color=\"primary\" onClick={() => {this.setState({redirect: \"/post-process/\"})}}>Post Process</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"partial-section-body\">\n\t\t\t\t\t\t<div className=\"table-container\">\n\t\t\t\t\t\t\t<Table collapsing celled>\n\t\t\t\t\t\t\t\t<Table.Header>\n\t\t\t\t\t\t\t\t\t<Table.Row>\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>URL</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t{Object.keys(this.props.crawl_selectors).map((selector_id) => {\n\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>{this.props.crawl_selectors[selector_id].tag.title ? this.props.crawl_selectors[selector_id].tag.title : 'Post Process' }</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Status</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Response Code</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t\t\t</Table.Header>\n\t\t\t\t\t\t\t\t<Table.Body>\n\t\t\t\t\t\t\t\t\t{Object.keys(this.props.crawl_urls).map((url_id) => {\n\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t<Table.Row key={uniqid()}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].url}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].url} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t{Object.keys(this.props.crawl_selectors).map((selector_id) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.partial_results[url_id][selector_id].length === 1 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={ this.props.partial_results[url_id][selector_id][0].text }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext={ this.props.partial_results[url_id][selector_id][0].text === null ? '' : this.props.partial_results[url_id][selector_id][0].text }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlength={\"70\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.partial_results[url_id][selector_id].length > 1 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"partial-multiple-found\" onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({dialog_json: this.props.partial_results[url_id][selector_id]});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.dialog_url = this.props.crawl_urls[url_id].url;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({open_dialog: true});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tMultiple Found\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].status}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].status} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\t\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].response_code.toString()}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].response_code.toString()} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Table.Body>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Paper>\n\n\n\t\t\t\t<Dialog\n\t\t\t\t\topen={this.state.open_dialog}\n\t\t\t\t\tonClose={() => this.setState({open_dialog: false})}\n\t\t\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\t\t\taria-describedby=\"alert-dialog-description\"\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle id=\"alert-dialog-title\">Your selector returned multiple elements</DialogTitle>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<DialogContentText id=\"alert-dialog-description\">\n\t\t\t\t\t\t\t<ReactJson collapsed={true} src={this.state.dialog_json} />\n\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={() => this.setState({open_dialog: false})}>CLOSE</Button>\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={this.use_result_as_urls}>USE AS URLS</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Dialog>\n\t\t\t</div>\n\n\t\t);\n\t}\n}\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tcrawl_urls: state.GlobalReducer.crawl_urls,\n\t\tcrawl_selectors: state.GlobalReducer.crawl_selectors,\n\t\tpartial_results: state.GlobalReducer.partial_results,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(PartialResults)","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport Input from '@material-ui/core/Input';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { Redirect } from 'react-router-dom';\nimport Popover from 'react-text-selection-popover';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport ScrollArea from 'react-scrollbar';\nimport uniqid from 'uniqid';\nimport ReactShortcut from 'react-shortcut';\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/PostProcess.css';\n\n// Constants import\nimport * as constants from '../constants.js'\n\n\nclass NewMatch extends React.Component {\n\t// constructor(props) {\n\t// \tsuper(props);\n\t// }\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className=\"post-process-selector-container\">\n\t\t\t\t\t<div className=\"post-process-selector-input-container\">\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tlabel=\"Dense multiline\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tdisableUnderline={true}\n\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\tdefaultValue={this.props.match.text}\n\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t// this.props.edit_selector(this.props.config.selector_id, event.target.value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span style={{backgroundColor: this.props.match.tag.color}} className=\"post-process-tag-indicator\">{this.props.match.tag.title}</span>\n\t\t\t\t\t<CopyToClipboard text={this.props.match.text}>\n\t\t\t\t\t\t<i className=\"post-process-selector-icon material-icons\">flip_to_front</i>\n\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t<i className=\"post-process-selector-icon material-icons\" onClick={() => this.props.parent.remove_match(this.props.match.tag.tag_id)}>close</i>\n\t\t\t\t</div>\n\t\t\t\t<Divider />\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n\n\nvar popover_timer = window.setTimeout(() => {}, 1);\n\nclass PostProcessPopovoer extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tis_open: false,\n\t\t\tclose_timeout: false,\n\t\t\tcurrent_selection: ''\n\t\t}\n\n\t\tthis.popover_close = this.popover_close.bind(this);\n\t\tthis.popover_open = this.popover_open.bind(this);\n\t}\n\n\tpopover_open(){\n\t\tlet selection = window.getSelection().toString()\n\t\t// eslint-disable-next-line\n\t\tthis.props.parent.state.current_selection = selection;\n\n\t\twindow.clearTimeout(popover_timer);\n\t\tthis.setState({ is_open: true })\n\t}\n\n\tpopover_close(){\n\t\twindow.clearTimeout(popover_timer);\n\t\tpopover_timer = window.setTimeout(() => {\n\t\t\tthis.setState({ is_open: false });\n\t\t\t// eslint-disable-next-line\n\t\t\tthis.props.parent.state.current_selection = '';\n\t\t}, 400);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{this.props.children}\n\t\t\t\t<Popover\n\t\t\t\t\tselectionRef={this.props.ref_element}\n\t\t\t\t\tisOpen={this.state.is_open}\n\t\t\t\t\tonTextSelect={this.popover_open}\n\t\t\t\t\tonTextUnselect={this.popover_close}\n\t\t\t\t>\n\t\t\t\t\t{/*\n\t\t\t\t\t<div className=\"post-process-popover-content\">\n\t\t\t\t\t\t{constants.tag_options.map((tag) => \n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"post-process-popover-tag\"\n\t\t\t\t\t\t\t\tonClick={() => { this.props.parent.add_match(tag) }} \n\t\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"post-process-popover-tag-color\" style={{backgroundColor: tag.color}} key={uniqid()}></div>\n\t\t\t\t\t\t\t\t<div className=\"post-process-popover-tag-title\" key={uniqid()}>{tag.title}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t*/}\n\t\t\t\t</Popover>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n\nfunction prepare_post_process_array(urls, selectors, matches){\n\tvar to_post_process_array = [];\n\n\t// Now let's create an array with all the elements that should be post processed\n\tfor (var i = 0; i < Object.keys(urls).length; i++) {\n\t\tlet url_id = Object.keys(urls)[i];\n\t\tlet url = urls[url_id];\n\n\t\t// Check if the crawl was a success, ignore otherwise\n\t\tif (url.status === 'success') {\n\n\t\t\t// eslint-disable-next-line\n\t\t\tfor (var j = 0; j < Object.keys(selectors).length; j++) {\n\n\t\t\t\tlet selector_id = Object.keys(selectors)[j];\n\t\t\t\tlet selector = selectors[selector_id];\n\n\t\t\t\t// Check if the tag for the selector is false, that's the signal that the selctor has no defined tag and should rather be post-processed\n\t\t\t\t// Also check if the post process tag was found in the page source code\n\n\t\t\t\tif (selector.tag === false) {\n\t\t\t\t\tfor (var k = matches[url_id][selector_id].length - 1; k >= 0; k--) {\n\t\t\t\t\t\t// If it was, then append the match to be post processed\n\t\t\t\t\t\tto_post_process_array.push({\n\t\t\t\t\t\t\tmatch: matches[url_id][selector_id][k],\n\t\t\t\t\t\t\tselector: selector,\n\t\t\t\t\t\t\turl: url,\n\t\t\t\t\t\t\tpost_processed: {}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to_post_process_array;\n}\n\nfunction prepare_final_resuts(urls, selectors, matches, post_processed){\n\t// Now let's create an array with all possible tag IDs to use as the columns for our export\n\tvar all_tags = [];\n\t\n\t// Now push to the all_tags array all the non-post-process tags\n\tfor (var i = 0; i < Object.keys(selectors).length; i++) {\n\t\tlet selector_id = Object.keys(selectors)[i];\n\t\tlet selector = selectors[selector_id];\n\t\tif (selector.tag) {\n\t\t\tall_tags.push(selector.tag.tag_id)\n\t\t}\n\t}\n\n\t// Now push to the all_tags array all tags created during post-process\n\t// eslint-disable-next-line\n\tfor (var i = post_processed.length - 1; i >= 0; i--) {\n\t\tfor (var j = 0; j < Object.keys(post_processed[i].post_processed).length; j++) {\n\t\t\tlet match_id = Object.keys(post_processed[i].post_processed)[j];\n\t\t\tlet match = post_processed[i].post_processed[match_id];\n\t\t\tall_tags.push(match.tag.tag_id)\n\t\t}\n\t}\n\n\t// This is the object that will contain all the results extracted so far\n\t// It will be a two-dimensional array with url ids in the first dimension and tag ids in the second\n\tvar results = {};\n\n\t// Now let's fill the results array with false for all possible tags, we will later fill this object with the actual results\n\t// eslint-disable-next-line\n\tfor (var i = 0; i < Object.keys(urls).length; i++) {\n\t\tlet url_id = Object.keys(urls)[i];\n\t\tlet url = urls[url_id];\n\t\t\n\t\t// Check if the crawl was a success, ignore otherwise\n\t\tif (url.status === 'success') {\n\t\t\t\n\t\t\t// create the url key\n\t\t\tresults[url.url_id] = {}\n\n\t\t\t// Now fill the url key with all possible tags, but with empty value for each\n\t\t\t// eslint-disable-next-line\n\t\t\tfor (var j = all_tags.length - 1; j >= 0; j--) {\n\t\t\t\tlet current_tag = all_tags[j];\n\t\t\t\tresults[url.url_id][current_tag] = []\n\t\t\t}\n\t\t}\n\t}\n\n\t// Now let's fill the result array with the non post-process results\n\t// eslint-disable-next-line\n\tfor (var i = 0; i < Object.keys(matches).length; i++) {\n\t\tlet url_id = Object.keys(matches)[i];\n\t\tlet selector_ids = matches[url_id];\n\n\t\t// eslint-disable-next-line\n\t\tfor (var j = 0; j < Object.keys(selector_ids).length; j++) {\n\t\t\tlet selector_id = Object.keys(selector_ids)[j];\n\t\t\tlet selector = selectors[selector_id];\n\t\t\tlet result = selector_ids[selector_id];\n\t\t\tlet tag = selector.tag;\n\n\t\t\t// If tag equals false, that means this selector should be post-processed and thus the resuls were already included in the previous loop\n\t\t\t// So we only have to add the resuls where the tag actually has a tag dict assigned to it\n\t\t\tif (tag) {\n\t\t\t\tresults[url_id][tag.tag_id] = result\n\t\t\t}\n\t\t}\n\t}\n\n\t// Now let's fill the result array with the post-process results\n\t// eslint-disable-next-line\n\tfor (var i = post_processed.length - 1; i >= 0; i--) {\n\t\tlet url_id = post_processed[i].url.url_id;\n\t\tlet post_processed_tags = post_processed[i].post_processed;\n\n\t\t// eslint-disable-next-line\n\t\tfor (var j = 0; j < Object.keys(post_processed_tags).length; j++) {\n\t\t\tlet post_procced_tag_id = Object.keys(post_processed_tags)[j];\n\t\t\tlet post_procced_tag = post_processed_tags[post_procced_tag_id]\n\n\t\t\tresults[url_id][post_procced_tag.tag.tag_id] = [{text: post_procced_tag.text, html: post_procced_tag.text}]\n\n\t\t\t// results[url_id][post_procced_tag.tag.tag_id] = post_procced_tag.text;\n\t\t}\n\t}\n\n\treturn(results)\n}\n\nfunction get_tag(tag_id){\n\tfor (var i = constants.tag_options.length - 1; i >= 0; i--) {\n\t\tif (constants.tag_options[i].tag_id === tag_id) {\n\t\t\treturn constants.tag_options[i]\n\t\t}\n\t}\n\treturn false\n}\n\nclass PostProcess extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.ref_text = React.createRef()\n\t\tthis.ref_html = React.createRef()\n\t\t\n\t\t// eslint-disable-next-line\n\t\tvar to_post_process_array = prepare_post_process_array(this.props.crawl_urls, this.props.crawl_selectors, this.props.partial_results);\n\n\t\tthis.state = {\n\t\t\tcurrent_match_index: 0,\n\t\t\tto_post_process_array: to_post_process_array,\n\t\t\tcurrent_selection: '',\n\t\t\tredirect: false,\n\t\t\tcurrent_tag_type: '',\n\t\t\trender_divider: false,\n\t\t\tsnackbar_open: false,\n\t\t\tsnackbar_message: '',\n\t\t}\n\n\t\tthis.add_regex_match = this.add_regex_match.bind(this);\n\t\tthis.add_match = this.add_match.bind(this);\n\t\tthis.remove_match = this.remove_match.bind(this);\n\t\tthis.clear_matches = this.clear_matches.bind(this);\n\t\tthis.finish_post_process = this.finish_post_process.bind(this);\n\t\tthis.next = this.next.bind(this);\n\t\tthis.previous = this.previous.bind(this);\n\n\t\tif (this.state.to_post_process_array.length === 0 ) {\n\t\t\tlet results = prepare_final_resuts(this.props.crawl_urls, this.props.crawl_selectors, this.props.partial_results, this.state.to_post_process_array);\n\t\t\tthis.props.actions.set_final_results(results);\n\t\t\tthis.state.redirect = '/final-results/';\n\t\t}\n\t}\n\n\tadd_match(tag){\n\t\t// Create a copy of the current to_post_process_array\n\t\tvar new_to_post_process_array = this.state.to_post_process_array.slice();\n\n\t\tnew_to_post_process_array[this.state.current_match_index].post_processed[tag.tag_id] = {text: this.state.current_selection, html: this.state.current_selection, tag: tag}\n\t\tthis.setState({to_post_process_array: new_to_post_process_array});\n\t}\n\n\tadd_regex_match(regex){\n\t\tlet current_text = this.state.to_post_process_array[this.state.current_match_index].match.text;\n\t\tlet regex_selector = regex.regex;\n\t\tlet matches = regex_selector.exec(current_text);\n\n\t\tif (matches !== null) {\n\t\t\tif (matches.length === regex.tags.length + 1) {\n\t\t\t\tfor (var i = 1; i < matches.length; i++) {\n\n\t\t\t\t\tlet match = matches[i];\n\t\t\t\t\tlet tag_id = regex.tags[i-1]\n\t\t\t\t\tlet tag = get_tag(tag_id);\n\n\t\t\t\t\tvar new_to_post_process_array = this.state.to_post_process_array.slice();\n\t\t\t\t\tnew_to_post_process_array[this.state.current_match_index].post_processed[tag_id] = {text: match, html: match, tag: tag}\n\t\t\t\t\tthis.setState({to_post_process_array: new_to_post_process_array});\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.setState({snackbar_open: true});\n\t\t\t\tthis.setState({snackbar_message: 'No perfect match found'});\t\n\t\t\t}\n\t\t}else{\n\t\t\tthis.setState({snackbar_open: true});\n\t\t\tthis.setState({snackbar_message: 'No match found'});\n\t\t}\n\n\t}\n\n\tremove_match(tag_id){\n\t\tvar new_to_post_process_array = this.state.to_post_process_array.slice();\n\n\t\tdelete new_to_post_process_array[this.state.current_match_index].post_processed[tag_id]\n\t\tthis.setState({to_post_process_array: new_to_post_process_array});\n\t}\n\n\tclear_matches(){\n\t\tvar new_to_post_process_array = this.state.to_post_process_array.slice();\n\t\tfor (var i = Object.keys(new_to_post_process_array[this.state.current_match_index].post_processed).length - 1; i >= 0; i--) {\n\t\t\tlet tag_id = Object.keys(new_to_post_process_array[this.state.current_match_index].post_processed)[i];\n\t\t\tdelete new_to_post_process_array[this.state.current_match_index].post_processed[tag_id]\n\t\t}\n\n\t\tthis.setState({to_post_process_array: new_to_post_process_array});\n\t}\n\n\tfinish_post_process(){\n\t\tlet results = prepare_final_resuts(this.props.crawl_urls, this.props.crawl_selectors, this.props.partial_results, this.state.to_post_process_array)\n\t\tthis.props.actions.set_final_results(results)\n\t\tthis.setState({redirect: '/final-results/'})\n\t}\n\n\tnext(){\n\t\tif (this.state.current_match_index < this.state.to_post_process_array.length - 1) {\n\t\t\tthis.setState({current_match_index: this.state.current_match_index + 1});\n\t\t}\n\t}\n\n\tprevious(){\n\t\tif (this.state.current_match_index > 0) {\n\t\t\tthis.setState({current_match_index: this.state.current_match_index - 1});\n\t\t}\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<ReactShortcut keys=\"Right\" onKeysPressed={this.next} />\n\t\t\t\t<ReactShortcut keys=\"Left\" onKeysPressed={this.previous} />\n\t\t\t\t<div className=\"post-process-main-container\">\n\t\t\t\t\t<div className=\"post-process-main-container-inner\">\n\t\t\t\t\t\t<LinearProgress variant=\"determinate\" value={100*(this.state.current_match_index/this.state.to_post_process_array.length)} />\n\t\t\t\t\t\t<Paper className=\"post-process-section\">\n\t\t\t\t\t\t\t<div className=\"post-process-section-header\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div className=\"post-process-section-header-title\">\n\t\t\t\t\t\t\t\t\t\tPost Processing\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"post-process-section-header-subtitle\">\n\t\t\t\t\t\t\t\t\t\tPlease highlight and tag all the content accordingly\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<a href={this.state.to_post_process_array[this.state.current_match_index].url.url} rel=\"noopener noreferrer\" target=\"_blank\">\n\t\t\t\t\t\t\t\t\t\t<Button className=\"post-process-previous-button\" variant=\"contained\" color=\"secondary\">VISIT PAGE</Button>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t{this.state.current_match_index === 0 &&\n\t\t\t\t\t\t\t\t\t\t<Button className=\"post-process-previous-button\" variant=\"contained\" color=\"primary\" onClick={() => this.setState({redirect: '/partial-results/'})}>BACK</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{this.state.current_match_index > 0 &&\n\t\t\t\t\t\t\t\t\t\t<Button className=\"post-process-previous-button\" variant=\"contained\" color=\"primary\" onClick={this.previous}>PREVIOUS</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{this.state.current_match_index < this.state.to_post_process_array.length - 1 &&\n\t\t\t\t\t\t\t\t\t\t<Button className=\"post-process-next-button\" variant=\"contained\" color=\"primary\" onClick={this.next}>NEXT</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{this.state.current_match_index === this.state.to_post_process_array.length - 1 &&\n\t\t\t\t\t\t\t\t\t\t<Button className=\"post-process-next-button\" variant=\"contained\" color=\"primary\" onClick={this.finish_post_process}>FINISH</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"post-process-section-body\">\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className=\"post-process-section-body-inner\">\n\t\t\t\t\t\t\t\t\t<ScrollArea className=\"post-process-section-body-left\" verticalContainerStyle={{width: 4}}>\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-popover-divider-title\">Regex Selectors</div>\n\t\t\t\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t{constants.regex_options.map((regex) => { return(\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"post-process-popover-regex\"\n\t\t\t\t\t\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => { this.add_regex_match(regex) }} \n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-popover-tag-regex-name\" key={uniqid()}>{regex.title}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-popover-tag-regex-example\" key={uniqid()}>{regex.example}</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)})}\n\n\t\t\t\t\t\t\t\t\t\t{constants.tag_options.map((tag) => {\n\t\t\t\t\t\t\t\t\t\t\tif (tag.type !== this.state.current_tag_type) {\n\t\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.current_tag_type = tag.type;\n\t\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.render_divider = true;\n\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.render_divider = false;\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.render_divider &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-popover-divider-title\">{this.state.current_tag_type}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"post-process-popover-tag\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => { this.add_match(tag) }} \n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-popover-tag-color\" style={{backgroundColor: tag.color}} key={uniqid()}></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-popover-tag-title\" key={uniqid()}>{tag.title}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</ScrollArea>\n\t\t\t\t\t\t\t\t\t<div className=\"post-process-section-body-right\">\n\t\t\t\t\t\t\t\t\t\t<PostProcessPopovoer parent={this} ref_element={this.ref_text}>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-raw-text\" contentEditable=\"true\" ref={this.ref_text}>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.to_post_process_array[this.state.current_match_index].match.text}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</PostProcessPopovoer>\n\t\t\t\t\t\t\t\t\t\t<PostProcessPopovoer parent={this} ref_element={this.ref_html}>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-raw-html\" contentEditable=\"true\" ref={this.ref_html}>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.to_post_process_array[this.state.current_match_index].match.html}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</PostProcessPopovoer>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Paper>\n\n\t\t\t\t\t\t<Paper className=\"post-process-section\">\n\t\t\t\t\t\t\t<div className=\"post-process-section-header\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div className=\"post-process-section-header-title\">\n\t\t\t\t\t\t\t\t\t\tCurrent Tags\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"post-process-section-header-subtitle\">\n\t\t\t\t\t\t\t\t\t\tThese are the tags selected so far\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<Button className=\"post-process-next-button\" variant=\"contained\" color=\"primary\" onClick={this.clear_matches}>CLEAR</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t{Object.keys(this.state.to_post_process_array[this.state.current_match_index].post_processed).length > 0 &&\n\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<ScrollArea className=\"post-process-section-body post-process-matcehs-section\">\n\t\t\t\t\t\t\t\t{Object.keys(this.state.to_post_process_array[this.state.current_match_index].post_processed).map((tag_id) => {\n\t\t\t\t\t\t\t\t\tlet match = this.state.to_post_process_array[this.state.current_match_index].post_processed[tag_id];\n\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t<NewMatch parent={this} match={match} key={uniqid()}/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</ScrollArea>\n\t\t\t\t\t\t</Paper>\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Snackbar\n\t\t\t\t\topen={this.state.snackbar_open}\n\t\t\t\t\tonClose={() => this.setState({snackbar_open: false})}\n\t\t\t\t\tmessage={this.state.snackbar_message}\n\t\t\t\t/>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tcrawl_urls: state.GlobalReducer.crawl_urls,\n\t\tcrawl_selectors: state.GlobalReducer.crawl_selectors,\n\t\tpartial_results: state.GlobalReducer.partial_results,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(PostProcess)","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Redirect } from 'react-router-dom';\nimport { Table } from 'semantic-ui-react'\nimport uniqid from 'uniqid';\nimport EllipsisText from 'react-ellipsis-text';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport { CSVLink } from \"react-csv\";\nimport posed from 'react-pose';\n\n// Constants import\nimport * as constants from '../constants.js'\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/FinalResults.css';\n\nfunction randomProperty(obj) {\n\tvar keys = Object.keys(obj);\n\treturn keys[0];\n};\n\nconst PosedCell = posed.div({\n\tpressable: true,\n\tinit: { scale: 1 },\n\tpress: { scale: 0.98 }\n});\n\n// Simple helper function to create a dictionary with the tag_id's as the keys and the actual tags as the values\nfunction create_tag_dict(tag_array){\n\tvar tag_dict = {}\n\tfor (var i = tag_array.length - 1; i >= 0; i--) {\n\t\tlet current_tag = tag_array[i]\n\t\ttag_dict[current_tag.tag_id] = current_tag;\n\t}\n\n\treturn tag_dict\n}\n\nfunction generate_csv_from_matches(final_results, tags, urls){\n\tlet csv_export_array = [];\n\tlet tag_titles = [];\n\n\t// Now let's create an array with all the tag's names to work as the header of our CSV\n\t// To do so we can get a random key (that represents a random URL) of our final_resuts dict and get all the tags for that url\n\tlet random_url_id = randomProperty(final_results)\n\tfor (var i = Object.keys(final_results[random_url_id]).length - 1; i >= 0; i--) {\n\t\tlet current_tag = Object.keys(final_results[random_url_id])[i];\n\t\ttag_titles.push(tags[current_tag].title)\n\t}\n\n\t// The Header of our CSV then is the tag_titles variable plus the default headers we would like to add: URL, Status and Response Code\n\tlet header = ['URL', 'Status', 'Response Code', ...tag_titles];\n\n\tcsv_export_array.push(header)\n\n\t// Now we simply have to push the results for each one of the URLs to a separate array (current_row) and then push that array to the final array that will become our CSV (csv_export_array)\n\t// eslint-disable-next-line\n\tfor (var i = Object.keys(final_results).length - 1; i >= 0; i--) {\n\t\tlet current_row = []\n\t\tlet current_url = Object.keys(final_results)[i];\n\n\t\tcurrent_row.push(urls[current_url].url)\n\t\tcurrent_row.push(urls[current_url].status)\n\t\tcurrent_row.push(urls[current_url].response_code)\n\n\t\tfor (var j = Object.keys(final_results[current_url]).length - 1; j >= 0; j--) {\n\t\t\tlet current_tag = Object.keys(final_results[current_url])[j]\n\n\t\t\tif (final_results[current_url][current_tag].length > 0) {\n\t\t\t\tcurrent_row.push(final_results[current_url][current_tag][0].text.replace(/(\\r\\n|\\n|\\r)/gm, \" \"))\n\t\t\t}else{\n\t\t\t\tcurrent_row.push('')\n\t\t\t}\n\t\t}\n\n\t\tcsv_export_array.push(current_row)\n\t}\n\n\treturn csv_export_array\n}\n\nclass FinalResults extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tvar tag_dict = create_tag_dict(constants.tag_options)\n\n\t\tthis.state = {\n\t\t\ttags: tag_dict,\n\t\t\tcsv_data: generate_csv_from_matches(this.props.final_results, tag_dict, this.props.crawl_urls),\n\t\t\tredirect: false\n\t\t}\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"final-main-container\">\n\t\t\t\t<Paper className=\"final-section\">\n\t\t\t\t\t<div className=\"final-section-header\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"final-section-header-title\">\n\t\t\t\t\t\t\t\tFinal Results\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"final-section-header-subtitle\">\n\t\t\t\t\t\t\t\tData parsed using the scraper results after post processing\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button className=\"final-home-button\" variant=\"contained\" color=\"secondary\" onClick={() => {this.setState({redirect: \"/\"})}}>Home</Button>\n\t\t\t\t\t\t\t<CSVLink separator={\"|\"} enclosingCharacter={`\"`} filename={\"pipe-separated-final-data.csv\"} data={this.state.csv_data}>\n\t\t\t\t\t\t\t\t<Button className=\"final-download-button\" variant=\"contained\" color=\"primary\">DOWNLOAD</Button>\n\t\t\t\t\t\t\t</CSVLink>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"final-section-body\">\n\t\t\t\t\t\t<div className=\"table-container\">\n\t\t\t\t\t\t\t<Table collapsing celled>\n\t\t\t\t\t\t\t\t<Table.Header>\n\t\t\t\t\t\t\t\t\t<Table.Row>\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>URL</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t{Object.keys(this.props.final_results[Object.keys(this.props.final_results)[0]]).map((tag_id) => {\n\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell key={uniqid()}>{this.state.tags[tag_id].title}</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Status</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Response Code</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t\t\t</Table.Header>\n\t\t\t\t\t\t\t\t<Table.Body>\n\t\t\t\t\t\t\t\t\t{Object.keys(this.props.final_results).map((url_id) => {\n\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t<Table.Row key={uniqid()}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].url}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].url} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t{Object.keys(this.props.final_results[url_id]).map((tag_id) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell key={uniqid()}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.final_results[url_id][tag_id].length > 0 ? this.props.final_results[url_id][tag_id][0].text : ''}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.final_results[url_id][tag_id].length > 0 ? this.props.final_results[url_id][tag_id][0].text : ''} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].status}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].status} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\t\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].response_code.toString()}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].response_code.toString()} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Table.Body>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Paper>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tcrawl_urls: state.GlobalReducer.crawl_urls,\n\t\tcrawl_selectors: state.GlobalReducer.crawl_selectors,\n\t\tfinal_results: state.GlobalReducer.final_results,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(FinalResults)","import React, { Component } from 'react';\nimport { Route, Switch } from \"react-router-dom\";\n// import { connect } from 'react-redux'\n// import { bindActionCreators } from 'redux'\nimport Home from '../views/Home.js';\nimport Urls from '../views/Urls.js';\nimport Progress from '../views/Progress.js';\nimport PartialResults from '../views/PartialResults.js';\nimport PostProcess from '../views/PostProcess.js';\nimport FinalResults from '../views/FinalResults.js';\n\nexport default class Routes extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<Switch>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<Home/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/urls/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<Urls/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/progress/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<Progress/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/partial-results/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<PartialResults/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/post-process/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<PostProcess/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/final-results/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<FinalResults/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</Switch>\n\t\t);\n\t}\n}","import React, { Component } from 'react';\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\n// Components\nimport Header from './views/Header.js';\nimport Footer from './views/Footer.js';\n\n// import the store created in the store.js file\nimport { store_persistor } from './store';\n\n// Constants import\nimport * as constants from './constants.js'\n\n// URLs Imports\nimport Routes from './routes/Routes.js';\n\n// CSS Imports\nimport './App.css';\n\n// General theme definition\nconst material_ui_theme = {\n\ttypography: {\n\t\tfontFamily: [\n\t\t\t'Karla',\n\t\t].join(','),\n\t},\n\tpalette: {\n\t\tprimary: {\n\t\t\tmain: '#361FFB',\n\t\t\tlight: '#361FFB',\n\t\t\tdark: '#361FFB',\n\t\t\tcontrastText: '#FFFFFF',\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: '#e5e5e5',\n\t\t\tlight: '#e5e5e5',\n\t\t\tdark: '#e5e5e5',\n\t\t\tcontrastText: '#000000',\n\t\t},\n\t\tprimary1Color: '#361FFB',\n\t\tprimary2Color: '#361FFB',\n\t\tprimary3Color: '#361FFB',\n\t\taccent1Color: '#361FFB',\n\t\taccent2Color: '#361FFB',\n\t\taccent3Color: '#361FFB',\n\t\ttextColor: '#101010',\n\t},\n\tappBar: {\n\t\theight: 50,\n\t},\n\tdatePicker: {\n\t\tcolor: '#361FFB',\n\t\ttextColor: '#101010',\n\t\tcalendarTextColor: '#101010',\n\t\tselectColor: '#361FFB',\n\t\tselectTextColor: '#101010',\n\t\tcalendarYearBackgroundColor: '#ffffff',\n\t\theaderColor: '#361FFB',\n\t},\n\traisedButton: {\n\t\ttextColor: '#000000',\n\t\tprimaryTextColor: '#000000'\n\t}\n}\nconst theme = createMuiTheme(material_ui_theme);\n\n\n\nclass App extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\topen_back_warning_dialog: false\n\t\t}\n\n\t\tif (constants.purge_store_persist_on_reload) {\n\t\t\tstore_persistor.pause()\n\t\t\tstore_persistor.flush().then(() => { return store_persistor.purge() })\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Router>\n\t\t\t\t<MuiThemeProvider theme={theme}>\n\t\t\t\t\t<Header />\n\t\t\t\t\t<div className=\"main-content\">\n\t\t\t\t\t\t<Routes />\n\t\t\t\t\t</div>\n\t\t\t\t\t<Footer />\n\t\t\t\t</MuiThemeProvider>\n\t\t\t</Router>\n\t\t);\n\t}\n}\n\nif (!constants.debug) {\n\twindow.addEventListener('beforeunload', function (e) {\n\t\te.preventDefault();\n\t\te.returnValue = '';\n\t});\n}\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { Provider } from 'react-redux'\nimport { PersistGate } from 'redux-persist/integration/react'\n\n// import the store created in the store.js file\nimport { store, store_persistor } from './store';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<PersistGate\n\t\t\tloading={null}\n\t\t\tpersistor={store_persistor}\n\t\t>\n\t\t\t<App />\n\t\t</PersistGate>\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();"],"sourceRoot":""}