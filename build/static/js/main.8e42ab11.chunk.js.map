{"version":3,"sources":["views/Header.js","views/Footer.js","reducers/GlobalReducer.js","reducers/index.js","store.js","constants.js","actions/GlobalActions.js","views/Home.js","views/Urls.js","views/Progress.js","views/PartialResults.js","views/PostProcess.js","views/FinalResults.js","routes/Routes.js","App.js","serviceWorker.js","index.js"],"names":["Header","className","React","Component","Footer","initial_state","full_list_urls","crawl_urls","crawl_selectors","partial_results","final_results","scraper_settings","use_proxy","GenericReducer","state","action","new_state","Object","assign","type","RootReducer","combineReducers","GlobalReducer","persistConfig","key","storage","PersistedRootReducer","persistReducer","store","createStore","store_persistor","persistStore","tag_options","title","tag_id","color","set_full_list_urls","set_scraper_settings","set_crawl_urls","set_crawl_selectors","set_partial_results","set_final_results","validate_css_selector","selector","document","querySelector","Selector","props","open_tags_dialog","open_attributes_dialog","is_selector_valid","Fragment","style","this","backgroundColor","Input","label","fullWidth","disableUnderline","placeholder","defaultValue","config","css_selector","onChange","event","setState","target","value","edit_selector","selector_id","tag","marginLeft","attr","onClick","remove_selector","Divider","Dialog","onClose","open","aria-labelledby","DialogTitle","id","List","ListItem","button","add_tag","uniqid","ListItemText","primary","constants","map","add_attribute","Home","add_selector_field","selectors","urls","add_selector","bind","next","new_selectors","new_id","regex","snackbar_open","snackbar_message","redirect","actions","attribute","full_list","i","keys","length","current_selector_id","to","Paper","Button","variant","speed","contentClassName","horizontal","smoothScrolling","onKeyDown","e","Snackbar","message","connect","dispatch","bindActionCreators","global_action_creators","url_dict_to_string","url_dict","urls_string","url_ids","url","status","url_list_changed","run","use_proxy_changed","new_urls","split","url_id","page_source","response_code","obj","n","current_url_id","undefined","validate","website","trim","splice","sort","slice","reduce","memo","current","is_checked","update","$set","data-tip","TextField","margin","multiline","Checkbox","checked","Progress","in_queue_counter","initial_queue_size","matches","crawl","crawl_next","count_in_queue","update_queue","crawl_finished","current_url","selector_ids","$","ajax","context","data","settings","success","error","complete","XHR","timeout","counter","LinearProgress","get_data_from_tag","structuredText","result","getAttribute","generate_csv_from_matches","csv_export_array","selector_titles","j","push","header","current_row","text","replace","JSON","stringify","PosedCell","posed","div","pressable","init","scale","press","PartialResults","soup","parse","tags","querySelectorAll","outerHTML","k","unitary_tag","data_type","html","get_content","open_dialog","dialog_json","dialog_url","use_result_as_urls","createElement","setAttribute","base_url","protocol","hostname","port","regex_pattern","RegExp","urls_to_crawl","scraped_url","test","new_url_id","separator","enclosingCharacter","filename","Table","collapsing","celled","Row","HeaderCell","Body","Cell","toString","aria-describedby","DialogContent","DialogContentText","collapsed","src","DialogActions","NewMatch","match","parent","remove_match","popover_timer","window","setTimeout","PostProcessPopovoer","is_open","close_timeout","current_selection","popover_close","popover_open","selection","getSelection","clearTimeout","children","selectionRef","ref_element","isOpen","onTextSelect","onTextUnselect","prepare_final_resuts","post_processed","all_tags","match_id","results","current_tag","post_processed_tags","post_procced_tag","PostProcess","ref_text","createRef","ref_html","to_post_process_array","prepare_post_process_array","current_match_index","current_tag_type","render_divider","add_match","clear_matches","finish_post_process","previous","new_to_post_process_array","onKeysPressed","href","rel","verticalContainerStyle","width","contentEditable","ref","tag_titles","random_url_id","FinalResults","tag_dict","tag_array","create_tag_dict","csv_data","Routes","path","exact","render","material_ui_theme","typography","fontFamily","join","palette","main","light","dark","contrastText","secondary","primary1Color","primary2Color","primary3Color","accent1Color","accent2Color","accent3Color","textColor","appBar","height","datePicker","calendarTextColor","selectColor","selectTextColor","calendarYearBackgroundColor","headerColor","raisedButton","primaryTextColor","theme","createMuiTheme","App","open_back_warning_dialog","addEventListener","preventDefault","returnValue","Boolean","location","ReactDOM","loading","persistor","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.8e42ab11.chunk.js","sourcesContent":["import React from 'react';\n\n// CSS Imports\nimport './styles/Header.css';\n\nexport default class Header extends React.Component {\n\t// constructor(props) {\n\t// \tsuper(props);\n\t// }\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"header\"></div>\n\t\t);\n\t}\n}\n","import React from 'react';\n\nexport default class Footer extends React.Component {\n\t// constructor(props) {\n\t// \tsuper(props);\n\t// }\n\n\trender() {\n\t\treturn (\n\t\t\t<div></div>\n\t\t);\n\t}\n}\n","const initial_state = {\n\tfull_list_urls: [],\n\tcrawl_urls: false,\n\tcrawl_selectors: false,\n\tpartial_results: false,\n\tfinal_results: false,\n\tscraper_settings: {\n\t\tuse_proxy: true\n\t}\n}\n\nfunction GenericReducer(state = initial_state, action) {\n\tlet new_state = Object.assign({}, state);\n\n\tswitch (action.type) {\n\t\tcase 'SET_FULL_LIST_URLS':\n\t\t\tnew_state.full_list_urls = action.full_list_urls;\n\t\t\treturn new_state\n\n\t\tcase 'SET_SCRAPER_SETTINGS':\n\t\t\tnew_state.scraper_settings = action.scraper_settings;\n\t\t\treturn new_state\n\n\t\tcase 'SET_CRAWL_URLS':\n\t\t\tnew_state.crawl_urls = action.crawl_urls;\n\t\t\treturn new_state\n\n\t\tcase 'SET_CRAWL_SELECTORS':\n\t\t\tnew_state.crawl_selectors = action.crawl_selectors;\n\t\t\treturn new_state\n\n\t\tcase 'SET_PARTIAL_RESULTS':\n\t\t\tnew_state.partial_results = action.partial_results;\n\t\t\treturn new_state\n\n\t\tcase 'SET_FINAL_RESULTS':\n\t\t\tnew_state.final_results = action.final_results;\n\t\t\treturn new_state\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n\n}\n\nexport default GenericReducer","import { combineReducers } from 'redux'\n\nimport GlobalReducer from './GlobalReducer.js'\n\nconst RootReducer = combineReducers({\n\tGlobalReducer\n\t// ThatReducer,\n\t// ThatReducer,\n})\n\nexport default RootReducer","import { createStore } from 'redux'\nimport { persistStore, persistReducer } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage'\n\n// Base reducer\nimport RootReducer from './reducers/index.js'\n\nconst persistConfig = {\n\tkey: 'root',\n\tstorage,\n}\n\nconst PersistedRootReducer = persistReducer(persistConfig, RootReducer)\n\nconst store = createStore(PersistedRootReducer)\nconst store_persistor = persistStore(store)\n\nexport { store, store_persistor }","// Debug options ----------------------------------------------------------------------------------------------------------------\nexport const debug = process.env.NODE_ENV === 'development'\nexport const purge_store_persist_on_reload = process.env.NODE_ENV === 'development' ? false : false\n\n// API endpoints ----------------------------------------------------------------------------------------------------------------\nexport const scraper_endpoint = process.env.NODE_ENV === 'development' ? 'http://127.0.0.1:8000/scrape/' : 'http://13.59.2.237:5000/scrape/'\n\n// Default Tags\nexport const tag_options = [\n\t// Artist Tags\n\t{\n\t\ttitle: 'Artist Name',\n\t\ttype: 'artist',\n\t\ttag_id: 'b4hkvqk7mc',\n\t\tcolor: '#4811e3'\n\t},\n\t{\n\t\ttitle: 'Artist Birth Year',\n\t\ttype: 'artist',\n\t\ttag_id: 'ukvfzw8rep',\n\t\tcolor: '#14a998'\n\t},\n\t{\n\t\ttitle: 'Artist Death Year',\n\t\ttype: 'artist',\n\t\ttag_id: 'anptku77fe',\n\t\tcolor: '#cf04d9'\n\t},\n\t{\n\t\ttitle: 'Artist Century',\n\t\ttype: 'artist',\n\t\ttag_id: 'dxhp4dqaa4',\n\t\tcolor: '#95787d'\n\t},\n\t{\n\t\ttitle: 'Artist Birth Place',\n\t\ttype: 'artist',\n\t\ttag_id: 'rqvtase2mw',\n\t\tcolor: '#dc6843'\n\t},\n\t{\n\t\ttitle: 'Artist Description',\n\t\ttype: 'artist',\n\t\ttag_id: 'hzwxtyjamc',\n\t\tcolor: '#442734'\n\t},\n\t{\n\t\ttitle: 'Artist Biography',\n\t\ttype: 'artist',\n\t\ttag_id: 'ppcza3wpmr',\n\t\tcolor: '#c700ab'\n\t},\n\t\t{\n\t\ttitle: 'Artist Source ID',\n\t\ttype: 'artist',\n\t\ttag_id: '5uxd2y4qad',\n\t\tcolor: '#1878df'\n\t},\n\t{\n\t\ttitle: 'Artist Source URL',\n\t\ttype: 'artist',\n\t\ttag_id: 'frvy5zxjyk',\n\t\tcolor: '#8506c7'\n\t},\n\n\t// Object Tags\n\t{\n\t\ttitle: 'Object Name',\n\t\ttype: 'object',\n\t\ttag_id: 'qghneam4vw',\n\t\tcolor: '#8d0710'\n\t},\n\t{\n\t\ttitle: 'Object Image URL',\n\t\ttype: 'object',\n\t\ttag_id: '7sebgn9cdz',\n\t\tcolor: '#e17c2c'\n\t},\n\t{\n\t\ttitle: 'Object Floor Estimation',\n\t\ttype: 'object',\n\t\ttag_id: 'gup7bwnypd',\n\t\tcolor: '#b87f44'\n\t},\n\t{\n\t\ttitle: 'Object Top Estimation',\n\t\ttype: 'object',\n\t\ttag_id: 'zw7vvtnzb8',\n\t\tcolor: '#acb59d'\n\t},\n\t{\n\t\ttitle: 'Object Hammer Price',\n\t\ttype: 'object',\n\t\ttag_id: 'xnjcrwndcu',\n\t\tcolor: '#c10081'\n\t},\n\t{\n\t\ttitle: 'Object Currency',\n\t\ttype: 'object',\n\t\ttag_id: 'tnjcrwnpwk',\n\t\tcolor: '#d12031'\n\t},\n\t{\n\t\ttitle: 'Object Medium',\n\t\ttype: 'object',\n\t\ttag_id: 'bllxpawhkq',\n\t\tcolor: '#8faf11'\n\t},\n\t{\n\t\ttitle: 'Object Size',\n\t\ttype: 'object',\n\t\ttag_id: 'byzsma4rd6',\n\t\tcolor: '#d7c248'\n\t},\n\t{\n\t\ttitle: 'Object Category',\n\t\ttype: 'object',\n\t\ttag_id: '9ahkujyhff',\n\t\tcolor: '#0760ad'\n\t},\n\t{\n\t\ttitle: 'Object Description',\n\t\ttype: 'object',\n\t\ttag_id: 'wjapmaqcmz',\n\t\tcolor: '#6b72dd'\n\t},\n\t{\n\t\ttitle: 'Object Extra Info',\n\t\ttype: 'object',\n\t\ttag_id: 'widhku9p2l',\n\t\tcolor: '#fe5012'\n\t},\n\t{\n\t\ttitle: 'Object Lot Number',\n\t\ttype: 'object',\n\t\ttag_id: 'ltlxihttlf',\n\t\tcolor: '#013ab0'\n\t},\n\t{\n\t\ttitle: 'Object Year of Creation',\n\t\ttype: 'object',\n\t\ttag_id: 'ghqcdd5hho',\n\t\tcolor: '#a871de'\n\t},\n\t{\n\t\ttitle: 'Object Identification',\n\t\ttype: 'object',\n\t\ttag_id: 'zol6lprlzd',\n\t\tcolor: '#ba35fe'\n\t},\n\t{\n\t\ttitle: 'Object Provenance',\n\t\ttype: 'object',\n\t\ttag_id: 'eseceqwdbt',\n\t\tcolor: '#328ea3'\n\t},\n\t{\n\t\ttitle: 'Object Not Sold',\n\t\ttype: 'object',\n\t\ttag_id: 'yafpgxc4yv',\n\t\tcolor: '#1789ad'\n\t},\n\t\t{\n\t\ttitle: 'Object Source ID',\n\t\ttype: 'object',\n\t\ttag_id: 'e3ssleqyge',\n\t\tcolor: '#fef7aa'\n\t},\n\t{\n\t\ttitle: 'Object Source URL',\n\t\ttype: 'object',\n\t\ttag_id: 'jvvvwwqwkj',\n\t\tcolor: '#3138cd'\n\t},\n\t{\n\t\ttitle: 'Object Source Name',\n\t\ttype: 'object',\n\t\ttag_id: 'bezgjdwvmt',\n\t\tcolor: '#06d650'\n\t},\n\n\t// Auction Tags\n\t{\n\t\ttitle: 'Auction Name',\n\t\ttype: 'auction',\n\t\ttag_id: 'ebsfukecgm',\n\t\tcolor: '#39b386'\n\t},\n\t{\n\t\ttitle: 'Auction Start Date',\n\t\ttype: 'auction',\n\t\ttag_id: 'lsfhpccpb2',\n\t\tcolor: '#280439'\n\t},\n\t{\n\t\ttitle: 'Auction End Date',\n\t\ttype: 'auction',\n\t\ttag_id: 'fwyrbqpg5x',\n\t\tcolor: '#7bcfff'\n\t},\n\t{\n\t\ttitle: 'Auction Image URL',\n\t\ttype: 'auction',\n\t\ttag_id: 'cjzjtwgg7e',\n\t\tcolor: '#52c40e'\n\t},\n\t{\n\t\ttitle: 'Auction City',\n\t\ttype: 'auction',\n\t\ttag_id: 'fbqffkvcsm',\n\t\tcolor: '#33f346'\n\t},\n\t{\n\t\ttitle: 'Auction Source ID',\n\t\ttype: 'auction',\n\t\ttag_id: '9zfpse5tbd',\n\t\tcolor: '#e8f9e2'\n\t},\n\t{\n\t\ttitle: 'Auction Source URL',\n\t\ttype: 'auction',\n\t\ttag_id: 'hx6y32mmt8',\n\t\tcolor: '#860073'\n\t},\n\t{\n\t\ttitle: 'Auction Source Name',\n\t\ttype: 'auction',\n\t\ttag_id: 'fkjshhqhqb',\n\t\tcolor: '#478913'\n\t},\n\n\t// Auction House Tags\n\t{\n\t\ttitle: 'Auction House Name',\n\t\ttype: 'auction_house',\n\t\ttag_id: 'eguarqp59r',\n\t\tcolor: '#167dd1'\n\t},\n\t{\n\t\ttitle: 'Auction House Description',\n\t\ttype: 'auction_house',\n\t\ttag_id: 'bddndnm4dx',\n\t\tcolor: '#162a8b'\n\t},\n\t{\n\t\ttitle: 'Auction House Website',\n\t\ttype: 'auction_house',\n\t\ttag_id: '7zhbbdymd7',\n\t\tcolor: '#5f1579'\n\t},\n\t{\n\t\ttitle: 'Auction House Phone',\n\t\ttype: 'auction_house',\n\t\ttag_id: 's9cfw7sjua',\n\t\tcolor: '#ca264f'\n\t},\n\t{\n\t\ttitle: 'Auction House Address',\n\t\ttype: 'auction_house',\n\t\ttag_id: 'hhcd2dadsp',\n\t\tcolor: '#819c50'\n\t},\n\t{\n\t\ttitle: 'Auction House Source ID',\n\t\ttype: 'auction_house',\n\t\ttag_id: 'wvpepsw2xc',\n\t\tcolor: '#92acb1'\n\t},\n\t{\n\t\ttitle: 'Auction House Source URL',\n\t\ttype: 'auction_house',\n\t\ttag_id: '47qbbkug2a',\n\t\tcolor: '#1dd128'\n\t},\n\t{\n\t\ttitle: 'Auction House Source Name',\n\t\ttype: 'auction_house',\n\t\ttag_id: 'bkl5qunxls',\n\t\tcolor: '#906ec5'\n\t},\n]","export function set_full_list_urls(full_list_urls){\n\tvar action_to_return = {\n\t\ttype: 'SET_FULL_LIST_URLS',\n\t\tfull_list_urls: full_list_urls\n\t};\n\n\treturn action_to_return;\n}\n\nexport function set_scraper_settings(scraper_settings){\n\tvar action_to_return = {\n\t\ttype: 'SET_SCRAPER_SETTINGS',\n\t\tscraper_settings: scraper_settings\n\t};\n\n\treturn action_to_return;\n}\n\nexport function set_crawl_urls(crawl_urls){\n\tvar action_to_return = {\n\t\ttype: 'SET_CRAWL_URLS',\n\t\tcrawl_urls: crawl_urls\n\t};\n\n\treturn action_to_return;\n}\n\nexport function set_crawl_selectors(crawl_selectors){\n\tvar action_to_return = {\n\t\ttype: 'SET_CRAWL_SELECTORS',\n\t\tcrawl_selectors: crawl_selectors\n\t};\n\n\treturn action_to_return;\n}\n\n\nexport function set_partial_results(partial_results){\n\tvar action_to_return = {\n\t\ttype: 'SET_PARTIAL_RESULTS',\n\t\tpartial_results: partial_results\n\t};\n\n\treturn action_to_return;\n}\n\nexport function set_final_results(final_results){\n\tvar action_to_return = {\n\t\ttype: 'SET_FINAL_RESULTS',\n\t\tfinal_results: final_results\n\t};\n\n\treturn action_to_return;\n}","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Redirect } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Input from '@material-ui/core/Input';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport List from '@material-ui/core/List';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Dialog from '@material-ui/core/Dialog';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport uniqid from 'uniqid';\nimport ReactTooltip from 'react-tooltip'\nimport ScrollArea from 'react-scrollbar';\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/Home.css';\n\n// Constants import\nimport * as constants from '../constants.js'\n\nfunction validate_css_selector(selector){\n\ttry {\n\t\tdocument.querySelector(selector);\n\t\treturn true;\n\t}\n\tcatch {\n\n\t}\n\treturn false;\n}\n\nclass Selector extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\topen_tags_dialog: false,\n\t\t\topen_attributes_dialog: false,\n\t\t\tis_selector_valid: true,\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<ReactTooltip />\n\t\t\t\t<div className=\"home-selector-container\" style={this.state.is_selector_valid ? {} : {backgroundColor: '#fd676417'}}>\n\t\t\t\t\t<div className=\"home-selector-input-container\">\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tlabel=\"Dense multiline\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tdisableUnderline={true}\n\t\t\t\t\t\t\tplaceholder=\"My Awesome CSS selector\"\n\t\t\t\t\t\t\tdefaultValue={this.props.config.css_selector}\n\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\tthis.setState({is_selector_valid: validate_css_selector(event.target.value)})\n\t\t\t\t\t\t\t\tthis.props.edit_selector(this.props.config.selector_id, event.target.value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t{this.props.config.tag &&\n\t\t\t\t\t\t<span style={{backgroundColor: this.props.config.tag.color}} className=\"home-tag-indicator\">{this.props.config.tag.title}</span>\n\t\t\t\t\t}\n\t\t\t\t\t{!this.props.config.tag &&\n\t\t\t\t\t\t<span style={{backgroundColor: '#fd6764'}} className=\"home-tag-indicator\">Post Process</span>\n\t\t\t\t\t}\n\n\t\t\t\t\t<span style={{backgroundColor: '#361ffb', marginLeft: 10, color: 'white'}} className=\"home-tag-indicator\">{this.props.config.attr}</span>\n\t\t\t\t\t<i className=\"home-selector-icon material-icons\" onClick={() => this.setState({open_tags_dialog: true})}>label</i>\n\t\t\t\t\t<i className=\"home-selector-icon material-icons\" onClick={() => this.setState({open_attributes_dialog: true})}>code</i>\n\t\t\t\t\t<i className=\"home-selector-icon material-icons\" onClick={() => this.props.remove_selector(this.props.config.selector_id)}>close</i>\n\t\t\t\t</div>\n\t\t\t\t<Divider />\n\n\t\t\t\t<Dialog\n\t\t\t\t\tonClose={() => this.setState({open_tags_dialog: false})}\n\t\t\t\t\topen={this.state.open_tags_dialog}\n\t\t\t\t\taria-labelledby=\"simple-dialog-title\"\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle id=\"simple-dialog-title\">Select a tag</DialogTitle>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tstyle={{backgroundColor: '#eaeaea'}}\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({open_tags_dialog: false});\n\t\t\t\t\t\t\t\tthis.props.add_tag(this.props.config.selector_id, false);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary=\"Post process\" />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t{constants.tag_options.map((tag) => \n\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.setState({open_tags_dialog: false});\n\t\t\t\t\t\t\t\t\tthis.props.add_tag(this.props.config.selector_id, tag);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemText primary={tag.title} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</List>\n\t\t\t\t</Dialog>\n\n\t\t\t\t<Dialog\n\t\t\t\t\tonClose={() => this.setState({open_attributes_dialog: false})}\n\t\t\t\t\topen={this.state.open_attributes_dialog}\n\t\t\t\t\taria-labelledby=\"simple-dialog-title\"\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle id=\"simple-dialog-title\">Select an Attribute</DialogTitle>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({open_attributes_dialog: false});\n\t\t\t\t\t\t\t\tthis.props.add_attribute(this.props.config.selector_id, 'innerText');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary={'innerText'} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({open_attributes_dialog: false});\n\t\t\t\t\t\t\t\tthis.props.add_attribute(this.props.config.selector_id, 'href');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary={'href'} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({open_attributes_dialog: false});\n\t\t\t\t\t\t\t\tthis.props.add_attribute(this.props.config.selector_id, 'src');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary={'src'} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({open_attributes_dialog: false});\n\t\t\t\t\t\t\t\tthis.props.add_attribute(this.props.config.selector_id, 'srcset');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary={'srcset'} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({open_attributes_dialog: false});\n\t\t\t\t\t\t\t\tthis.props.add_attribute(this.props.config.selector_id, 'class');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary={'class'} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({open_attributes_dialog: false});\n\t\t\t\t\t\t\t\tthis.props.add_attribute(this.props.config.selector_id, 'id');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary={'id'} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</List>\n\t\t\t\t</Dialog>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n\nclass Home extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tadd_selector_field: '',\n\t\t\tselectors: this.props.crawl_selectors ? this.props.crawl_selectors : {},\n\t\t\turls: this.props.full_list_urls\n\t\t}\n\n\t\tthis.add_selector = this.add_selector.bind(this);\n\t\tthis.remove_selector = this.remove_selector.bind(this);\n\t\tthis.add_tag = this.add_tag.bind(this);\n\t\tthis.add_attribute = this.add_attribute.bind(this);\n\t\tthis.edit_selector = this.edit_selector.bind(this);\n\t\tthis.next = this.next.bind(this);\n\t}\n\n\t// Add a new empty CSS selector\n\tadd_selector(){\n\t\tlet new_selectors = Object.assign({}, this.state.selectors);\n\n\t\tlet new_id = uniqid();\n\t\tnew_selectors[new_id] = {\n\t\t\tselector_id: new_id,\n\t\t\tcss_selector: this.state.add_selector_field,\n\t\t\ttag: false,\n\t\t\tregex: '',\n\t\t\tattr: 'innerText',\n\t\t\turls: [],\n\t\t\tsnackbar_open: false,\n\t\t\tsnackbar_message: '',\n\t\t\tredirect: false\n\t\t}\n\t\tthis.setState({selectors: new_selectors})\n\t\tthis.setState({add_selector_field: ''})\n\t\tthis.props.actions.set_crawl_selectors(new_selectors)\n\t}\n\n\tremove_selector(selector_id){\n\t\tlet new_selectors = Object.assign({}, this.state.selectors);\n\t\tdelete new_selectors[selector_id]\n\t\tthis.setState({selectors: new_selectors})\n\t\tthis.props.actions.set_crawl_selectors(new_selectors)\n\t}\n\n\tadd_tag(selector_id, tag){\n\t\tlet new_selectors = Object.assign({}, this.state.selectors);\n\t\tnew_selectors[selector_id]['tag'] = tag\n\t\tthis.setState({selectors: new_selectors})\n\t\tthis.props.actions.set_crawl_selectors(new_selectors)\n\t}\n\n\tadd_attribute(selector_id, attribute){\n\t\tlet new_selectors = Object.assign({}, this.state.selectors);\n\t\tnew_selectors[selector_id]['attr'] = attribute\n\t\tthis.setState({selectors: new_selectors})\n\t\tthis.props.actions.set_crawl_selectors(new_selectors)\n\t}\n\n\tedit_selector(selector_id, css_selector){\n\t\tlet new_selectors = Object.assign({}, this.state.selectors);\n\t\tnew_selectors[selector_id]['css_selector'] = css_selector;\n\t\t// eslint-disable-next-line\n\t\tthis.state.selectors = new_selectors;\n\t}\n\n\tnext(full_list){\n\t\tlet selectors = Object.assign({}, this.state.selectors);\n\n\t\t// Delete css selectors with invalid format\n\t\tfor (var i = Object.keys(selectors).length - 1; i >= 0; i--) {\n\t\t\tlet current_selector_id = Object.keys(selectors)[i];\n\t\t\tif (!validate_css_selector(selectors[current_selector_id].css_selector)) {\n\t\t\t\tdelete selectors[current_selector_id]\n\t\t\t}\n\t\t}\n\n\t\tif (Object.keys(selectors).length === 0) {\n\t\t\tthis.setState({snackbar_message: 'No proper CSS selector found'})\n\t\t\tthis.setState({snackbar_open: true})\n\t\t\treturn\n\t\t}\n\n\t\tthis.props.actions.set_crawl_selectors(selectors)\n\t\t\n\t\tthis.setState({redirect: \"/urls/\"})\n\t\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"home-main-container\">\n\t\t\t\t<ReactTooltip />\n\t\t\t\t<Paper className=\"home-section\">\n\t\t\t\t\t<div className=\"home-section-header\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"home-section-header-title\">\n\t\t\t\t\t\t\t\tSelectors\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"home-section-header-subtitle\">\n\t\t\t\t\t\t\t\tAdd your CSS selectors and their respective tags\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Button className=\"home-run-button\" variant=\"contained\" color=\"primary\" onClick={this.next}>NEXT</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ScrollArea\n\t\t\t\t\t\tspeed={0.8}\n\t\t\t\t\t\tclassName=\"home-section-body\"\n\t\t\t\t\t\tcontentClassName=\"content\"\n\t\t\t\t\t\thorizontal={false}\n\t\t\t\t\t\tsmoothScrolling={true}\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t{Object.keys(this.state.selectors).map((selector_id) => {\n\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t<Selector\n\t\t\t\t\t\t\t\t\t\tconfig={this.state.selectors[selector_id]}\n\t\t\t\t\t\t\t\t\t\tremove_selector={this.remove_selector}\n\t\t\t\t\t\t\t\t\t\tadd_tag={this.add_tag}\n\t\t\t\t\t\t\t\t\t\tadd_attribute={this.add_attribute}\n\t\t\t\t\t\t\t\t\t\tedit_selector={this.edit_selector}\n\t\t\t\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\n\t\t\t\t\t\t\t<div className=\"home-selector-container\">\n\t\t\t\t\t\t\t\t<div className=\"home-selector-input-container\">\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tlabel=\"CSS Selector\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tdisableUnderline={true}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"My Awesome CSS selector\"\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.add_selector_field}\n\t\t\t\t\t\t\t\t\t\tonChange={(event) => this.setState({add_selector_field: event.target.value})}\n\t\t\t\t\t\t\t\t\t\tonKeyDown={(e) => {if (e.key === 'Enter') this.add_selector()}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<i className=\"home-selector-icon material-icons\" onClick={this.add_selector}>add</i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t</React.Fragment>\n\n\t\t\t\t\t</ScrollArea>\n\t\t\t\t</Paper>\n\n\t\t\t\t<Snackbar message={this.state.snackbar_message} open={this.state.snackbar_open} onClose={() => this.setState({snackbar_open: false})} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tcrawl_selectors: state.GlobalReducer.crawl_selectors,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)\n\n\n\n\n\n\n\n\n\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Redirect } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport update from 'react-addons-update';\nimport uniqid from 'uniqid';\nimport validate from 'validate.js';\nimport ReactTooltip from 'react-tooltip'\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/Urls.css';\n\n// Get the first N keys of a dict\nfunction firstN(obj, n) {\n\treturn Object.keys(obj) //get the keys out\n\t\t.sort() //this will ensure consistent ordering of what you will get back. If you want something in non-aphabetical order, you will need to supply a custom sorting function\n\t\t.slice(0, n) //get the first N\n\t\t.reduce(function(memo, current) { //generate a new object out of them\n\t\t\tmemo[current] = obj[current]\n\t\t\treturn memo;\n\t}, {})\n}\n\n\nfunction url_dict_to_string(url_dict){\n\tlet urls_string = ''\n\n\tvar url_ids = Object.keys(url_dict);\n\tfor (var i = url_ids.length - 1; i >= 0; i--) {\n\t\tlet url_id = url_ids[i]\n\n\t\turls_string = urls_string + url_dict[url_id].url + '\\n'\n\t}\n\n\treturn urls_string\n}\n\n\nclass Home extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// Reset the URLs status to in_queue\n\n\t\tlet urls = Object.assign({}, this.props.full_list_urls);\n\t\tlet url_ids = Object.keys(urls)\n\t\tfor (var i = url_ids.length - 1; i >= 0; i--) {\n\t\t\tlet url_id = url_ids[i]\n\t\t\turls[url_id].status = 'in_queue'\n\t\t}\n\n\t\tthis.state = {\n\t\t\tadd_selector_field: '',\n\t\t\turls: urls,\n\t\t\tscraper_settings: this.props.scraper_settings,\n\t\t}\n\n\t\tthis.url_list_changed = this.url_list_changed.bind(this);\n\t\tthis.run = this.run.bind(this);\n\t\tthis.use_proxy_changed = this.use_proxy_changed.bind(this);\n\t}\n\n\turl_list_changed(event){\n\t\tlet new_urls = Object.assign({}, {});\n\n\t\tlet urls = event.target.value.split('\\n')\n\t\tlet url_id = uniqid();\n\t\tfor (var i = urls.length - 1; i >= 0; i--) {\n\t\t\turl_id = uniqid();\n\t\t\tnew_urls[url_id] = {url: urls[i], url_id: url_id, 'status': 'in_queue', page_source: false, response_code: false}\n\t\t}\n\n\t\tthis.props.actions.set_full_list_urls(new_urls)\n\n\t\t// eslint-disable-next-line\n\t\tthis.state.urls = new_urls;\n\t}\n\n\trun(full_list){\n\t\tlet urls = Object.assign({}, this.state.urls);\n\n\t\t// Delete URLs that don't have a valid format\n\t\t// eslint-disable-next-line\n\t\tfor (var i = Object.keys(urls).length - 1; i >= 0; i--) {\n\t\t\tlet current_url_id = Object.keys(urls)[i];\n\t\t\tlet url_checker = validate({website: urls[current_url_id]['url'].trim()}, {website: {url: true}});\n\t\t\tif (url_checker !== undefined) {\n\t\t\t\tdelete urls[current_url_id]\n\t\t\t}\n\t\t}\n\n\t\t// eslint-disable-next-line\n\t\tfor (var i = urls.length - 1; i >= 0; i--) {\n\t\t\tlet url_checker = validate({website: urls[i]}, {website: {url: true}});\n\t\t\tif (url_checker !== undefined) {\n\t\t\t\turls.splice(i, 1);\n\t\t\t}\n\t\t}\n\n\t\tif (Object.keys(urls).length === 0) {\n\t\t\tthis.setState({snackbar_message: 'No proper URLs found'})\n\t\t\tthis.setState({snackbar_open: true})\n\t\t\treturn\n\t\t}\n\n\t\tif (!full_list && Object.keys(urls).length > 3) {\n\t\t\turls = firstN(urls, 3)\n\t\t}\n\n\t\tthis.props.actions.set_crawl_urls(urls)\n\t\t\n\t\tthis.setState({redirect: \"/progress/\"})\n\t}\n\n\tuse_proxy_changed(event, is_checked){\n\t\tconst new_state = update(this.state, {\n\t\t\tscraper_settings: {use_proxy: {$set: is_checked}},\n\t\t});\n\t\tthis.props.actions.set_scraper_settings(new_state.scraper_settings)\n\t\tthis.setState(new_state)\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"urls-main-container\">\n\t\t\t\t<ReactTooltip />\n\t\t\t\t<Paper className=\"urls-section\">\n\t\t\t\t\t<div className=\"urls-section-header\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"urls-section-header-title\">\n\t\t\t\t\t\t\t\tURLs to scrape\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"urls-section-header-subtitle\">\n\t\t\t\t\t\t\t\tURL list here - One per line\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Button className=\"urls-run-sample-button\" variant=\"contained\" color=\"secondary\" onClick={() => this.setState({redirect: \"/\"})}>BACK</Button>\n\t\t\t\t\t\t\t<Button className=\"urls-run-sample-button\" variant=\"contained\" color=\"secondary\" data-tip=\"Run a sample of 3 URLs only\" onClick={() => this.run(false)}>RUN SAMPLE</Button>\n\t\t\t\t\t\t\t<Button className=\"urls-run-button\" variant=\"contained\" color=\"primary\" onClick={() => this.run(true)}>RUN</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"urls-section-body\">\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tid=\"outlined-dense-multiline\"\n\t\t\t\t\t\t\tlabel=\"URL List\"\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tdefaultValue={url_dict_to_string(this.state.urls)}\n\t\t\t\t\t\t\tonChange={this.url_list_changed}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Paper>\n\n\t\t\t\t<Paper className=\"urls-section\">\n\t\t\t\t\t<div className=\"urls-section-header\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"urls-section-header-title\">\n\t\t\t\t\t\t\t\tScraper options\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"urls-section-header-subtitle\">\n\t\t\t\t\t\t\t\tThe settings to use when requesting the listed URLs.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"urls-section-body\">\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tchecked={this.state.scraper_settings.use_proxy}\n\t\t\t\t\t\t\t\tonChange={this.use_proxy_changed}\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span>Use proxies on every request</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Paper>\n\n\n\t\t\t\t<Snackbar message={this.state.snackbar_message} open={this.state.snackbar_open} onClose={() => this.setState({snackbar_open: false})} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tfull_list_urls: state.GlobalReducer.full_list_urls,\n\t\tscraper_settings: state.GlobalReducer.scraper_settings,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)\n\n\n\n\n\n\n\n\n\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Redirect } from 'react-router-dom';\nimport $ from \"jquery\";\nimport uniqid from 'uniqid';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Paper from '@material-ui/core/Paper';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/Progress.css';\n\n// Constants import\nimport * as constants from '../constants.js'\n\nclass Progress extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\turls: this.props.crawl_urls,\n\t\t\tin_queue_counter: 0,\n\t\t\tinitial_queue_size: 0,\n\t\t\tredirect: false,\n\t\t\tmatches: {}\n\t\t}\n\n\t\tthis.crawl = this.crawl.bind(this);\n\t\tthis.crawl_next = this.crawl_next.bind(this);\n\t\tthis.count_in_queue = this.count_in_queue.bind(this);\n\t\tthis.update_queue = this.update_queue.bind(this);\n\t\tthis.crawl_finished = this.crawl_finished.bind(this);\n\n\t\tthis.state.initial_queue_size = this.count_in_queue();\n\t\tthis.crawl_next();\n\t\tthis.state.in_queue_counter = this.count_in_queue() + 1;\n\t}\n\n\tcrawl_next(){\n\t\tlet urls = Object.assign({}, this.state.urls);\n\t\tfor (var i = 0; i < Object.keys(urls).length; i++) {\n\t\t\tlet current_url_id = Object.keys(urls)[i];\n\t\t\tlet current_url = urls[current_url_id];\n\t\t\tif (current_url.status === 'in_queue') {\n\t\t\t\turls[current_url_id].status = 'scraping'\n\t\t\t\tthis.setState({urls: urls})\n\t\t\t\tthis.update_queue();\n\t\t\t\tthis.crawl(current_url)\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\tthis.crawl_finished()\n\t\treturn\n\t}\n\n\tcrawl(url){\n\t\tvar selector_ids = Object.keys(this.props.crawl_selectors);\n\n\t\t// Create an empty dict for the current URL being crawler\n\t\t// eslint-disable-next-line\n\t\tthis.state.matches[url.url_id] = {}\n\n\t\t// Now, for each one of the selector IDs, let's create an empty array with the selector id as the key.\n\t\t// They will later be replaces with the matches if we find any.\n\t\tfor (var i = selector_ids.length - 1; i >= 0; i--) {\n\t\t\tlet selector_id = selector_ids[i];\n\t\t\t// eslint-disable-next-line\n\t\t\tthis.state.matches[url.url_id][selector_id] = []\n\t\t}\n\n\t\t$.ajax({\n\t\t\tcontext: this,\n\t\t\turl: constants.scraper_endpoint,\n\t\t\ttype: 'get',\n\t\t\tdata: {\n\t\t\t\turl: url.url,\n\t\t\t\tselectors: this.props.crawl_selectors,\n\t\t\t\tsettings: this.props.scraper_settings\n\t\t\t},\n\t\t\tsuccess: function(data) {\n\t\t\t\t// eslint-disable-next-line\n\t\t\t\tthis.state.matches[url.url_id] = Object.assign(this.state.matches[url.url_id], data.matches);\n\n\t\t\t\tlet urls = Object.assign({}, this.state.urls);\n\t\t\t\turls[url.url_id].status = data.status\n\t\t\t\turls[url.url_id].page_source = data.page_source\n\t\t\t\turls[url.url_id].response_code = data.response_code\n\t\t\t\tthis.setState({urls: urls})\n\t\t\t\tthis.crawl_next();\n\t\t\t},\n\t\t\terror: function(data) {\n\t\t\t\tlet urls = Object.assign({}, this.state.urls);\n\t\t\t\turls[url.url_id].status = 'error'\n\t\t\t\tthis.setState({urls: urls})\n\t\t\t\tthis.crawl_next();\n\t\t\t},\n\t\t\tcomplete: function(XHR, status){\n\t\t\t\tthis.update_queue();\n\t\t\t},\n\t\t\ttimeout: 120000\n\t\t});\n\t}\n\n\tcount_in_queue(){\n\t\tlet counter = 0;\n\t\tfor (var i = Object.keys(this.state.urls).length - 1; i >= 0; i--) {\n\t\t\tlet current_url_id = Object.keys(this.state.urls)[i];\n\t\t\tlet current_url = this.state.urls[current_url_id];\n\t\t\tif (current_url.status === 'in_queue') {\n\t\t\t\tcounter = counter + 1\n\t\t\t}\n\t\t}\n\t\treturn counter\n\t}\n\n\tupdate_queue(){\n\t\tlet counter = this.count_in_queue();\n\t\tthis.setState({in_queue_counter: counter + 1});\n\t}\n\n\tcrawl_finished(){\n\t\tthis.props.actions.set_crawl_urls(this.state.urls)\n\t\tthis.props.actions.set_partial_results(this.state.matches);\n\t\tthis.setState({redirect: \"/partial-results/\"})\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"progress-main-container\">\n\t\t\t\t<Paper className=\"progress-section\">\n\t\t\t\t\t<div className=\"progress-section-header\">\n\t\t\t\t\t\t<div className=\"progress-section-header-title\">Now running...</div>\n\t\t\t\t\t\t<Button className=\"home-run-button\" variant=\"contained\" color=\"secondary\" onClick={() => this.setState({redirect: \"/urls/\"}) }>CANCEL</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<LinearProgress className=\"progress-loading-bar\" variant=\"determinate\" value={100*((this.state.initial_queue_size - this.state.in_queue_counter)/this.state.initial_queue_size)} />\n\t\t\t\t\t<div className=\"progress-section-progress-legend\">{this.state.initial_queue_size - this.state.in_queue_counter}/{this.state.initial_queue_size} urls processed</div>\n\t\t\t\t</Paper>\n\t\t\t\t<Paper className=\"progress-section\">\n\t\t\t\t\t<div className=\"progress-section-header-title\">Crawl Results</div>\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<div className=\"progress-section-url-container\">\n\t\t\t\t\t\t\t{Object.keys(this.state.urls).map((url_id) => {\n\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t<React.Fragment key={uniqid()}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"progress-item\" key={uniqid()}>\n\t\t\t\t\t\t\t\t\t\t\t<div key={uniqid()} className=\"progress-item-url\">{this.state.urls[url_id].url}</div>\n\t\t\t\t\t\t\t\t\t\t\t<div key={uniqid()} className=\"progress-item-status\">{this.state.urls[url_id].status}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<Divider key={uniqid()} />\n\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</React.Fragment>\n\n\t\t\t\t</Paper>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tcrawl_urls: state.GlobalReducer.crawl_urls,\n\t\tcrawl_selectors: state.GlobalReducer.crawl_selectors,\n\t\tscraper_settings: state.GlobalReducer.scraper_settings,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(Progress)\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Redirect } from 'react-router-dom';\nimport { Table } from 'semantic-ui-react'\nimport uniqid from 'uniqid';\nimport { parse } from 'node-html-parser';\nimport EllipsisText from 'react-ellipsis-text';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { CSVLink } from \"react-csv\";\nimport posed from 'react-pose';\nimport ReactJson from 'react-json-view'\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/PartialResults.css';\n\nfunction get_data_from_tag(tag, attr){\n\tif (attr === 'innerText') {\n\t\treturn tag.structuredText\n\t}\n\n\tvar result = tag.getAttribute(attr);\n\tif (result == null){\n    \treturn ''\n\t}\n\n\treturn result\n\n}\n\nfunction get_content(urls, selectors){\n\tlet matches = {}\n\n\t// Now let's iterate over each url scraped\n\tfor (var i = Object.keys(urls).length - 1; i >= 0; i--) {\n\t\tlet url_id = Object.keys(urls)[i];\n\t\tlet url = urls[url_id];\n\n\t\t// Now let's create an empty entry for each one of the URLs, this entry will later be filled with the selectors results\n\t\tmatches[url_id] = {}\n\n\t\t// We should only parse URLs that were successfully scraped\n\t\tif (url.status === \"success\") {\n\n\t\t\t// Now create a soup from the raw page source code\n\t\t\tlet soup = parse(url.page_source);\n\n\t\t\t// Now let's find the elements of interest withing the soup using the user's CSS selectors\n\t\t\tfor (var j = Object.keys(selectors).length - 1; j >= 0; j--) {\n\t\t\t\tlet selector_id = Object.keys(selectors)[j];\n\t\t\t\tlet selector = selectors[selector_id];\n\n\t\t\t\t// Now get the target element from the soup\n\t\t\t\tlet tag = soup.querySelector(selector.css_selector);\n\t\t\t\tlet tags = soup.querySelectorAll(selector.css_selector);\n\n\t\t\t\t// Check if the element was found, if it is then, get the inner text,\n\t\t\t\t// otherwise just assign false to the result array\n\t\t\t\tif (tag !== null) {\n\t\t\t\t\tif (tags.length > 1) {\n\t\t\t\t\t\tlet text = {\n\t\t\t\t\t\t\t'data_type': 'json',\n\t\t\t\t\t\t\tmatches: []\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet outerHTML = {\n\t\t\t\t\t\t\t'data_type': 'json',\n\t\t\t\t\t\t\tmatches: []\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (var k = tags.length - 1; k >= 0; k--) {\n\t\t\t\t\t\t\tlet unitary_tag = tags[k];\n\t\t\t\t\t\t\ttext.matches.push(get_data_from_tag(unitary_tag, selector.attr))\n\t\t\t\t\t\t\touterHTML.matches.push(unitary_tag.outerHTML)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatches[url_id][selector_id] = {data_type: 'json', text: JSON.stringify(text), html: JSON.stringify(outerHTML)}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tmatches[url_id][selector_id] = {data_type: 'single', text: get_data_from_tag(tag, selector.attr), html: tag.outerHTML}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tmatches[url_id][selector_id] = false\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\t// If the page surce wasn't scraped successfuly, then simply assign false to every selector\n\t\t\t// eslint-disable-next-line\n\t\t\tfor (var j = Object.keys(selectors).length - 1; j >= 0; j--) {\n\t\t\t\tlet selector_id = Object.keys(selectors)[j];\n\t\t\t\tmatches[url_id][selector_id] = false\n\t\t\t}\n\t\t}\n\n\t}\n\n\treturn matches\n}\n\nfunction generate_csv_from_matches(urls, selectors, matches){\n\tlet csv_export_array = [];\n\n\tlet selector_titles = [];\n\tfor (var j = 0; j < Object.keys(selectors).length; j++) {\n\t\tlet selector_id = Object.keys(selectors)[j];\n\t\tlet selector = selectors[selector_id];\n\t\tselector_titles.push(selector.tag.title ? selector.tag.title : 'Post Process')\n\t}\t\n\n\tlet header = ['URL', 'Status', 'Response Code', ...selector_titles];\n\tcsv_export_array.push(header)\n\n\tfor (var i = 0; i < Object.keys(urls).length; i++) {\n\t\tlet current_row = []\n\t\tlet url_id = Object.keys(urls)[i];\n\t\tlet url = urls[url_id];\n\t\tcurrent_row.push(url.url)\n\t\tcurrent_row.push(url.status ? url.status : '')\n\t\tcurrent_row.push(url.response_code)\n\n\t\t// eslint-disable-next-line\n\t\tfor (var j = 0; j < Object.keys(selectors).length; j++) {\n\t\t\tlet selector_id = Object.keys(selectors)[j];\n\n\t\t\tif (matches[url_id][selector_id].length === 0) {\n\t\t\t\tcurrent_row.push('');\n\n\t\t\t} else if (matches[url_id][selector_id].length === 1) {\n\t\t\t\tif (matches[url_id][selector_id][0].text !== null) {\n\t\t\t\t\tcurrent_row.push(matches[url_id][selector_id][0].text.replace(/(\\r\\n|\\n|\\r)/gm, \" \"));\n\t\t\t\t}else{\n\t\t\t\t\tcurrent_row.push('');\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tcurrent_row.push(JSON.stringify(matches[url_id][selector_id]).replace(/(\\r\\n|\\n|\\r)/gm, \" \"));\n\t\t\t}\n\n\t\t}\n\n\t\tcsv_export_array.push(current_row)\n\t}\n\n\treturn csv_export_array\n}\n\n\nconst PosedCell = posed.div({\n\tpressable: true,\n\tinit: { scale: 1 },\n\tpress: { scale: 0.98 }\n});\n\n\nclass PartialResults extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tlet matches = get_content(this.props.crawl_urls, this.props.crawl_selectors)\n\n\t\tthis.state = {\n\t\t\tmatches: matches,\n\t\t\tredirect: false,\n\t\t\topen_dialog: false,\n\t\t\tdialog_json: [],\n\t\t\tdialog_url: '',\n\t\t}\n\n\t\tthis.use_result_as_urls = this.use_result_as_urls.bind(this);\n\t}\n\n\tuse_result_as_urls(){\n\t\t// Get base URL (without path) to use with relative paths down the line\n\t\tconst url = document.createElement('a');\n\t\turl.setAttribute('href', this.state.dialog_url);\n\t\tlet base_url = url.protocol + '//' + url.hostname;\n\t\tif (url.port.length > 0) {\n\t\t\tbase_url = base_url + ':' + url.port\n\t\t}\n\n\t\t// Create a regex pattern to test for absolute URLs\n\t\tvar regex_pattern = new RegExp('^(?:[a-z]+:)?//', 'i');\n\n\t\tvar urls_to_crawl = {};\n\t\tfor (var i = this.state.dialog_json.length - 1; i >= 0; i--) {\n\t\t\tlet scraped_url = this.state.dialog_json[i].text.trim();\n\t\t\tlet is_absolute_url = regex_pattern.test(scraped_url)\n\n\t\t\tif (is_absolute_url) {\n\t\t\t\tlet new_url_id = uniqid();\n\t\t\t\turls_to_crawl[new_url_id] = {\n\t\t\t\t\turl: scraped_url,\n\t\t\t\t\turl_id: new_url_id,\n\t\t\t\t\t'status': 'in_queue',\n\t\t\t\t\tpage_source: false,\n\t\t\t\t\tresponse_code: false\n\t\t\t\t}\n\n\t\t\t}else{\n\t\t\t\tlet new_url_id = uniqid();\n\t\t\t\turls_to_crawl[new_url_id] = {\n\t\t\t\t\turl: base_url + scraped_url,\n\t\t\t\t\turl_id: new_url_id,\n\t\t\t\t\t'status': 'in_queue',\n\t\t\t\t\tpage_source: false,\n\t\t\t\t\tresponse_code: false\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.setState({open_dialog: false});\n\t\tthis.props.actions.set_full_list_urls(urls_to_crawl);\n\t\tthis.setState({redirect: '/'});\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\t\n\t\treturn (\n\t\t\t<div className=\"partial-main-container\">\n\t\t\t\t<Paper className=\"partial-section\">\n\t\t\t\t\t<div className=\"partial-section-header\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"partial-section-header-title\">\n\t\t\t\t\t\t\t\tPartial Results\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"partial-section-header-subtitle\">\n\t\t\t\t\t\t\t\tData parsed using the scraper results before post processing\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button className=\"post-process-previous-button\" variant=\"contained\" color=\"secondary\" onClick={() => this.setState({redirect: '/urls/'})}>BACK</Button>\n\t\t\t\t\t\t\t<CSVLink separator={\"|\"} enclosingCharacter={`\"`} filename={\"pipe-separated-partial-data.csv\"} data={generate_csv_from_matches(this.props.crawl_urls, this.props.crawl_selectors, this.props.partial_results)}>\n\t\t\t\t\t\t\t\t<Button className=\"partial-download-button\" variant=\"contained\" color=\"secondary\">DOWNLOAD</Button>\n\t\t\t\t\t\t\t</CSVLink>\n\t\t\t\t\t\t\t<Button className=\"partial-postprocess-button\" variant=\"contained\" color=\"primary\" onClick={() => {this.setState({redirect: \"/post-process/\"})}}>Post Process</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"partial-section-body\">\n\t\t\t\t\t\t<div className=\"table-container\">\n\t\t\t\t\t\t\t<Table collapsing celled>\n\t\t\t\t\t\t\t\t<Table.Header>\n\t\t\t\t\t\t\t\t\t<Table.Row>\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>URL</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t{Object.keys(this.props.crawl_selectors).map((selector_id) => {\n\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>{this.props.crawl_selectors[selector_id].tag.title ? this.props.crawl_selectors[selector_id].tag.title : 'Post Process' }</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Status</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Response Code</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t\t\t</Table.Header>\n\t\t\t\t\t\t\t\t<Table.Body>\n\t\t\t\t\t\t\t\t\t{Object.keys(this.props.crawl_urls).map((url_id) => {\n\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t<Table.Row key={uniqid()}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].url}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].url} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t{Object.keys(this.props.crawl_selectors).map((selector_id) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.partial_results[url_id][selector_id].length === 1 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={ this.props.partial_results[url_id][selector_id][0].text }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext={ this.props.partial_results[url_id][selector_id][0].text === null ? '' : this.props.partial_results[url_id][selector_id][0].text }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlength={\"70\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.partial_results[url_id][selector_id].length > 1 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"partial-multiple-found\" onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({dialog_json: this.props.partial_results[url_id][selector_id]});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.dialog_url = this.props.crawl_urls[url_id].url;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({open_dialog: true});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tMultiple Found\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].status}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].status} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\t\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].response_code.toString()}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].response_code.toString()} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Table.Body>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Paper>\n\n\n\t\t\t\t<Dialog\n\t\t\t\t\topen={this.state.open_dialog}\n\t\t\t\t\tonClose={() => this.setState({open_dialog: false})}\n\t\t\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\t\t\taria-describedby=\"alert-dialog-description\"\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle id=\"alert-dialog-title\">Your selector returned multiple elements</DialogTitle>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<DialogContentText id=\"alert-dialog-description\">\n\t\t\t\t\t\t\t<ReactJson collapsed={true} src={this.state.dialog_json} />\n\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={() => this.setState({open_dialog: false})}>CLOSE</Button>\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={this.use_result_as_urls}>USE AS URLS</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Dialog>\n\t\t\t</div>\n\n\t\t);\n\t}\n}\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tcrawl_urls: state.GlobalReducer.crawl_urls,\n\t\tcrawl_selectors: state.GlobalReducer.crawl_selectors,\n\t\tpartial_results: state.GlobalReducer.partial_results,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(PartialResults)","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport Input from '@material-ui/core/Input';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { Redirect } from 'react-router-dom';\nimport Popover from 'react-text-selection-popover';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport ScrollArea from 'react-scrollbar';\nimport uniqid from 'uniqid';\nimport ReactShortcut from 'react-shortcut';\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/PostProcess.css';\n\n// Constants import\nimport * as constants from '../constants.js'\n\n\nclass NewMatch extends React.Component {\n\t// constructor(props) {\n\t// \tsuper(props);\n\t// }\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className=\"post-process-selector-container\">\n\t\t\t\t\t<div className=\"post-process-selector-input-container\">\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tlabel=\"Dense multiline\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tdisableUnderline={true}\n\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\tdefaultValue={this.props.match.text}\n\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t// this.props.edit_selector(this.props.config.selector_id, event.target.value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span style={{backgroundColor: this.props.match.tag.color}} className=\"post-process-tag-indicator\">{this.props.match.tag.title}</span>\n\t\t\t\t\t<CopyToClipboard text={this.props.match.text}>\n\t\t\t\t\t\t<i className=\"post-process-selector-icon material-icons\">flip_to_front</i>\n\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t<i className=\"post-process-selector-icon material-icons\" onClick={() => this.props.parent.remove_match(this.props.match.tag.tag_id)}>close</i>\n\t\t\t\t</div>\n\t\t\t\t<Divider />\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n\n\nvar popover_timer = window.setTimeout(() => {}, 1);\n\nclass PostProcessPopovoer extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tis_open: false,\n\t\t\tclose_timeout: false,\n\t\t\tcurrent_selection: ''\n\t\t}\n\n\t\tthis.popover_close = this.popover_close.bind(this);\n\t\tthis.popover_open = this.popover_open.bind(this);\n\t}\n\n\tpopover_open(){\n\t\tlet selection = window.getSelection().toString()\n\t\t// eslint-disable-next-line\n\t\tthis.props.parent.state.current_selection = selection;\n\n\t\twindow.clearTimeout(popover_timer);\n\t\tthis.setState({ is_open: true })\n\t}\n\n\tpopover_close(){\n\t\twindow.clearTimeout(popover_timer);\n\t\tpopover_timer = window.setTimeout(() => {\n\t\t\tthis.setState({ is_open: false });\n\t\t\t// eslint-disable-next-line\n\t\t\tthis.props.parent.state.current_selection = '';\n\t\t}, 400);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{this.props.children}\n\t\t\t\t<Popover\n\t\t\t\t\tselectionRef={this.props.ref_element}\n\t\t\t\t\tisOpen={this.state.is_open}\n\t\t\t\t\tonTextSelect={this.popover_open}\n\t\t\t\t\tonTextUnselect={this.popover_close}\n\t\t\t\t>\n\t\t\t\t\t{/*\n\t\t\t\t\t<div className=\"post-process-popover-content\">\n\t\t\t\t\t\t{constants.tag_options.map((tag) => \n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"post-process-popover-tag\"\n\t\t\t\t\t\t\t\tonClick={() => { this.props.parent.add_match(tag) }} \n\t\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"post-process-popover-tag-color\" style={{backgroundColor: tag.color}} key={uniqid()}></div>\n\t\t\t\t\t\t\t\t<div className=\"post-process-popover-tag-title\" key={uniqid()}>{tag.title}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t*/}\n\t\t\t\t</Popover>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n\nfunction prepare_post_process_array(urls, selectors, matches){\n\tvar to_post_process_array = [];\n\n\t// Now let's create an array with all the elements that should be post processed\n\tfor (var i = 0; i < Object.keys(urls).length; i++) {\n\t\tlet url_id = Object.keys(urls)[i];\n\t\tlet url = urls[url_id];\n\n\t\t// Check if the crawl was a success, ignore otherwise\n\t\tif (url.status === 'success') {\n\n\t\t\t// eslint-disable-next-line\n\t\t\tfor (var j = 0; j < Object.keys(selectors).length; j++) {\n\n\t\t\t\tlet selector_id = Object.keys(selectors)[j];\n\t\t\t\tlet selector = selectors[selector_id];\n\n\t\t\t\t// Check if the tag for the selector is false, that's the signal that the selctor has no defined tag and should rather be post-processed\n\t\t\t\t// Also check if the post process tag was found in the page source code\n\n\t\t\t\tif (selector.tag === false) {\n\t\t\t\t\tfor (var k = matches[url_id][selector_id].length - 1; k >= 0; k--) {\n\t\t\t\t\t\t// If it was, then append the match to be post processed\n\t\t\t\t\t\tto_post_process_array.push({\n\t\t\t\t\t\t\tmatch: matches[url_id][selector_id][k],\n\t\t\t\t\t\t\tselector: selector,\n\t\t\t\t\t\t\turl: url,\n\t\t\t\t\t\t\tpost_processed: {}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to_post_process_array;\n}\n\nfunction prepare_final_resuts(urls, selectors, matches, post_processed){\n\t// Now let's create an array with all possible tag IDs to use as the columns for our export\n\tvar all_tags = [];\n\t\n\t// Now push to the all_tags array all the non-post-process tags\n\tfor (var i = 0; i < Object.keys(selectors).length; i++) {\n\t\tlet selector_id = Object.keys(selectors)[i];\n\t\tlet selector = selectors[selector_id];\n\t\tif (selector.tag) {\n\t\t\tall_tags.push(selector.tag.tag_id)\n\t\t}\n\t}\n\n\t// Now push to the all_tags array all tags created during post-process\n\t// eslint-disable-next-line\n\tfor (var i = post_processed.length - 1; i >= 0; i--) {\n\t\tfor (var j = 0; j < Object.keys(post_processed[i].post_processed).length; j++) {\n\t\t\tlet match_id = Object.keys(post_processed[i].post_processed)[j];\n\t\t\tlet match = post_processed[i].post_processed[match_id];\n\t\t\tall_tags.push(match.tag.tag_id)\n\t\t}\n\t}\n\n\t// This is the object that will contain all the results extracted so far\n\t// It will be a two-dimensional array with url ids in the first dimension and tag ids in the second\n\tvar results = {};\n\n\t// Now let's fill the results array with false for all possible tags, we will later fill this object with the actual results\n\t// eslint-disable-next-line\n\tfor (var i = 0; i < Object.keys(urls).length; i++) {\n\t\tlet url_id = Object.keys(urls)[i];\n\t\tlet url = urls[url_id];\n\t\t\n\t\t// Check if the crawl was a success, ignore otherwise\n\t\tif (url.status === 'success') {\n\t\t\t\n\t\t\t// create the url key\n\t\t\tresults[url.url_id] = {}\n\n\t\t\t// Now fill the url key with all possible tags, but with empty value for each\n\t\t\t// eslint-disable-next-line\n\t\t\tfor (var j = all_tags.length - 1; j >= 0; j--) {\n\t\t\t\tlet current_tag = all_tags[j];\n\t\t\t\tresults[url.url_id][current_tag] = []\n\t\t\t}\n\t\t}\n\t}\n\n\t// Now let's fill the result array with the non post-process results\n\t// eslint-disable-next-line\n\tfor (var i = 0; i < Object.keys(matches).length; i++) {\n\t\tlet url_id = Object.keys(matches)[i];\n\t\tlet selector_ids = matches[url_id];\n\n\t\t// eslint-disable-next-line\n\t\tfor (var j = 0; j < Object.keys(selector_ids).length; j++) {\n\t\t\tlet selector_id = Object.keys(selector_ids)[j];\n\t\t\tlet selector = selectors[selector_id];\n\t\t\tlet result = selector_ids[selector_id];\n\t\t\tlet tag = selector.tag;\n\n\t\t\t// If tag equals false, that means this selector should be post-processed and thus the resuls were already included in the previous loop\n\t\t\t// So we only have to add the resuls where the tag actually has a tag dict assigned to it\n\t\t\tif (tag) {\n\t\t\t\tresults[url_id][tag.tag_id] = result\n\t\t\t}\n\t\t}\n\t}\n\n\t// Now let's fill the result array with the post-process results\n\t// eslint-disable-next-line\n\tfor (var i = post_processed.length - 1; i >= 0; i--) {\n\t\tlet url_id = post_processed[i].url.url_id;\n\t\tlet post_processed_tags = post_processed[i].post_processed;\n\n\t\t// eslint-disable-next-line\n\t\tfor (var j = 0; j < Object.keys(post_processed_tags).length; j++) {\n\t\t\tlet post_procced_tag_id = Object.keys(post_processed_tags)[j];\n\t\t\tlet post_procced_tag = post_processed_tags[post_procced_tag_id]\n\n\t\t\tresults[url_id][post_procced_tag.tag.tag_id] = [{text: post_procced_tag.text, html: post_procced_tag.text}]\n\n\t\t\t// results[url_id][post_procced_tag.tag.tag_id] = post_procced_tag.text;\n\t\t}\n\t}\n\n\treturn(results)\n}\n\n\nclass PostProcess extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.ref_text = React.createRef()\n\t\tthis.ref_html = React.createRef()\n\t\t\n\t\t// eslint-disable-next-line\n\t\tvar to_post_process_array = prepare_post_process_array(this.props.crawl_urls, this.props.crawl_selectors, this.props.partial_results);\n\n\t\tthis.state = {\n\t\t\tcurrent_match_index: 0,\n\t\t\tto_post_process_array: to_post_process_array,\n\t\t\tcurrent_selection: '',\n\t\t\tredirect: false,\n\t\t\tcurrent_tag_type: '',\n\t\t\trender_divider: false\n\t\t}\n\n\t\tthis.add_match = this.add_match.bind(this);\n\t\tthis.remove_match = this.remove_match.bind(this);\n\t\tthis.clear_matches = this.clear_matches.bind(this);\n\t\tthis.finish_post_process = this.finish_post_process.bind(this);\n\t\tthis.next = this.next.bind(this);\n\t\tthis.previous = this.previous.bind(this);\n\n\t\tif (this.state.to_post_process_array.length === 0 ) {\n\t\t\tlet results = prepare_final_resuts(this.props.crawl_urls, this.props.crawl_selectors, this.props.partial_results, this.state.to_post_process_array);\n\t\t\tthis.props.actions.set_final_results(results);\n\t\t\tthis.state.redirect = '/final-results/';\n\t\t}\n\t}\n\n\tadd_match(tag){\n\t\t// Create a copy of the current to_post_process_array\n\t\tvar new_to_post_process_array = this.state.to_post_process_array.slice();\n\n\t\tnew_to_post_process_array[this.state.current_match_index].post_processed[tag.tag_id] = {text: this.state.current_selection, html: this.state.current_selection, tag: tag}\n\t\tthis.setState({to_post_process_array: new_to_post_process_array});\n\t}\n\n\tremove_match(tag_id){\n\t\tvar new_to_post_process_array = this.state.to_post_process_array.slice();\n\n\t\tdelete new_to_post_process_array[this.state.current_match_index].post_processed[tag_id]\n\t\tthis.setState({to_post_process_array: new_to_post_process_array});\n\t}\n\n\tclear_matches(){\n\t\tvar new_to_post_process_array = this.state.to_post_process_array.slice();\n\t\tfor (var i = Object.keys(new_to_post_process_array[this.state.current_match_index].post_processed).length - 1; i >= 0; i--) {\n\t\t\tlet tag_id = Object.keys(new_to_post_process_array[this.state.current_match_index].post_processed)[i];\n\t\t\tdelete new_to_post_process_array[this.state.current_match_index].post_processed[tag_id]\n\t\t}\n\n\t\tthis.setState({to_post_process_array: new_to_post_process_array});\n\t}\n\n\tfinish_post_process(){\n\t\tlet results = prepare_final_resuts(this.props.crawl_urls, this.props.crawl_selectors, this.props.partial_results, this.state.to_post_process_array)\n\t\tthis.props.actions.set_final_results(results)\n\t\tthis.setState({redirect: '/final-results/'})\n\t}\n\n\tnext(){\n\t\tif (this.state.current_match_index < this.state.to_post_process_array.length - 1) {\n\t\t\tthis.setState({current_match_index: this.state.current_match_index + 1});\n\t\t}\n\t}\n\n\tprevious(){\n\t\tif (this.state.current_match_index > 0) {\n\t\t\tthis.setState({current_match_index: this.state.current_match_index - 1});\n\t\t}\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<ReactShortcut keys=\"Right\" onKeysPressed={this.next} />\n\t\t\t\t<ReactShortcut keys=\"Left\" onKeysPressed={this.previous} />\n\t\t\t\t<div className=\"post-process-main-container\">\n\t\t\t\t\t<div className=\"post-process-main-container-inner\">\n\t\t\t\t\t\t<LinearProgress variant=\"determinate\" value={100*(this.state.current_match_index/this.state.to_post_process_array.length)} />\n\t\t\t\t\t\t<Paper className=\"post-process-section\">\n\t\t\t\t\t\t\t<div className=\"post-process-section-header\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div className=\"post-process-section-header-title\">\n\t\t\t\t\t\t\t\t\t\tPost Processing\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"post-process-section-header-subtitle\">\n\t\t\t\t\t\t\t\t\t\tPlease highlight and tag all the content accordingly\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<a href={this.state.to_post_process_array[this.state.current_match_index].url.url} rel=\"noopener noreferrer\" target=\"_blank\">\n\t\t\t\t\t\t\t\t\t\t<Button className=\"post-process-previous-button\" variant=\"contained\" color=\"secondary\">VISIT PAGE</Button>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t{this.state.current_match_index === 0 &&\n\t\t\t\t\t\t\t\t\t\t<Button className=\"post-process-previous-button\" variant=\"contained\" color=\"primary\" onClick={() => this.setState({redirect: '/partial-results/'})}>BACK</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{this.state.current_match_index > 0 &&\n\t\t\t\t\t\t\t\t\t\t<Button className=\"post-process-previous-button\" variant=\"contained\" color=\"primary\" onClick={this.previous}>PREVIOUS</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{this.state.current_match_index < this.state.to_post_process_array.length - 1 &&\n\t\t\t\t\t\t\t\t\t\t<Button className=\"post-process-next-button\" variant=\"contained\" color=\"primary\" onClick={this.next}>NEXT</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{this.state.current_match_index === this.state.to_post_process_array.length - 1 &&\n\t\t\t\t\t\t\t\t\t\t<Button className=\"post-process-next-button\" variant=\"contained\" color=\"primary\" onClick={this.finish_post_process}>FINISH</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"post-process-section-body\">\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className=\"post-process-section-body-inner\">\n\t\t\t\t\t\t\t\t\t<ScrollArea className=\"post-process-section-body-left\" verticalContainerStyle={{width: 4}}>\n\t\t\t\t\t\t\t\t\t\t{constants.tag_options.map((tag) => {\n\t\t\t\t\t\t\t\t\t\t\tif (tag.type !== this.state.current_tag_type) {\n\t\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.current_tag_type = tag.type;\n\t\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.render_divider = true;\n\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.render_divider = false;\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.render_divider &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-popover-divider-title\">{this.state.current_tag_type}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"post-process-popover-tag\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => { this.add_match(tag) }} \n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-popover-tag-color\" style={{backgroundColor: tag.color}} key={uniqid()}></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-popover-tag-title\" key={uniqid()}>{tag.title}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</ScrollArea>\n\t\t\t\t\t\t\t\t\t<div className=\"post-process-section-body-right\">\n\t\t\t\t\t\t\t\t\t\t<PostProcessPopovoer parent={this} ref_element={this.ref_text}>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-raw-text\" contentEditable=\"true\" ref={this.ref_text}>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.to_post_process_array[this.state.current_match_index].match.text}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</PostProcessPopovoer>\n\t\t\t\t\t\t\t\t\t\t<PostProcessPopovoer parent={this} ref_element={this.ref_html}>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-raw-html\" contentEditable=\"true\" ref={this.ref_html}>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.to_post_process_array[this.state.current_match_index].match.html}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</PostProcessPopovoer>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Paper>\n\n\t\t\t\t\t\t<Paper className=\"post-process-section\">\n\t\t\t\t\t\t\t<div className=\"post-process-section-header\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div className=\"post-process-section-header-title\">\n\t\t\t\t\t\t\t\t\t\tCurrent Tags\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"post-process-section-header-subtitle\">\n\t\t\t\t\t\t\t\t\t\tThese are the tags selected so far\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<Button className=\"post-process-next-button\" variant=\"contained\" color=\"primary\" onClick={this.clear_matches}>CLEAR</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t{Object.keys(this.state.to_post_process_array[this.state.current_match_index].post_processed).length > 0 &&\n\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<ScrollArea className=\"post-process-section-body post-process-matcehs-section\">\n\t\t\t\t\t\t\t\t{Object.keys(this.state.to_post_process_array[this.state.current_match_index].post_processed).map((tag_id) => {\n\t\t\t\t\t\t\t\t\tlet match = this.state.to_post_process_array[this.state.current_match_index].post_processed[tag_id];\n\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t<NewMatch parent={this} match={match} key={uniqid()}/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</ScrollArea>\n\t\t\t\t\t\t</Paper>\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tcrawl_urls: state.GlobalReducer.crawl_urls,\n\t\tcrawl_selectors: state.GlobalReducer.crawl_selectors,\n\t\tpartial_results: state.GlobalReducer.partial_results,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(PostProcess)","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Redirect } from 'react-router-dom';\nimport { Table } from 'semantic-ui-react'\nimport uniqid from 'uniqid';\nimport EllipsisText from 'react-ellipsis-text';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport { CSVLink } from \"react-csv\";\nimport posed from 'react-pose';\n\n// Constants import\nimport * as constants from '../constants.js'\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/FinalResults.css';\n\nfunction randomProperty(obj) {\n\tvar keys = Object.keys(obj);\n\treturn keys[0];\n};\n\nconst PosedCell = posed.div({\n\tpressable: true,\n\tinit: { scale: 1 },\n\tpress: { scale: 0.98 }\n});\n\n// Simple helper function to create a dictionary with the tag_id's as the keys and the actual tags as the values\nfunction create_tag_dict(tag_array){\n\tvar tag_dict = {}\n\tfor (var i = tag_array.length - 1; i >= 0; i--) {\n\t\tlet current_tag = tag_array[i]\n\t\ttag_dict[current_tag.tag_id] = current_tag;\n\t}\n\n\treturn tag_dict\n}\n\nfunction generate_csv_from_matches(final_results, tags, urls){\n\tlet csv_export_array = [];\n\tlet tag_titles = [];\n\n\t// Now let's create an array with all the tag's names to work as the header of our CSV\n\t// To do so we can get a random key (that represents a random URL) of our final_resuts dict and get all the tags for that url\n\tlet random_url_id = randomProperty(final_results)\n\tfor (var i = Object.keys(final_results[random_url_id]).length - 1; i >= 0; i--) {\n\t\tlet current_tag = Object.keys(final_results[random_url_id])[i];\n\t\ttag_titles.push(tags[current_tag].title)\n\t}\n\n\t// The Header of our CSV then is the tag_titles variable plus the default headers we would like to add: URL, Status and Response Code\n\tlet header = ['URL', 'Status', 'Response Code', ...tag_titles];\n\n\tcsv_export_array.push(header)\n\n\t// Now we simply have to push the results for each one of the URLs to a separate array (current_row) and then push that array to the final array that will become our CSV (csv_export_array)\n\t// eslint-disable-next-line\n\tfor (var i = Object.keys(final_results).length - 1; i >= 0; i--) {\n\t\tlet current_row = []\n\t\tlet current_url = Object.keys(final_results)[i];\n\n\t\tcurrent_row.push(urls[current_url].url)\n\t\tcurrent_row.push(urls[current_url].status)\n\t\tcurrent_row.push(urls[current_url].response_code)\n\n\t\tfor (var j = Object.keys(final_results[current_url]).length - 1; j >= 0; j--) {\n\t\t\tlet current_tag = Object.keys(final_results[current_url])[j]\n\n\t\t\tif (final_results[current_url][current_tag].length > 0) {\n\t\t\t\tcurrent_row.push(final_results[current_url][current_tag][0].text.replace(/(\\r\\n|\\n|\\r)/gm, \" \"))\n\t\t\t}else{\n\t\t\t\tcurrent_row.push('')\n\t\t\t}\n\t\t}\n\n\t\tcsv_export_array.push(current_row)\n\t}\n\n\treturn csv_export_array\n}\n\nclass FinalResults extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tvar tag_dict = create_tag_dict(constants.tag_options)\n\n\t\tthis.state = {\n\t\t\ttags: tag_dict,\n\t\t\tcsv_data: generate_csv_from_matches(this.props.final_results, tag_dict, this.props.crawl_urls),\n\t\t\tredirect: false\n\t\t}\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"final-main-container\">\n\t\t\t\t<Paper className=\"final-section\">\n\t\t\t\t\t<div className=\"final-section-header\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"final-section-header-title\">\n\t\t\t\t\t\t\t\tFinal Results\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"final-section-header-subtitle\">\n\t\t\t\t\t\t\t\tData parsed using the scraper results after post processing\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button className=\"final-home-button\" variant=\"contained\" color=\"secondary\" onClick={() => {this.setState({redirect: \"/\"})}}>Home</Button>\n\t\t\t\t\t\t\t<CSVLink separator={\"|\"} enclosingCharacter={`\"`} filename={\"pipe-separated-final-data.csv\"} data={this.state.csv_data}>\n\t\t\t\t\t\t\t\t<Button className=\"final-download-button\" variant=\"contained\" color=\"primary\">DOWNLOAD</Button>\n\t\t\t\t\t\t\t</CSVLink>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"final-section-body\">\n\t\t\t\t\t\t<div className=\"table-container\">\n\t\t\t\t\t\t\t<Table collapsing celled>\n\t\t\t\t\t\t\t\t<Table.Header>\n\t\t\t\t\t\t\t\t\t<Table.Row>\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>URL</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t{Object.keys(this.props.final_results[Object.keys(this.props.final_results)[0]]).map((tag_id) => {\n\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell key={uniqid()}>{this.state.tags[tag_id].title}</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Status</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Response Code</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t\t\t</Table.Header>\n\t\t\t\t\t\t\t\t<Table.Body>\n\t\t\t\t\t\t\t\t\t{Object.keys(this.props.final_results).map((url_id) => {\n\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t<Table.Row key={uniqid()}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].url}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].url} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t{Object.keys(this.props.final_results[url_id]).map((tag_id) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell key={uniqid()}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.final_results[url_id][tag_id].length > 0 ? this.props.final_results[url_id][tag_id][0].text : ''}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.final_results[url_id][tag_id].length > 0 ? this.props.final_results[url_id][tag_id][0].text : ''} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].status}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].status} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\t\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].response_code.toString()}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].response_code.toString()} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Table.Body>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Paper>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tcrawl_urls: state.GlobalReducer.crawl_urls,\n\t\tcrawl_selectors: state.GlobalReducer.crawl_selectors,\n\t\tfinal_results: state.GlobalReducer.final_results,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(FinalResults)","import React, { Component } from 'react';\nimport { Route, Switch } from \"react-router-dom\";\n// import { connect } from 'react-redux'\n// import { bindActionCreators } from 'redux'\nimport Home from '../views/Home.js';\nimport Urls from '../views/Urls.js';\nimport Progress from '../views/Progress.js';\nimport PartialResults from '../views/PartialResults.js';\nimport PostProcess from '../views/PostProcess.js';\nimport FinalResults from '../views/FinalResults.js';\n\nexport default class Routes extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<Switch>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<Home/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/urls/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<Urls/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/progress/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<Progress/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/partial-results/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<PartialResults/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/post-process/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<PostProcess/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/final-results/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<FinalResults/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</Switch>\n\t\t);\n\t}\n}","import React, { Component } from 'react';\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\n// Components\nimport Header from './views/Header.js';\nimport Footer from './views/Footer.js';\n\n// import the store created in the store.js file\nimport { store_persistor } from './store';\n\n// Constants import\nimport * as constants from './constants.js'\n\n// URLs Imports\nimport Routes from './routes/Routes.js';\n\n// CSS Imports\nimport './App.css';\n\n// General theme definition\nconst material_ui_theme = {\n\ttypography: {\n\t\tfontFamily: [\n\t\t\t'Karla',\n\t\t].join(','),\n\t},\n\tpalette: {\n\t\tprimary: {\n\t\t\tmain: '#361FFB',\n\t\t\tlight: '#361FFB',\n\t\t\tdark: '#361FFB',\n\t\t\tcontrastText: '#FFFFFF',\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: '#BEBEBE',\n\t\t\tlight: '#BEBEBE',\n\t\t\tdark: '#BEBEBE',\n\t\t\tcontrastText: '#000000',\n\t\t},\n\t\tprimary1Color: '#361FFB',\n\t\tprimary2Color: '#361FFB',\n\t\tprimary3Color: '#361FFB',\n\t\taccent1Color: '#361FFB',\n\t\taccent2Color: '#361FFB',\n\t\taccent3Color: '#361FFB',\n\t\ttextColor: '#101010',\n\t},\n\tappBar: {\n\t\theight: 50,\n\t},\n\tdatePicker: {\n\t\tcolor: '#361FFB',\n\t\ttextColor: '#101010',\n\t\tcalendarTextColor: '#101010',\n\t\tselectColor: '#361FFB',\n\t\tselectTextColor: '#101010',\n\t\tcalendarYearBackgroundColor: '#ffffff',\n\t\theaderColor: '#361FFB',\n\t},\n\traisedButton: {\n\t\ttextColor: '#000000',\n\t\tprimaryTextColor: '#000000'\n\t}\n}\nconst theme = createMuiTheme(material_ui_theme);\n\n\n\nclass App extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\topen_back_warning_dialog: false\n\t\t}\n\n\t\tif (constants.purge_store_persist_on_reload) {\n\t\t\tstore_persistor.pause()\n\t\t\tstore_persistor.flush().then(() => { return store_persistor.purge() })\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Router>\n\t\t\t\t<MuiThemeProvider theme={theme}>\n\t\t\t\t\t<Header />\n\t\t\t\t\t<div className=\"main-content\">\n\t\t\t\t\t\t<Routes />\n\t\t\t\t\t</div>\n\t\t\t\t\t<Footer />\n\t\t\t\t</MuiThemeProvider>\n\t\t\t</Router>\n\t\t);\n\t}\n}\n\nif (!constants.debug) {\n\twindow.addEventListener('beforeunload', function (e) {\n\t\te.preventDefault();\n\t\te.returnValue = '';\n\t});\n}\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { Provider } from 'react-redux'\nimport { PersistGate } from 'redux-persist/integration/react'\n\n// import the store created in the store.js file\nimport { store, store_persistor } from './store';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<PersistGate\n\t\t\tloading={null}\n\t\t\tpersistor={store_persistor}\n\t\t>\n\t\t\t<App />\n\t\t</PersistGate>\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();"],"sourceRoot":""}