{"version":3,"sources":["views/Header.js","views/Footer.js","reducers/GlobalReducer.js","reducers/index.js","store.js","constants.js","actions/GlobalActions.js","views/Home.js","views/Urls.js","views/Progress.js","views/PartialResults.js","views/PostProcess.js","views/FinalResults.js","routes/Routes.js","App.js","serviceWorker.js","index.js"],"names":["Header","className","React","Component","Footer","initial_state","full_list_urls","crawl_urls","crawl_selectors","partial_results","final_results","scraper_settings","use_proxy","scroll_page","GenericReducer","state","action","new_state","Object","assign","type","RootReducer","combineReducers","GlobalReducer","persistConfig","key","storage","PersistedRootReducer","persistReducer","store","createStore","store_persistor","persistStore","regex_options","title","example","regex","tags","regex_id","tag_options","tag_id","color","set_full_list_urls","set_scraper_settings","set_crawl_urls","set_crawl_selectors","set_partial_results","set_final_results","json_parse_booleans","value","validate_css_selector","selector","document","querySelector","Selector","props","open_tags_dialog","open_attributes_dialog","is_selector_valid","custom_attribute","Fragment","style","this","backgroundColor","Input","label","fullWidth","disableUnderline","placeholder","defaultValue","config","css_selector","onChange","event","setState","target","edit_selector","selector_id","tag","marginLeft","attr","onClick","remove_selector","Divider","Dialog","onClose","open","aria-labelledby","DialogTitle","id","List","ListItem","button","add_tag","uniqid","ListItemText","primary","constants","map","TextField","margin","variant","new_selector_set_name","onKeyDown","e","add_attribute","Home","add_selector_field","selectors","urls","snackbar_open","snackbar_message","redirect","display_save_dialog","display_load_dialog","is_selector_set_loading","available_selector_sets","add_selector","bind","next","save","delete","load","load_selectors","new_selectors","new_id","actions","attribute","full_list","i","keys","length","current_selector_id","$","ajax","context","url","scraper_base_url","data","success","console","log","selector_sets","error","complete","XHR","status","timeout","selector_set","selector_set_dict","JSON","parse","select_set_hash_id","to","Paper","Button","marginRight","speed","contentClassName","horizontal","smoothScrolling","aria-describedby","DialogContent","DialogContentText","marginTop","marginBottom","DialogActions","CircularProgress","selectors_json","set_name","ListItemAvatar","hash_id","Snackbar","message","autoHideDuration","connect","dispatch","bindActionCreators","global_action_creators","url_dict_to_string","url_dict","urls_string","url_ids","url_list_changed","run","use_proxy_changed","scroll_page_changed","new_urls","split","url_id","page_source","response_code","obj","n","current_url_id","undefined","validate","website","trim","splice","sort","slice","reduce","memo","current","is_checked","update","$set","data-tip","multiline","Checkbox","checked","Progress","in_queue_counter","initial_queue_size","matches","crawl","crawl_next","count_in_queue","update_queue","crawl_finished","current_url","selector_ids","settings","counter","LinearProgress","get_data_from_tag","structuredText","result","getAttribute","generate_csv_from_matches","csv_export_array","selector_titles","j","push","header","current_row","text","replace","stringify","PosedCell","posed","div","pressable","init","scale","press","PartialResults","soup","querySelectorAll","outerHTML","k","unitary_tag","data_type","html","get_content","open_dialog","dialog_json","dialog_url","use_result_as_urls","createElement","setAttribute","base_url","protocol","hostname","port","regex_pattern","RegExp","urls_to_crawl","scraped_url","test","new_url_id","separator","enclosingCharacter","filename","Table","collapsing","celled","Row","HeaderCell","Body","Cell","toString","collapsed","src","NewMatch","match","parent","remove_match","popover_timer","window","setTimeout","PostProcessPopovoer","is_open","close_timeout","current_selection","popover_close","popover_open","selection","getSelection","clearTimeout","children","selectionRef","ref_element","isOpen","onTextSelect","onTextUnselect","prepare_final_resuts","post_processed","all_tags","match_id","results","current_tag","post_processed_tags","post_procced_tag","get_tag","PostProcess","ref_text","createRef","ref_html","to_post_process_array","prepare_post_process_array","current_match_index","current_tag_type","render_divider","add_regex_match","add_match","clear_matches","finish_post_process","previous","new_to_post_process_array","current_text","exec","onKeysPressed","href","rel","verticalContainerStyle","width","contentEditable","ref","tag_titles","random_url_id","FinalResults","tag_dict","tag_array","create_tag_dict","csv_data","Routes","path","exact","render","material_ui_theme","typography","fontFamily","join","palette","main","light","dark","contrastText","secondary","primary1Color","primary2Color","primary3Color","accent1Color","accent2Color","accent3Color","textColor","appBar","height","datePicker","calendarTextColor","selectColor","selectTextColor","calendarYearBackgroundColor","headerColor","raisedButton","primaryTextColor","theme","createMuiTheme","App","open_back_warning_dialog","addEventListener","preventDefault","returnValue","Boolean","location","ReactDOM","loading","persistor","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"2xBAKqBA,G,wLAMnB,OACC,yBAAKC,UAAU,e,GAPkBC,IAAMC,YCHrBC,E,iLAMnB,OACC,kC,GAPiCF,IAAMC,W,mCCFpCE,EAAgB,CACrBC,eAAgB,GAChBC,YAAY,EACZC,iBAAiB,EACjBC,iBAAiB,EACjBC,eAAe,EACfC,iBAAkB,CACjBC,WAAW,EACXC,aAAa,IAsCAC,MAlCf,WAAwD,IAAhCC,EAA+B,uDAAvBV,EAAeW,EAAQ,uCAClDC,EAAYC,OAAOC,OAAO,GAAIJ,GAElC,OAAQC,EAAOI,MACd,IAAK,qBAEJ,OADAH,EAAUX,eAAiBU,EAAOV,eAC3BW,EAER,IAAK,uBAEJ,OADAA,EAAUN,iBAAmBK,EAAOL,iBAC7BM,EAER,IAAK,iBAEJ,OADAA,EAAUV,WAAaS,EAAOT,WACvBU,EAER,IAAK,sBAEJ,OADAA,EAAUT,gBAAkBQ,EAAOR,gBAC5BS,EAER,IAAK,sBAEJ,OADAA,EAAUR,gBAAkBO,EAAOP,gBAC5BQ,EAER,IAAK,oBAEJ,OADAA,EAAUP,cAAgBM,EAAON,cAC1BO,EAER,QACC,OAAOF,IC/BKM,EANKC,YAAgB,CACnCC,kBCEKC,EAAgB,CACrBC,IAAK,OACLC,aAGKC,EAAuBC,YAAeJ,EAAeH,GAErDQ,EAAQC,YAAYH,GACpBI,EAAkBC,YAAaH,GCHxBI,EAAgB,CAC5B,CACCC,MAAO,wCACPC,QAAS,0BACTC,MAAO,yCACPC,KAAM,CAAC,aAAc,aAAc,cACnCC,SAAU,cAEX,CACCJ,MAAO,mCACPC,QAAS,4BAETC,MAAO,mDACPC,KAAM,CAAC,aAAc,aAAc,cACnCC,SAAU,cAEX,CACCJ,MAAO,eACPC,QAAS,cAETC,MAAO,6BACPC,KAAM,CAAC,aAAc,cACrBC,SAAU,eAMCC,EAAc,CAE1B,CACCL,MAAO,cACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,oBACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,oBACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,iBACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,qBACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,qBACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,mBACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAEP,CACAP,MAAO,mBACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,oBACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAIR,CACCP,MAAO,cACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,mBACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,0BACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,wBACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,sBACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,kBACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,gBACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,cACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,kBACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,qBACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,oBACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,oBACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,0BACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,mBACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,oBACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,kBACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,mBACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,oBACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,qBACPd,KAAM,SACNoB,OAAQ,aACRC,MAAO,WAIR,CACCP,MAAO,eACPd,KAAM,UACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,qBACPd,KAAM,UACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,mBACPd,KAAM,UACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,oBACPd,KAAM,UACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,eACPd,KAAM,UACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,oBACPd,KAAM,UACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,qBACPd,KAAM,UACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,sBACPd,KAAM,UACNoB,OAAQ,aACRC,MAAO,WAIR,CACCP,MAAO,qBACPd,KAAM,gBACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,4BACPd,KAAM,gBACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,wBACPd,KAAM,gBACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,sBACPd,KAAM,gBACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,wBACPd,KAAM,gBACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,0BACPd,KAAM,gBACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,2BACPd,KAAM,gBACNoB,OAAQ,aACRC,MAAO,WAER,CACCP,MAAO,4BACPd,KAAM,gBACNoB,OAAQ,aACRC,MAAO,Y,+OCtTF,SAASC,GAAmBpC,GAMlC,MALuB,CACtBc,KAAM,qBACNd,eAAgBA,GAMX,SAASqC,GAAqBhC,GAMpC,MALuB,CACtBS,KAAM,uBACNT,iBAAkBA,GAMb,SAASiC,GAAerC,GAM9B,MALuB,CACtBa,KAAM,iBACNb,WAAYA,GAMP,SAASsC,GAAoBrC,GAMnC,MALuB,CACtBY,KAAM,sBACNZ,gBAAiBA,GAOZ,SAASsC,GAAoBrC,GAMnC,MALuB,CACtBW,KAAM,sBACNX,gBAAiBA,GAMZ,SAASsC,GAAkBrC,GAMjC,MALuB,CACtBU,KAAM,oBACNV,cAAeA,G,OCfjB,SAASsC,GAAoBvB,EAAKwB,GACjC,MAAc,UAAVA,GAGGA,EAGR,SAASC,GAAsBC,GAC9B,IAEC,OADAC,SAASC,cAAcF,IAChB,EAER,UAGA,OAAO,E,IAGFG,G,YACL,WAAYC,GAAQ,IAAD,8BAClB,4CAAMA,KAEDxC,MAAQ,CACZyC,kBAAkB,EAClBC,wBAAwB,EACxBC,mBAAmB,EACnBC,iBAAkB,IAPD,E,sEAWT,IAAD,OACR,OACC,kBAAC,IAAMC,SAAP,KACC,kBAAC,IAAD,MACA,yBAAK3D,UAAU,0BAA0B4D,MAAOC,KAAK/C,MAAM2C,kBAAoB,GAAK,CAACK,gBAAiB,cACrG,yBAAK9D,UAAU,iCACd,kBAAC+D,EAAA,EAAD,CACCC,MAAM,kBACNC,WAAS,EACTC,kBAAkB,EAClBC,YAAY,0BACZC,aAAcP,KAAKP,MAAMe,OAAOC,aAChCC,SAAU,SAACC,GACV,EAAKC,SAAS,CAAChB,kBAAmBR,GAAsBuB,EAAME,OAAO1B,SACrE,EAAKM,MAAMqB,cAAc,EAAKrB,MAAMe,OAAOO,YAAaJ,EAAME,OAAO1B,WAIvEa,KAAKP,MAAMe,OAAOQ,KAClB,0BAAMjB,MAAO,CAACE,gBAAiBD,KAAKP,MAAMe,OAAOQ,IAAIrC,OAAQxC,UAAU,sBAAsB6D,KAAKP,MAAMe,OAAOQ,IAAI5C,QAElH4B,KAAKP,MAAMe,OAAOQ,KACnB,0BAAMjB,MAAO,CAACE,gBAAiB,WAAY9D,UAAU,sBAArD,gBAGD,0BAAM4D,MAAO,CAACE,gBAAiB,UAAWgB,WAAY,GAAItC,MAAO,SAAUxC,UAAU,sBAAsB6D,KAAKP,MAAMe,OAAOU,MAC7H,uBAAG/E,UAAU,oCAAoCgF,QAAS,kBAAM,EAAKP,SAAS,CAAClB,kBAAkB,MAAjG,SACA,uBAAGvD,UAAU,oCAAoCgF,QAAS,kBAAM,EAAKP,SAAS,CAACjB,wBAAwB,MAAvG,QACA,uBAAGxD,UAAU,oCAAoCgF,QAAS,kBAAM,EAAK1B,MAAM2B,gBAAgB,EAAK3B,MAAMe,OAAOO,eAA7G,UAED,kBAACM,EAAA,EAAD,MAEA,kBAACC,EAAA,EAAD,CACCC,QAAS,kBAAM,EAAKX,SAAS,CAAClB,kBAAkB,KAChD8B,KAAMxB,KAAK/C,MAAMyC,iBACjB+B,kBAAgB,uBAEhB,kBAACC,EAAA,EAAD,CAAaC,GAAG,uBAAhB,gBACA,kBAACC,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CACC9B,MAAO,CAACE,gBAAiB,WACzB6B,QAAM,EACNX,QAAS,WACR,EAAKP,SAAS,CAAClB,kBAAkB,IACjC,EAAKD,MAAMsC,QAAQ,EAAKtC,MAAMe,OAAOO,aAAa,IAEnDpD,IAAKqE,OAEL,kBAACC,EAAA,EAAD,CAAcC,QAAQ,kBAEtBC,EAAsBC,KAAI,SAACpB,GAAD,OAC1B,kBAACa,EAAA,EAAD,CACCC,QAAM,EACNX,QAAS,WACR,EAAKP,SAAS,CAAClB,kBAAkB,IACjC,EAAKD,MAAMsC,QAAQ,EAAKtC,MAAMe,OAAOO,YAAaC,IAEnDrD,IAAKqE,OAEL,kBAACC,EAAA,EAAD,CAAcC,QAASlB,EAAI5C,cAM/B,kBAACkD,EAAA,EAAD,CACCC,QAAS,kBAAM,EAAKX,SAAS,CAACjB,wBAAwB,KACtD6B,KAAMxB,KAAK/C,MAAM0C,uBACjB8B,kBAAgB,uBAEhB,kBAACC,EAAA,EAAD,CAAaC,GAAG,uBAAhB,uBACA,kBAACU,EAAA,EAAD,CACCtC,MAAO,CAACuC,OAAQ,IAChBnC,MAAM,mBACNoC,QAAQ,WACRpD,MAAOa,KAAK/C,MAAMuF,sBAElB9B,SAAU,SAACC,GAAD,OAAW,EAAK1D,MAAM4C,iBAAmBc,EAAME,OAAO1B,OAChEsD,UAAW,SAACC,GAAsB,UAAVA,EAAE/E,KAAiB,EAAK8B,MAAMkD,cAAc,EAAKlD,MAAMe,OAAOO,YAAa,EAAK9D,MAAM4C,qBAE/G,kBAAC+B,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CACCC,QAAM,EACNX,QAAS,WACR,EAAKP,SAAS,CAACjB,wBAAwB,IACvC,EAAKF,MAAMkD,cAAc,EAAKlD,MAAMe,OAAOO,YAAa,cAEzDpD,IAAKqE,OAEL,kBAACC,EAAA,EAAD,CAAcC,QAAS,eAExB,kBAACL,EAAA,EAAD,CACCC,QAAM,EACNX,QAAS,WACR,EAAKP,SAAS,CAACjB,wBAAwB,IACvC,EAAKF,MAAMkD,cAAc,EAAKlD,MAAMe,OAAOO,YAAa,SAEzDpD,IAAKqE,OAEL,kBAACC,EAAA,EAAD,CAAcC,QAAS,UAExB,kBAACL,EAAA,EAAD,CACCC,QAAM,EACNX,QAAS,WACR,EAAKP,SAAS,CAACjB,wBAAwB,IACvC,EAAKF,MAAMkD,cAAc,EAAKlD,MAAMe,OAAOO,YAAa,QAEzDpD,IAAKqE,OAEL,kBAACC,EAAA,EAAD,CAAcC,QAAS,SAExB,kBAACL,EAAA,EAAD,CACCC,QAAM,EACNX,QAAS,WACR,EAAKP,SAAS,CAACjB,wBAAwB,IACvC,EAAKF,MAAMkD,cAAc,EAAKlD,MAAMe,OAAOO,YAAa,WAEzDpD,IAAKqE,OAEL,kBAACC,EAAA,EAAD,CAAcC,QAAS,YAExB,kBAACL,EAAA,EAAD,CACCC,QAAM,EACNX,QAAS,WACR,EAAKP,SAAS,CAACjB,wBAAwB,IACvC,EAAKF,MAAMkD,cAAc,EAAKlD,MAAMe,OAAOO,YAAa,UAEzDpD,IAAKqE,OAEL,kBAACC,EAAA,EAAD,CAAcC,QAAS,WAExB,kBAACL,EAAA,EAAD,CACCC,QAAM,EACNX,QAAS,WACR,EAAKP,SAAS,CAACjB,wBAAwB,IACvC,EAAKF,MAAMkD,cAAc,EAAKlD,MAAMe,OAAOO,YAAa,OAEzDpD,IAAKqE,OAEL,kBAACC,EAAA,EAAD,CAAcC,QAAS,e,GAvJP9F,IAAMC,WAiKvBuG,G,YACL,WAAYnD,GAAQ,IAAD,8BAClB,4CAAMA,KAEDxC,MAAQ,CACZ4F,mBAAoB,GACpBC,UAAW,EAAKrD,MAAM/C,gBAAkB,EAAK+C,MAAM/C,gBAAkB,GACrEqG,KAAM,EAAKtD,MAAMjD,eACjBwG,eAAe,EACfC,iBAAkB,GAClBC,UAAU,EACVV,sBAAuB,GACvBW,qBAAqB,EACrBC,qBAAqB,EACrBC,yBAAyB,EACzBC,wBAAyB,IAG1B,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKpC,gBAAkB,EAAKA,gBAAgBoC,KAArB,gBACvB,EAAKzB,QAAU,EAAKA,QAAQyB,KAAb,gBACf,EAAKb,cAAgB,EAAKA,cAAca,KAAnB,gBACrB,EAAK1C,cAAgB,EAAKA,cAAc0C,KAAnB,gBACrB,EAAKC,KAAO,EAAKA,KAAKD,KAAV,gBACZ,EAAKE,KAAO,EAAKA,KAAKF,KAAV,gBACZ,EAAKG,OAAS,EAAKA,OAAOH,KAAZ,gBACd,EAAKI,KAAO,EAAKA,KAAKJ,KAAV,gBACZ,EAAKK,eAAiB,EAAKA,eAAeL,KAApB,gBA1BJ,E,4EA+BlB,IAAIM,EAAgB1G,OAAOC,OAAO,GAAI2C,KAAK/C,MAAM6F,WAE7CiB,EAAS/B,MACb8B,EAAcC,GAAU,CACvBhD,YAAagD,EACbtD,aAAcT,KAAK/C,MAAM4F,mBACzB7B,KAAK,EACL1C,MAAO,GACP4C,KAAM,YACN6B,KAAM,IAEP/C,KAAKY,SAAS,CAACkC,UAAWgB,IAC1B9D,KAAKY,SAAS,CAACiC,mBAAoB,KACnC7C,KAAKP,MAAMuE,QAAQjF,oBAAoB+E,K,sCAGxB/C,GACf,IAAI+C,EAAgB1G,OAAOC,OAAO,GAAI2C,KAAK/C,MAAM6F,kBAC1CgB,EAAc/C,GACrBf,KAAKY,SAAS,CAACkC,UAAWgB,IAC1B9D,KAAKP,MAAMuE,QAAQjF,oBAAoB+E,K,8BAGhC/C,EAAaC,GACpB,IAAI8C,EAAgB1G,OAAOC,OAAO,GAAI2C,KAAK/C,MAAM6F,WACjDgB,EAAc/C,GAAd,IAAoCC,EACpChB,KAAKY,SAAS,CAACkC,UAAWgB,IAC1B9D,KAAKP,MAAMuE,QAAQjF,oBAAoB+E,K,oCAG1B/C,EAAakD,GAC1B,IAAIH,EAAgB1G,OAAOC,OAAO,GAAI2C,KAAK/C,MAAM6F,WACjDgB,EAAc/C,GAAd,KAAqCkD,EACrCjE,KAAKY,SAAS,CAACkC,UAAWgB,IAC1B9D,KAAKP,MAAMuE,QAAQjF,oBAAoB+E,K,oCAG1B/C,EAAaN,GAC1B,IAAIqD,EAAgB1G,OAAOC,OAAO,GAAI2C,KAAK/C,MAAM6F,WACjDgB,EAAc/C,GAAd,aAA6CN,EAE7CT,KAAK/C,MAAM6F,UAAYgB,I,2BAGnBI,GAIJ,IAHA,IAAIpB,EAAY1F,OAAOC,OAAO,GAAI2C,KAAK/C,MAAM6F,WAGpCqB,EAAI/G,OAAOgH,KAAKtB,GAAWuB,OAAS,EAAGF,GAAK,EAAGA,IAAK,CAC5D,IAAIG,EAAsBlH,OAAOgH,KAAKtB,GAAWqB,GAC5C/E,GAAsB0D,EAAUwB,GAAqB7D,sBAClDqC,EAAUwB,GAInB,GAAsC,IAAlClH,OAAOgH,KAAKtB,GAAWuB,OAG1B,OAFArE,KAAKY,SAAS,CAACqC,iBAAkB,sCACjCjD,KAAKY,SAAS,CAACoC,eAAe,IAI/BhD,KAAKP,MAAMuE,QAAQjF,oBAAoB+D,GAEvC9C,KAAKY,SAAS,CAACsC,SAAU,a,uCAIzBlD,KAAKY,SAAS,CAACyC,yBAAyB,IACxCrD,KAAKY,SAAS,CAACwC,qBAAqB,IACpCmB,KAAEC,KAAK,CACNC,QAASzE,KACT0E,IFpT+BC,yCEqT/BrH,KAAM,MACNsH,KAAM,GACNC,QAAS,SAASD,GACjBE,QAAQC,IAAIH,GACZ5E,KAAKY,SAAS,CAAC0C,wBAAyBsB,EAAKI,gBAC7ChF,KAAKY,SAAS,CAACyC,yBAAyB,KAEzC4B,MAAO,SAASL,KAChBM,SAAU,SAASC,EAAKC,KACxBC,QAAS,S,2BAINC,GACJ,IAAIC,EAAoBC,KAAKC,MAAMH,EAAcpG,IACjDc,KAAKY,SAAS,CAAEkC,UAAWyC,IAC3BvF,KAAKY,SAAS,CAACwC,qBAAqB,IACpC0B,QAAQC,IAAIQ,K,6BAIZ,GAAgD,IAA5CvF,KAAK/C,MAAMuF,sBAAsB6B,OAGpC,OAFArE,KAAKY,SAAS,CAACqC,iBAAkB,qDACjCjD,KAAKY,SAAS,CAACoC,eAAe,IAI/BhD,KAAKY,SAAS,CAACuC,qBAAqB,IACpCoB,KAAEC,KAAK,CACNC,QAASzE,KACT0E,IFpV+BC,6CEqV/BrH,KAAM,MACNsH,KAAM,CACL,aAAgB5E,KAAK/C,MAAM6F,UAC3B,SAAY9C,KAAK/C,MAAMuF,uBAExBqC,QAAS,SAASD,GACG,YAAhBA,EAAKQ,QACRpF,KAAKY,SAAS,CAACqC,iBAAkB,WACjCjD,KAAKY,SAAS,CAACoC,eAAe,MAE9BhD,KAAKY,SAAS,CAACqC,iBAAkB,6BACjCjD,KAAKY,SAAS,CAACoC,eAAe,MAGhCiC,MAAO,SAASL,GACf5E,KAAKY,SAAS,CAACqC,iBAAkB,6BACjCjD,KAAKY,SAAS,CAACoC,eAAe,KAE/BkC,SAAU,SAASC,EAAKC,KACxBC,QAAS,S,6BAIJK,GACN1F,KAAKY,SAAS,CAACwC,qBAAqB,IACpCmB,KAAEC,KAAK,CACNC,QAASzE,KACT0E,IF9WgCC,+CE+WhCrH,KAAM,MACNsH,KAAM,CACL,QAAWc,GAEZb,QAAS,SAASD,KAClBK,MAAO,SAASL,KAChBM,SAAU,SAASC,EAAKC,KACxBC,QAAS,S,+BAID,IAAD,OACR,OAAIrF,KAAK/C,MAAMiG,SACP,kBAAC,IAAD,CAAUyC,GAAI3F,KAAK/C,MAAMiG,WAIhC,yBAAK/G,UAAU,uBACd,kBAAC,IAAD,MACA,kBAACyJ,EAAA,EAAD,CAAOzJ,UAAU,gBAChB,yBAAKA,UAAU,uBACd,6BACC,yBAAKA,UAAU,6BAAf,aAGA,yBAAKA,UAAU,gCAAf,qDAID,6BACC,kBAAC0J,EAAA,EAAD,CAAQ1J,UAAU,kBAAkBoG,QAAQ,YAAY5D,MAAM,YAAYwC,QAASnB,KAAK6D,eAAgB9D,MAAO,CAAC+F,YAAa,KAA7H,QACA,kBAACD,EAAA,EAAD,CAAQ1J,UAAU,kBAAkBoG,QAAQ,YAAY5D,MAAM,YAAYwC,QAAS,kBAAM,EAAKP,SAAS,CAACuC,qBAAqB,KAAQpD,MAAO,CAAC+F,YAAa,KAA1J,QACA,kBAACD,EAAA,EAAD,CAAQ1J,UAAU,kBAAkBoG,QAAQ,YAAY5D,MAAM,UAAUwC,QAASnB,KAAKyD,MAAtF,UAGF,kBAAC,KAAD,CACCsC,MAAO,GACP5J,UAAU,oBACV6J,iBAAiB,UACjBC,YAAY,EACZC,iBAAiB,GAGjB,kBAAC,IAAMpG,SAAP,KACC,6BACA,kBAACuB,EAAA,EAAD,MAGCjE,OAAOgH,KAAKpE,KAAK/C,MAAM6F,WAAWV,KAAI,SAACrB,GACvC,OACC,kBAAC,GAAD,CACCP,OAAQ,EAAKvD,MAAM6F,UAAU/B,GAC7BK,gBAAiB,EAAKA,gBACtBW,QAAS,EAAKA,QACdY,cAAe,EAAKA,cACpB7B,cAAe,EAAKA,cACpBnD,IAAKqE,WAKR,yBAAK7F,UAAU,2BACd,yBAAKA,UAAU,iCACd,kBAAC+D,EAAA,EAAD,CACCC,MAAM,eACNC,WAAS,EACTC,kBAAkB,EAClBC,YAAY,0BACZnB,MAAOa,KAAK/C,MAAM4F,mBAClBnC,SAAU,SAACC,GAAD,OAAW,EAAKC,SAAS,CAACiC,mBAAoBlC,EAAME,OAAO1B,SACrEsD,UAAW,SAACC,GAAqB,UAAVA,EAAE/E,KAAiB,EAAK4F,mBAGjD,uBAAGpH,UAAU,oCAAoCgF,QAASnB,KAAKuD,cAA/D,QAED,kBAAClC,EAAA,EAAD,SAMH,kBAACC,EAAA,EAAD,CACCE,KAAMxB,KAAK/C,MAAMkG,oBACjB5B,QAAS,kBAAM,EAAKX,SAAS,CAACuC,qBAAqB,KACnD1B,kBAAgB,qBAChB0E,mBAAiB,4BAEjB,kBAACzE,EAAA,EAAD,CAAaC,GAAG,sBAAhB,qBACA,kBAACyE,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAmB1E,GAAG,4BAAtB,yHAGA,kBAACU,EAAA,EAAD,CACCtC,MAAO,CAACuG,UAAW,GAAIC,aAAc,IACrCnG,WAAW,EACXuB,GAAG,iBACHxB,MAAM,mBACNoC,QAAQ,WACRpD,MAAOa,KAAK/C,MAAMuF,sBAClB9B,SAAU,SAACC,GAAD,OAAW,EAAKC,SAAS,CAAC4B,sBAAuB7B,EAAME,OAAO1B,YAG1E,kBAACqH,EAAA,EAAD,KACC,kBAACX,EAAA,EAAD,CAAQ1E,QAAS,kBAAM,EAAKP,SAAS,CAACuC,qBAAqB,KAASxE,MAAM,YAAY4D,QAAQ,aAA9F,UACA,kBAACsD,EAAA,EAAD,CAAQ1E,QAASnB,KAAK0D,KAAM/E,MAAM,UAAU4D,QAAQ,aAApD,UAIF,kBAACjB,EAAA,EAAD,CAAQC,QAAS,kBAAM,EAAKX,SAAS,CAACwC,qBAAqB,KAAS3B,kBAAgB,sBAAsBD,KAAMxB,KAAK/C,MAAMmG,qBAC1H,kBAAC1B,EAAA,EAAD,CAAaC,GAAG,uBAAhB,qBACC3B,KAAK/C,MAAMoG,yBACX,yBAAKlH,UAAU,uCACd,kBAACsK,EAAA,EAAD,QAGAzG,KAAK/C,MAAMoG,yBACZ,kBAACzB,EAAA,EAAD,KACE5B,KAAK/C,MAAMqG,wBAAwBlB,KAAI,SAACkD,GACxC,OACC,kBAACzD,EAAA,EAAD,CAAU1F,UAAU,yBACnB,kBAAC8F,EAAA,EAAD,CAAcd,QAAS,kBAAM,EAAKyC,KAAK0B,EAAaoB,iBAAiBxE,QAASoD,EAAaqB,WAC3F,kBAACC,EAAA,EAAD,CAAgBzF,QAAS,kBAAM,EAAKwC,OAAO2B,EAAauB,UAAU1K,UAAU,kCAC3E,uBAAGA,UAAU,kBAAb,iBASP,kBAAC2K,EAAA,EAAD,CAAUC,QAAS/G,KAAK/C,MAAMgG,iBAAkBzB,KAAMxB,KAAK/C,MAAM+F,cAAegE,iBAAkB,IAAMzF,QAAS,kBAAM,EAAKX,SAAS,CAACoC,eAAe,Y,GAtStI5G,IAAMC,WA4TV4K,oBAdf,SAAyBhK,GACxB,MAAO,CACNP,gBAAiBO,EAAMQ,cAAcf,oBAKvC,SAA4BwK,GAC3B,MAAO,CACNlD,QAASmD,YAAmB,eAAIC,GAAyBF,MAK5CD,CAA6CrE,I,2DCjf5D,SAASyE,GAAmBC,GAI3B,IAHA,IAAIC,EAAc,GAEdC,EAAUpK,OAAOgH,KAAKkD,GACjBnD,EAAIqD,EAAQnD,OAAS,EAAGF,GAAK,EAAGA,IAAK,CAG7CoD,EAAcA,EAAcD,EAFfE,EAAQrD,IAEwBO,IAAM,KAGpD,OAAO6C,E,IAIF3E,G,YACL,WAAYnD,GAAQ,IAAD,sBAClB,4CAAMA,IAMN,IAFA,IAAIsD,EAAO3F,OAAOC,OAAO,GAAI,EAAKoC,MAAMjD,gBACpCgL,EAAUpK,OAAOgH,KAAKrB,GACjBoB,EAAIqD,EAAQnD,OAAS,EAAGF,GAAK,EAAGA,IAAK,CAE7CpB,EADayE,EAAQrD,IACRiB,OAAS,WATL,OAYlB,EAAKnI,MAAQ,CACZ4F,mBAAoB,GACpBE,KAAMA,EACNlG,iBAAkB,EAAK4C,MAAM5C,kBAG9B,EAAK4K,iBAAmB,EAAKA,iBAAiBjE,KAAtB,gBACxB,EAAKkE,IAAM,EAAKA,IAAIlE,KAAT,gBACX,EAAKmE,kBAAoB,EAAKA,kBAAkBnE,KAAvB,gBACzB,EAAKoE,oBAAsB,EAAKA,oBAAoBpE,KAAzB,gBArBT,E,8EAwBF7C,GAKhB,IAJA,IAAIkH,EAAWzK,OAAOC,OAAO,GAAI,IAE7B0F,EAAOpC,EAAME,OAAO1B,MAAM2I,MAAM,MAChCC,EAAS/F,MACJmC,EAAIpB,EAAKsB,OAAS,EAAGF,GAAK,EAAGA,IAErC0D,EADAE,EAAS/F,OACU,CAAC0C,IAAK3B,EAAKoB,GAAI4D,OAAQA,EAAQ,OAAU,WAAYC,aAAa,EAAOC,eAAe,GAG5GjI,KAAKP,MAAMuE,QAAQpF,mBAAmBiJ,GAGtC7H,KAAK/C,MAAM8F,KAAO8E,I,0BAGf3D,GAKH,IAJA,IAnEcgE,EAAKC,EAmEfpF,EAAO3F,OAAOC,OAAO,GAAI2C,KAAK/C,MAAM8F,MAI/BoB,EAAI/G,OAAOgH,KAAKrB,GAAMsB,OAAS,EAAGF,GAAK,EAAGA,IAAK,CACvD,IAAIiE,EAAiBhL,OAAOgH,KAAKrB,GAAMoB,QAEnBkE,IADFC,KAAS,CAACC,QAASxF,EAAKqF,GAAL,IAA4BI,QAAS,CAACD,QAAS,CAAC7D,KAAK,aAElF3B,EAAKqF,GAKd,IAASjE,EAAIpB,EAAKsB,OAAS,EAAGF,GAAK,EAAGA,IAAK,MAEtBkE,IADFC,KAAS,CAACC,QAASxF,EAAKoB,IAAK,CAACoE,QAAS,CAAC7D,KAAK,MAE9D3B,EAAK0F,OAAOtE,EAAG,GAIjB,GAAiC,IAA7B/G,OAAOgH,KAAKrB,GAAMsB,OAGrB,OAFArE,KAAKY,SAAS,CAACqC,iBAAkB,8BACjCjD,KAAKY,SAAS,CAACoC,eAAe,KAI1BkB,GAAa9G,OAAOgH,KAAKrB,GAAMsB,OAAS,IA7F/B6D,EA8FCnF,EA9FIoF,EA8FE,EAApBpF,EA7FK3F,OAAOgH,KAAK8D,GACjBQ,OACAC,MAAM,EAAGR,GACTS,QAAO,SAASC,EAAMC,GAEtB,OADAD,EAAKC,GAAWZ,EAAIY,GACbD,IACN,KA0FF7I,KAAKP,MAAMuE,QAAQlF,eAAeiE,GAElC/C,KAAKY,SAAS,CAACsC,SAAU,iB,wCAGRvC,EAAOoI,GACxB,IAAM5L,EAAY6L,KAAOhJ,KAAK/C,MAAO,CACpCJ,iBAAkB,CAACC,UAAW,CAACmM,KAAMF,MAEtC/I,KAAKP,MAAMuE,QAAQnF,qBAAqB1B,EAAUN,kBAClDmD,KAAKY,SAASzD,K,0CAGKwD,EAAOoI,GAC1B,IAAM5L,EAAY6L,KAAOhJ,KAAK/C,MAAO,CACpCJ,iBAAkB,CAACE,YAAa,CAACkM,KAAMF,MAExC/I,KAAKP,MAAMuE,QAAQnF,qBAAqB1B,EAAUN,kBAClDmD,KAAKY,SAASzD,K,+BAGL,IAAD,OACR,OAAI6C,KAAK/C,MAAMiG,SACP,kBAAC,IAAD,CAAUyC,GAAI3F,KAAK/C,MAAMiG,WAIhC,yBAAK/G,UAAU,uBACd,kBAAC,IAAD,MACA,kBAACyJ,EAAA,EAAD,CAAOzJ,UAAU,gBAChB,yBAAKA,UAAU,uBACd,6BACC,yBAAKA,UAAU,6BAAf,kBAGA,yBAAKA,UAAU,gCAAf,iCAID,6BACC,kBAAC0J,EAAA,EAAD,CAAQ1J,UAAU,yBAAyBoG,QAAQ,YAAY5D,MAAM,YAAYwC,QAAS,kBAAM,EAAKP,SAAS,CAACsC,SAAU,QAAzH,QACA,kBAAC2C,EAAA,EAAD,CAAQ1J,UAAU,yBAAyBoG,QAAQ,YAAY5D,MAAM,YAAYuK,WAAS,8BAA8B/H,QAAS,kBAAM,EAAKuG,KAAI,KAAhJ,cACA,kBAAC7B,EAAA,EAAD,CAAQ1J,UAAU,kBAAkBoG,QAAQ,YAAY5D,MAAM,UAAUwC,QAAS,kBAAM,EAAKuG,KAAI,KAAhG,SAGF,yBAAKvL,UAAU,qBACd,6BACA,kBAACkG,EAAA,EAAD,CACCV,GAAG,2BACHxB,MAAM,WACNmC,OAAO,QACPC,QAAQ,WACR4G,WAAS,EACT/I,WAAS,EACTG,aAAc8G,GAAmBrH,KAAK/C,MAAM8F,MAC5CrC,SAAUV,KAAKyH,qBAKlB,kBAAC7B,EAAA,EAAD,CAAOzJ,UAAU,gBAChB,yBAAKA,UAAU,uBACd,6BACC,yBAAKA,UAAU,6BAAf,mBAGA,yBAAKA,UAAU,gCAAf,0DAKF,yBAAKA,UAAU,qBACd,6BACA,6BACC,kBAACiN,GAAA,EAAD,CACCC,QAASrJ,KAAK/C,MAAMJ,iBAAiBC,UACrC4D,SAAUV,KAAK2H,kBACfhJ,MAAM,YAEP,+DAED,6BACC,kBAACyK,GAAA,EAAD,CACCC,QAASrJ,KAAK/C,MAAMJ,iBAAiBE,YACrC2D,SAAUV,KAAK4H,oBACfjJ,MAAM,YAEP,2EAMH,kBAACmI,EAAA,EAAD,CAAUC,QAAS/G,KAAK/C,MAAMgG,iBAAkBzB,KAAMxB,KAAK/C,MAAM+F,cAAezB,QAAS,kBAAM,EAAKX,SAAS,CAACoC,eAAe,Y,GArK9G5G,IAAMC,WA2LV4K,oBAff,SAAyBhK,GACxB,MAAO,CACNT,eAAgBS,EAAMQ,cAAcjB,eACpCK,iBAAkBI,EAAMQ,cAAcZ,qBAKxC,SAA4BqK,GAC3B,MAAO,CACNlD,QAASmD,YAAmB,eAAIC,GAAyBF,MAK5CD,CAA6CrE,I,UCrNtD0G,I,mBACL,WAAY7J,GAAQ,IAAD,8BAClB,4CAAMA,KAEDxC,MAAQ,CACZ8F,KAAM,EAAKtD,MAAMhD,WACjB8M,iBAAkB,EAClBC,mBAAoB,EACpBtG,UAAU,EACVuG,QAAS,IAGV,EAAKC,MAAQ,EAAKA,MAAMlG,KAAX,gBACb,EAAKmG,WAAa,EAAKA,WAAWnG,KAAhB,gBAClB,EAAKoG,eAAiB,EAAKA,eAAepG,KAApB,gBACtB,EAAKqG,aAAe,EAAKA,aAAarG,KAAlB,gBACpB,EAAKsG,eAAiB,EAAKA,eAAetG,KAApB,gBAEtB,EAAKvG,MAAMuM,mBAAqB,EAAKI,iBACrC,EAAKD,aACL,EAAK1M,MAAMsM,iBAAmB,EAAKK,iBAAmB,EAnBpC,E,0EAwBlB,IADA,IAAI7G,EAAO3F,OAAOC,OAAO,GAAI2C,KAAK/C,MAAM8F,MAC/BoB,EAAI,EAAGA,EAAI/G,OAAOgH,KAAKrB,GAAMsB,OAAQF,IAAK,CAClD,IAAIiE,EAAiBhL,OAAOgH,KAAKrB,GAAMoB,GACnC4F,EAAchH,EAAKqF,GACvB,GAA2B,aAAvB2B,EAAY3E,OAKf,OAJArC,EAAKqF,GAAgBhD,OAAS,WAC9BpF,KAAKY,SAAS,CAACmC,KAAMA,IACrB/C,KAAK6J,oBACL7J,KAAK0J,MAAMK,GAKb/J,KAAK8J,mB,4BAIApF,GACL,IAAIsF,EAAe5M,OAAOgH,KAAKpE,KAAKP,MAAM/C,iBAI1CsD,KAAK/C,MAAMwM,QAAQ/E,EAAIqD,QAAU,GAIjC,IAAK,IAAI5D,EAAI6F,EAAa3F,OAAS,EAAGF,GAAK,EAAGA,IAAK,CAClD,IAAIpD,EAAciJ,EAAa7F,GAE/BnE,KAAK/C,MAAMwM,QAAQ/E,EAAIqD,QAAQhH,GAAe,GAG/CwD,KAAEC,KAAK,CACNC,QAASzE,KACT0E,IJxE6BC,kCIyE7BrH,KAAM,MACNsH,KAAM,CACLF,IAAKA,EAAIA,IACT5B,UAAW9C,KAAKP,MAAM/C,gBACtBuN,SAAUjK,KAAKP,MAAM5C,kBAEtBgI,QAAS,SAASD,GAEjB5E,KAAK/C,MAAMwM,QAAQ/E,EAAIqD,QAAU3K,OAAOC,OAAO2C,KAAK/C,MAAMwM,QAAQ/E,EAAIqD,QAASnD,EAAK6E,SAEpF,IAAI1G,EAAO3F,OAAOC,OAAO,GAAI2C,KAAK/C,MAAM8F,MACxCA,EAAK2B,EAAIqD,QAAQ3C,OAASR,EAAKQ,OAC/BrC,EAAK2B,EAAIqD,QAAQC,YAAcpD,EAAKoD,YACpCjF,EAAK2B,EAAIqD,QAAQE,cAAgBrD,EAAKqD,cACtCjI,KAAKY,SAAS,CAACmC,KAAMA,IACrB/C,KAAK2J,cAEN1E,MAAO,SAASL,GACf,IAAI7B,EAAO3F,OAAOC,OAAO,GAAI2C,KAAK/C,MAAM8F,MACxCA,EAAK2B,EAAIqD,QAAQ3C,OAAS,QAC1BpF,KAAKY,SAAS,CAACmC,KAAMA,IACrB/C,KAAK2J,cAENzE,SAAU,SAASC,EAAKC,GACvBpF,KAAK6J,gBAENxE,QAAS,S,uCAMV,IADA,IAAI6E,EAAU,EACL/F,EAAI/G,OAAOgH,KAAKpE,KAAK/C,MAAM8F,MAAMsB,OAAS,EAAGF,GAAK,EAAGA,IAAK,CAClE,IAAIiE,EAAiBhL,OAAOgH,KAAKpE,KAAK/C,MAAM8F,MAAMoB,GAEvB,aADTnE,KAAK/C,MAAM8F,KAAKqF,GAClBhD,SACf8E,GAAoB,GAGtB,OAAOA,I,qCAIP,IAAIA,EAAUlK,KAAK4J,iBACnB5J,KAAKY,SAAS,CAAC2I,iBAAkBW,EAAU,M,uCAI3ClK,KAAKP,MAAMuE,QAAQlF,eAAekB,KAAK/C,MAAM8F,MAC7C/C,KAAKP,MAAMuE,QAAQhF,oBAAoBgB,KAAK/C,MAAMwM,SAClDzJ,KAAKY,SAAS,CAACsC,SAAU,wB,+BAGhB,IAAD,OACR,OAAIlD,KAAK/C,MAAMiG,SACP,kBAAC,IAAD,CAAUyC,GAAI3F,KAAK/C,MAAMiG,WAIhC,yBAAK/G,UAAU,2BACd,kBAACyJ,EAAA,EAAD,CAAOzJ,UAAU,oBAChB,yBAAKA,UAAU,2BACd,yBAAKA,UAAU,iCAAf,kBACA,kBAAC0J,EAAA,EAAD,CAAQ1J,UAAU,kBAAkBoG,QAAQ,YAAY5D,MAAM,YAAYwC,QAAS,kBAAM,EAAKP,SAAS,CAACsC,SAAU,aAAlH,WAED,kBAACiH,GAAA,EAAD,CAAgBhO,UAAU,uBAAuBoG,QAAQ,cAAcpD,OAAaa,KAAK/C,MAAMuM,mBAAqBxJ,KAAK/C,MAAMsM,kBAAkBvJ,KAAK/C,MAAMuM,mBAA9E,MAC9E,yBAAKrN,UAAU,oCAAoC6D,KAAK/C,MAAMuM,mBAAqBxJ,KAAK/C,MAAMsM,iBAA9F,IAAiHvJ,KAAK/C,MAAMuM,mBAA5H,oBAED,kBAAC5D,EAAA,EAAD,CAAOzJ,UAAU,oBAChB,yBAAKA,UAAU,iCAAf,iBACA,kBAAC,IAAM2D,SAAP,KACC,6BACA,kBAACuB,EAAA,EAAD,MACA,yBAAKlF,UAAU,kCACbiB,OAAOgH,KAAKpE,KAAK/C,MAAM8F,MAAMX,KAAI,SAAC2F,GAClC,OACC,kBAAC,IAAMjI,SAAP,CAAgBnC,IAAKqE,OACpB,yBAAK7F,UAAU,gBAAgBwB,IAAKqE,OACnC,yBAAKrE,IAAKqE,MAAU7F,UAAU,qBAAqB,EAAKc,MAAM8F,KAAKgF,GAAQrD,KAC3E,yBAAK/G,IAAKqE,MAAU7F,UAAU,wBAAwB,EAAKc,MAAM8F,KAAKgF,GAAQ3C,SAE/E,kBAAC/D,EAAA,EAAD,CAAS1D,IAAKqE,oB,GA5ID5F,IAAMC,YA0Kd4K,oBAhBf,SAAyBhK,GACxB,MAAO,CACNR,WAAYQ,EAAMQ,cAAchB,WAChCC,gBAAiBO,EAAMQ,cAAcf,gBACrCG,iBAAkBI,EAAMQ,cAAcZ,qBAKxC,SAA4BqK,GAC3B,MAAO,CACNlD,QAASmD,YAAmB,eAAIC,GAAyBF,MAK5CD,CAA6CqC,I,iGCpK5D,SAASc,GAAkBpJ,EAAKE,GAC/B,GAAa,cAATA,EACH,OAAOF,EAAIqJ,eAGZ,IAAIC,EAAStJ,EAAIuJ,aAAarJ,GAC9B,OAAc,MAAVoJ,EACO,GAGJA,EAuER,SAASE,GAA0BzH,EAAMD,EAAW2G,GAInD,IAHA,IAAIgB,EAAmB,GAEnBC,EAAkB,GACbC,EAAI,EAAGA,EAAIvN,OAAOgH,KAAKtB,GAAWuB,OAAQsG,IAAK,CACvD,IACItL,EAAWyD,EADG1F,OAAOgH,KAAKtB,GAAW6H,IAEzCD,EAAgBE,KAAKvL,EAAS2B,IAAI5C,MAAQiB,EAAS2B,IAAI5C,MAAQ,gBAGhE,IAAIyM,EAAM,CAAI,MAAO,SAAU,iBAArB,OAAyCH,GACnDD,EAAiBG,KAAKC,GAEtB,IAAK,IAAI1G,EAAI,EAAGA,EAAI/G,OAAOgH,KAAKrB,GAAMsB,OAAQF,IAAK,CAClD,IAAI2G,EAAc,GACd/C,EAAS3K,OAAOgH,KAAKrB,GAAMoB,GAC3BO,EAAM3B,EAAKgF,GACf+C,EAAYF,KAAKlG,EAAIA,KACrBoG,EAAYF,KAAKlG,EAAIU,OAASV,EAAIU,OAAS,IAC3C0F,EAAYF,KAAKlG,EAAIuD,eAGrB,IAAS0C,EAAI,EAAGA,EAAIvN,OAAOgH,KAAKtB,GAAWuB,OAAQsG,IAAK,CACvD,IAAI5J,EAAc3D,OAAOgH,KAAKtB,GAAW6H,GAEG,IAAxClB,EAAQ1B,GAAQhH,GAAasD,OAChCyG,EAAYF,KAAK,IAEiC,IAAxCnB,EAAQ1B,GAAQhH,GAAasD,OACM,OAAzCoF,EAAQ1B,GAAQhH,GAAa,GAAGgK,KACnCD,EAAYF,KAAKnB,EAAQ1B,GAAQhH,GAAa,GAAGgK,KAAKC,QAAQ,iBAAkB,MAEhFF,EAAYF,KAAK,IAGlBE,EAAYF,KAAKpF,KAAKyF,UAAUxB,EAAQ1B,GAAQhH,IAAciK,QAAQ,iBAAkB,MAK1FP,EAAiBG,KAAKE,GAGvB,OAAOL,EAIR,IAAMS,GAAYC,KAAMC,IAAI,CAC3BC,WAAW,EACXC,KAAM,CAAEC,MAAO,GACfC,MAAO,CAAED,MAAO,OAIXE,G,YACL,WAAYhM,GAAQ,IAAD,sBAGlB,IAAIgK,EA7HN,SAAqB1G,EAAMD,GAI1B,IAHA,IAAI2G,EAAU,GAGLtF,EAAI/G,OAAOgH,KAAKrB,GAAMsB,OAAS,EAAGF,GAAK,EAAGA,IAAK,CACvD,IAAI4D,EAAS3K,OAAOgH,KAAKrB,GAAMoB,GAC3BO,EAAM3B,EAAKgF,GAMf,GAHA0B,EAAQ1B,GAAU,GAGC,YAAfrD,EAAIU,OAMP,IAHA,IAAIsG,EAAOjG,iBAAMf,EAAIsD,aAGZ2C,EAAIvN,OAAOgH,KAAKtB,GAAWuB,OAAS,EAAGsG,GAAK,EAAGA,IAAK,CAC5D,IAAI5J,EAAc3D,OAAOgH,KAAKtB,GAAW6H,GACrCtL,EAAWyD,EAAU/B,GAGrBC,EAAM0K,EAAKnM,cAAcF,EAASoB,cAClClC,EAAOmN,EAAKC,iBAAiBtM,EAASoB,cAI1C,GAAY,OAARO,EACH,GAAIzC,EAAK8F,OAAS,EAAG,CAWpB,IAVA,IAAI0G,EAAO,CACV,UAAa,OACbtB,QAAS,IAGNmC,EAAY,CACf,UAAa,OACbnC,QAAS,IAGDoC,EAAItN,EAAK8F,OAAS,EAAGwH,GAAK,EAAGA,IAAK,CAC1C,IAAIC,EAAcvN,EAAKsN,GACvBd,EAAKtB,QAAQmB,KAAKR,GAAkB0B,EAAazM,EAAS6B,OAC1D0K,EAAUnC,QAAQmB,KAAKkB,EAAYF,WAEpCnC,EAAQ1B,GAAQhH,GAAe,CAACgL,UAAW,OAAQhB,KAAMvF,KAAKyF,UAAUF,GAAOiB,KAAMxG,KAAKyF,UAAUW,SAEpGnC,EAAQ1B,GAAQhH,GAAe,CAACgL,UAAW,SAAUhB,KAAMX,GAAkBpJ,EAAK3B,EAAS6B,MAAO8K,KAAMhL,EAAI4K,gBAG7GnC,EAAQ1B,GAAQhH,IAAe,OAMjC,IAAS4J,EAAIvN,OAAOgH,KAAKtB,GAAWuB,OAAS,EAAGsG,GAAK,EAAGA,IAAK,CAC5D,IAAI5J,EAAc3D,OAAOgH,KAAKtB,GAAW6H,GACzClB,EAAQ1B,GAAQhH,IAAe,GAMlC,OAAO0I,EA6DQwC,EAFd,4CAAMxM,KAEyBA,MAAMhD,WAAY,EAAKgD,MAAM/C,iBAH1C,OAKlB,EAAKO,MAAQ,CACZwM,QAASA,EACTvG,UAAU,EACVgJ,aAAa,EACbC,YAAa,GACbC,WAAY,IAGb,EAAKC,mBAAqB,EAAKA,mBAAmB7I,KAAxB,gBAbR,E,kFAkBlB,IAAMkB,EAAMpF,SAASgN,cAAc,KACnC5H,EAAI6H,aAAa,OAAQvM,KAAK/C,MAAMmP,YACpC,IAAII,EAAW9H,EAAI+H,SAAW,KAAO/H,EAAIgI,SACrChI,EAAIiI,KAAKtI,OAAS,IACrBmI,EAAWA,EAAW,IAAM9H,EAAIiI,MAOjC,IAHA,IAAIC,EAAgB,IAAIC,OAAO,kBAAmB,KAE9CC,EAAgB,GACX3I,EAAInE,KAAK/C,MAAMkP,YAAY9H,OAAS,EAAGF,GAAK,EAAGA,IAAK,CAC5D,IAAI4I,EAAc/M,KAAK/C,MAAMkP,YAAYhI,GAAG4G,KAAKvC,OAGjD,GAFsBoE,EAAcI,KAAKD,GAEpB,CACpB,IAAIE,EAAajL,MACjB8K,EAAcG,GAAc,CAC3BvI,IAAKqI,EACLhF,OAAQkF,EACR,OAAU,WACVjF,aAAa,EACbC,eAAe,OAGZ,CACJ,IAAIgF,EAAajL,MACjB8K,EAAcG,GAAc,CAC3BvI,IAAK8H,EAAWO,EAChBhF,OAAQkF,EACR,OAAU,WACVjF,aAAa,EACbC,eAAe,IAKlBjI,KAAKY,SAAS,CAACsL,aAAa,IAC5BlM,KAAKP,MAAMuE,QAAQpF,mBAAmBkO,GACtC9M,KAAKY,SAAS,CAACsC,SAAU,Q,+BAGhB,IAAD,OACR,OAAIlD,KAAK/C,MAAMiG,SACP,kBAAC,IAAD,CAAUyC,GAAI3F,KAAK/C,MAAMiG,WAIhC,yBAAK/G,UAAU,0BACd,kBAACyJ,EAAA,EAAD,CAAOzJ,UAAU,mBAChB,yBAAKA,UAAU,0BACd,6BACC,yBAAKA,UAAU,gCAAf,mBAGA,yBAAKA,UAAU,mCAAf,iEAID,6BACC,kBAAC0J,EAAA,EAAD,CAAQ1J,UAAU,+BAA+BoG,QAAQ,YAAY5D,MAAM,YAAYwC,QAAS,kBAAM,EAAKP,SAAS,CAACsC,SAAU,aAA/H,QACA,kBAAC,WAAD,CAASgK,UAAW,IAAKC,mBAAkB,IAAOC,SAAU,kCAAmCxI,KAAM4F,GAA0BxK,KAAKP,MAAMhD,WAAYuD,KAAKP,MAAM/C,gBAAiBsD,KAAKP,MAAM9C,kBAC5L,kBAACkJ,EAAA,EAAD,CAAQ1J,UAAU,0BAA0BoG,QAAQ,YAAY5D,MAAM,aAAtE,aAED,kBAACkH,EAAA,EAAD,CAAQ1J,UAAU,6BAA6BoG,QAAQ,YAAY5D,MAAM,UAAUwC,QAAS,WAAO,EAAKP,SAAS,CAACsC,SAAU,qBAA5H,kBAGF,yBAAK/G,UAAU,wBACd,yBAAKA,UAAU,mBACd,kBAACkR,GAAA,EAAD,CAAOC,YAAU,EAACC,QAAM,GACvB,kBAACF,GAAA,EAAMnR,OAAP,KACC,kBAACmR,GAAA,EAAMG,IAAP,KACC,kBAACH,GAAA,EAAMI,WAAP,YACCrQ,OAAOgH,KAAKpE,KAAKP,MAAM/C,iBAAiB0F,KAAI,SAACrB,GAC7C,OACC,kBAACsM,GAAA,EAAMI,WAAP,KAAmB,EAAKhO,MAAM/C,gBAAgBqE,GAAaC,IAAI5C,MAAQ,EAAKqB,MAAM/C,gBAAgBqE,GAAaC,IAAI5C,MAAQ,mBAG7H,kBAACiP,GAAA,EAAMI,WAAP,eACA,kBAACJ,GAAA,EAAMI,WAAP,wBAGF,kBAACJ,GAAA,EAAMK,KAAP,KACEtQ,OAAOgH,KAAKpE,KAAKP,MAAMhD,YAAY2F,KAAI,SAAC2F,GACxC,OACC,kBAACsF,GAAA,EAAMG,IAAP,CAAW7P,IAAKqE,OACf,kBAACqL,GAAA,EAAMM,KAAP,KACC,kBAACzC,GAAD,KACC,kBAAC,mBAAD,CAAiBH,KAAM,EAAKtL,MAAMhD,WAAWsL,GAAQrD,KACpD,kBAAC,KAAD,CAAcqG,KAAM,EAAKtL,MAAMhD,WAAWsL,GAAQrD,IAAKL,OAAQ,UAIjEjH,OAAOgH,KAAK,EAAK3E,MAAM/C,iBAAiB0F,KAAI,SAACrB,GAC7C,OACC,kBAACsM,GAAA,EAAMM,KAAP,KACC,kBAACzC,GAAD,KAC6D,IAA3D,EAAKzL,MAAM9C,gBAAgBoL,GAAQhH,GAAasD,QACjD,kBAAC,mBAAD,CAAiB0G,KAAO,EAAKtL,MAAM9C,gBAAgBoL,GAAQhH,GAAa,GAAGgK,MAC1E,kBAAC,KAAD,CACCA,KAAmE,OAA5D,EAAKtL,MAAM9C,gBAAgBoL,GAAQhH,GAAa,GAAGgK,KAAgB,GAAK,EAAKtL,MAAM9C,gBAAgBoL,GAAQhH,GAAa,GAAGgK,KAClI1G,OAAQ,QAIT,EAAK5E,MAAM9C,gBAAgBoL,GAAQhH,GAAasD,OAAS,GACzD,0BAAMlI,UAAU,yBAAyBgF,QAAS,WACjD,EAAKP,SAAS,CAACuL,YAAa,EAAK1M,MAAM9C,gBAAgBoL,GAAQhH,KAE/D,EAAK9D,MAAMmP,WAAa,EAAK3M,MAAMhD,WAAWsL,GAAQrD,IACtD,EAAK9D,SAAS,CAACsL,aAAa,MAJ7B,uBAaL,kBAACmB,GAAA,EAAMM,KAAP,KACC,kBAACzC,GAAD,KACC,kBAAC,mBAAD,CAAiBH,KAAM,EAAKtL,MAAMhD,WAAWsL,GAAQ3C,QACpD,kBAAC,KAAD,CAAc2F,KAAM,EAAKtL,MAAMhD,WAAWsL,GAAQ3C,OAAQf,OAAQ,UAIrE,kBAACgJ,GAAA,EAAMM,KAAP,KACC,kBAACzC,GAAD,KACC,kBAAC,mBAAD,CAAiBH,KAAM,EAAKtL,MAAMhD,WAAWsL,GAAQE,cAAc2F,YAClE,kBAAC,KAAD,CAAc7C,KAAM,EAAKtL,MAAMhD,WAAWsL,GAAQE,cAAc2F,WAAYvJ,OAAQ,mBAc/F,kBAAC/C,EAAA,EAAD,CACCE,KAAMxB,KAAK/C,MAAMiP,YACjB3K,QAAS,kBAAM,EAAKX,SAAS,CAACsL,aAAa,KAC3CzK,kBAAgB,qBAChB0E,mBAAiB,4BAEjB,kBAACzE,EAAA,EAAD,CAAaC,GAAG,sBAAhB,4CACA,kBAACyE,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAmB1E,GAAG,4BACrB,kBAAC,KAAD,CAAWkM,WAAW,EAAMC,IAAK9N,KAAK/C,MAAMkP,gBAG9C,kBAAC3F,EAAA,EAAD,KACC,kBAACX,EAAA,EAAD,CAAQtD,QAAQ,YAAY5D,MAAM,YAAYwC,QAAS,kBAAM,EAAKP,SAAS,CAACsL,aAAa,MAAzF,SACA,kBAACrG,EAAA,EAAD,CAAQtD,QAAQ,YAAY5D,MAAM,UAAUwC,QAASnB,KAAKqM,oBAA1D,sB,GAhLuBjQ,IAAMC,WA0MpB4K,oBAhBf,SAAyBhK,GACxB,MAAO,CACNR,WAAYQ,EAAMQ,cAAchB,WAChCC,gBAAiBO,EAAMQ,cAAcf,gBACrCC,gBAAiBM,EAAMQ,cAAcd,oBAKvC,SAA4BuK,GAC3B,MAAO,CACNlD,QAASmD,YAAmB,eAAIC,GAAyBF,MAK5CD,CAA6CwE,I,+BCjVtDsC,I,wLAKK,IAAD,OACR,OACC,kBAAC,IAAMjO,SAAP,KACC,yBAAK3D,UAAU,mCACd,yBAAKA,UAAU,yCACd,kBAAC+D,EAAA,EAAD,CACCC,MAAM,kBACNC,WAAS,EACTC,kBAAkB,EAClBC,YAAY,GACZC,aAAcP,KAAKP,MAAMuO,MAAMjD,KAC/BrK,SAAU,SAACC,QAKb,0BAAMZ,MAAO,CAACE,gBAAiBD,KAAKP,MAAMuO,MAAMhN,IAAIrC,OAAQxC,UAAU,8BAA8B6D,KAAKP,MAAMuO,MAAMhN,IAAI5C,OACzH,kBAAC,mBAAD,CAAiB2M,KAAM/K,KAAKP,MAAMuO,MAAMjD,MACvC,uBAAG5O,UAAU,6CAAb,kBAED,uBAAGA,UAAU,4CAA4CgF,QAAS,kBAAM,EAAK1B,MAAMwO,OAAOC,aAAa,EAAKzO,MAAMuO,MAAMhN,IAAItC,UAA5H,UAED,kBAAC2C,EAAA,EAAD,W,GA3BmBjF,IAAMC,YAmCzB8R,GAAgBC,OAAOC,YAAW,cAAU,GAE1CC,G,YACL,WAAY7O,GAAQ,IAAD,8BAClB,4CAAMA,KAEDxC,MAAQ,CACZsR,SAAS,EACTC,eAAe,EACfC,kBAAmB,IAGpB,EAAKC,cAAgB,EAAKA,cAAclL,KAAnB,gBACrB,EAAKmL,aAAe,EAAKA,aAAanL,KAAlB,gBAVF,E,4EAclB,IAAIoL,EAAYR,OAAOS,eAAejB,WAEtC5N,KAAKP,MAAMwO,OAAOhR,MAAMwR,kBAAoBG,EAE5CR,OAAOU,aAAaX,IACpBnO,KAAKY,SAAS,CAAE2N,SAAS,M,sCAGV,IAAD,OACdH,OAAOU,aAAaX,IACpBA,GAAgBC,OAAOC,YAAW,WACjC,EAAKzN,SAAS,CAAE2N,SAAS,IAEzB,EAAK9O,MAAMwO,OAAOhR,MAAMwR,kBAAoB,KAC1C,O,+BAIH,OACC,kBAAC,IAAM3O,SAAP,KACEE,KAAKP,MAAMsP,SACZ,kBAAC,KAAD,CACCC,aAAchP,KAAKP,MAAMwP,YACzBC,OAAQlP,KAAK/C,MAAMsR,QACnBY,aAAcnP,KAAK2O,aACnBS,eAAgBpP,KAAK0O,qB,GAxCQtS,IAAMC,WAsGxC,SAASgT,GAAqBtM,EAAMD,EAAW2G,EAAS6F,GAKvD,IAHA,IAAIC,EAAW,GAGNpL,EAAI,EAAGA,EAAI/G,OAAOgH,KAAKtB,GAAWuB,OAAQF,IAAK,CACvD,IACI9E,EAAWyD,EADG1F,OAAOgH,KAAKtB,GAAWqB,IAErC9E,EAAS2B,KACZuO,EAAS3E,KAAKvL,EAAS2B,IAAItC,QAM7B,IAASyF,EAAImL,EAAejL,OAAS,EAAGF,GAAK,EAAGA,IAC/C,IAAK,IAAIwG,EAAI,EAAGA,EAAIvN,OAAOgH,KAAKkL,EAAenL,GAAGmL,gBAAgBjL,OAAQsG,IAAK,CAC9E,IAAI6E,EAAWpS,OAAOgH,KAAKkL,EAAenL,GAAGmL,gBAAgB3E,GACzDqD,EAAQsB,EAAenL,GAAGmL,eAAeE,GAC7CD,EAAS3E,KAAKoD,EAAMhN,IAAItC,QAM1B,IAAI+Q,EAAU,GAId,IAAStL,EAAI,EAAGA,EAAI/G,OAAOgH,KAAKrB,GAAMsB,OAAQF,IAAK,CAClD,IACIO,EAAM3B,EADG3F,OAAOgH,KAAKrB,GAAMoB,IAI/B,GAAmB,YAAfO,EAAIU,OAAsB,CAG7BqK,EAAQ/K,EAAIqD,QAAU,GAItB,IAAS4C,EAAI4E,EAASlL,OAAS,EAAGsG,GAAK,EAAGA,IAAK,CAC9C,IAAI+E,EAAcH,EAAS5E,GAC3B8E,EAAQ/K,EAAIqD,QAAQ2H,GAAe,KAOtC,IAASvL,EAAI,EAAGA,EAAI/G,OAAOgH,KAAKqF,GAASpF,OAAQF,IAChD,KAAI4D,EAAS3K,OAAOgH,KAAKqF,GAAStF,GAC9B6F,EAAeP,EAAQ1B,GAG3B,IAAS4C,EAAI,EAAGA,EAAIvN,OAAOgH,KAAK4F,GAAc3F,OAAQsG,IAAK,CAC1D,IAAI5J,EAAc3D,OAAOgH,KAAK4F,GAAcW,GACxCtL,EAAWyD,EAAU/B,GACrBuJ,EAASN,EAAajJ,GACtBC,EAAM3B,EAAS2B,IAIfA,IACHyO,EAAQ1H,GAAQ/G,EAAItC,QAAU4L,IAOjC,IAASnG,EAAImL,EAAejL,OAAS,EAAGF,GAAK,EAAGA,IAC/C,KAAI4D,EAASuH,EAAenL,GAAGO,IAAIqD,OAC/B4H,EAAsBL,EAAenL,GAAGmL,eAG5C,IAAS3E,EAAI,EAAGA,EAAIvN,OAAOgH,KAAKuL,GAAqBtL,OAAQsG,IAAK,CACjE,IACIiF,EAAmBD,EADGvS,OAAOgH,KAAKuL,GAAqBhF,IAG3D8E,EAAQ1H,GAAQ6H,EAAiB5O,IAAItC,QAAU,CAAC,CAACqM,KAAM6E,EAAiB7E,KAAMiB,KAAM4D,EAAiB7E,QAMvG,OAAO0E,EAGR,SAASI,GAAQnR,GAChB,IAAK,IAAIyF,EAAIhC,EAAsBkC,OAAS,EAAGF,GAAK,EAAGA,IACtD,GAAIhC,EAAsBgC,GAAGzF,SAAWA,EACvC,OAAOyD,EAAsBgC,GAG/B,OAAO,E,IAGF2L,G,YACL,WAAYrQ,GAAQ,IAAD,uBAClB,4CAAMA,KAEDsQ,SAAW3T,IAAM4T,YACtB,EAAKC,SAAW7T,IAAM4T,YAGtB,IAAIE,EAjJN,SAAoCnN,EAAMD,EAAW2G,GAIpD,IAHA,IAAIyG,EAAwB,GAGnB/L,EAAI,EAAGA,EAAI/G,OAAOgH,KAAKrB,GAAMsB,OAAQF,IAAK,CAClD,IAAI4D,EAAS3K,OAAOgH,KAAKrB,GAAMoB,GAC3BO,EAAM3B,EAAKgF,GAGf,GAAmB,YAAfrD,EAAIU,OAGP,IAAK,IAAIuF,EAAI,EAAGA,EAAIvN,OAAOgH,KAAKtB,GAAWuB,OAAQsG,IAAK,CAEvD,IAAI5J,EAAc3D,OAAOgH,KAAKtB,GAAW6H,GACrCtL,EAAWyD,EAAU/B,GAKzB,IAAqB,IAAjB1B,EAAS2B,IACZ,IAAK,IAAI6K,EAAIpC,EAAQ1B,GAAQhH,GAAasD,OAAS,EAAGwH,GAAK,EAAGA,IAE7DqE,EAAsBtF,KAAK,CAC1BoD,MAAOvE,EAAQ1B,GAAQhH,GAAa8K,GACpCxM,SAAUA,EACVqF,IAAKA,EACL4K,eAAgB,MAStB,OAAOY,EA6GsBC,CAA2B,EAAK1Q,MAAMhD,WAAY,EAAKgD,MAAM/C,gBAAiB,EAAK+C,MAAM9C,iBAqBrH,GAnBA,EAAKM,MAAQ,CACZmT,oBAAqB,EACrBF,sBAAuBA,EACvBzB,kBAAmB,GACnBvL,UAAU,EACVmN,iBAAkB,GAClBC,gBAAgB,EAChBtN,eAAe,EACfC,iBAAkB,IAGnB,EAAKsN,gBAAkB,EAAKA,gBAAgB/M,KAArB,gBACvB,EAAKgN,UAAY,EAAKA,UAAUhN,KAAf,gBACjB,EAAK0K,aAAe,EAAKA,aAAa1K,KAAlB,gBACpB,EAAKiN,cAAgB,EAAKA,cAAcjN,KAAnB,gBACrB,EAAKkN,oBAAsB,EAAKA,oBAAoBlN,KAAzB,gBAC3B,EAAKC,KAAO,EAAKA,KAAKD,KAAV,gBACZ,EAAKmN,SAAW,EAAKA,SAASnN,KAAd,gBAEgC,IAA5C,EAAKvG,MAAMiT,sBAAsB7L,OAAe,CACnD,IAAIoL,EAAUJ,GAAqB,EAAK5P,MAAMhD,WAAY,EAAKgD,MAAM/C,gBAAiB,EAAK+C,MAAM9C,gBAAiB,EAAKM,MAAMiT,uBAC7H,EAAKzQ,MAAMuE,QAAQ/E,kBAAkBwQ,GACrC,EAAKxS,MAAMiG,SAAW,kBA/BL,S,uEAmCTlC,GAET,IAAI4P,EAA4B5Q,KAAK/C,MAAMiT,sBAAsBvH,QAEjEiI,EAA0B5Q,KAAK/C,MAAMmT,qBAAqBd,eAAetO,EAAItC,QAAU,CAACqM,KAAM/K,KAAK/C,MAAMwR,kBAAmBzC,KAAMhM,KAAK/C,MAAMwR,kBAAmBzN,IAAKA,GACrKhB,KAAKY,SAAS,CAACsP,sBAAuBU,M,sCAGvBtS,GACf,IAAIuS,EAAe7Q,KAAK/C,MAAMiT,sBAAsBlQ,KAAK/C,MAAMmT,qBAAqBpC,MAAMjD,KAEtFtB,EADiBnL,EAAMA,MACEwS,KAAKD,GAElC,GAAgB,OAAZpH,EACH,GAAIA,EAAQpF,SAAW/F,EAAMC,KAAK8F,OAAS,EAC1C,IAAK,IAAIF,EAAI,EAAGA,EAAIsF,EAAQpF,OAAQF,IAAK,CAExC,IAAI6J,EAAQvE,EAAQtF,GAChBzF,EAASJ,EAAMC,KAAK4F,EAAE,GACtBnD,EAAM6O,GAAQnR,GAEdkS,EAA4B5Q,KAAK/C,MAAMiT,sBAAsBvH,QACjEiI,EAA0B5Q,KAAK/C,MAAMmT,qBAAqBd,eAAe5Q,GAAU,CAACqM,KAAMiD,EAAOhC,KAAMgC,EAAOhN,IAAKA,GACnHhB,KAAKY,SAAS,CAACsP,sBAAuBU,SAGvC5Q,KAAKY,SAAS,CAACoC,eAAe,IAC9BhD,KAAKY,SAAS,CAACqC,iBAAkB,gCAGlCjD,KAAKY,SAAS,CAACoC,eAAe,IAC9BhD,KAAKY,SAAS,CAACqC,iBAAkB,qB,mCAKtBvE,GACZ,IAAIkS,EAA4B5Q,KAAK/C,MAAMiT,sBAAsBvH,eAE1DiI,EAA0B5Q,KAAK/C,MAAMmT,qBAAqBd,eAAe5Q,GAChFsB,KAAKY,SAAS,CAACsP,sBAAuBU,M,sCAKtC,IADA,IAAIA,EAA4B5Q,KAAK/C,MAAMiT,sBAAsBvH,QACxDxE,EAAI/G,OAAOgH,KAAKwM,EAA0B5Q,KAAK/C,MAAMmT,qBAAqBd,gBAAgBjL,OAAS,EAAGF,GAAK,EAAGA,IAAK,CAC3H,IAAIzF,EAAStB,OAAOgH,KAAKwM,EAA0B5Q,KAAK/C,MAAMmT,qBAAqBd,gBAAgBnL,UAC5FyM,EAA0B5Q,KAAK/C,MAAMmT,qBAAqBd,eAAe5Q,GAGjFsB,KAAKY,SAAS,CAACsP,sBAAuBU,M,4CAItC,IAAInB,EAAUJ,GAAqBrP,KAAKP,MAAMhD,WAAYuD,KAAKP,MAAM/C,gBAAiBsD,KAAKP,MAAM9C,gBAAiBqD,KAAK/C,MAAMiT,uBAC7HlQ,KAAKP,MAAMuE,QAAQ/E,kBAAkBwQ,GACrCzP,KAAKY,SAAS,CAACsC,SAAU,sB,6BAIrBlD,KAAK/C,MAAMmT,oBAAsBpQ,KAAK/C,MAAMiT,sBAAsB7L,OAAS,GAC9ErE,KAAKY,SAAS,CAACwP,oBAAqBpQ,KAAK/C,MAAMmT,oBAAsB,M,iCAKlEpQ,KAAK/C,MAAMmT,oBAAsB,GACpCpQ,KAAKY,SAAS,CAACwP,oBAAqBpQ,KAAK/C,MAAMmT,oBAAsB,M,+BAI7D,IAAD,OACR,OAAIpQ,KAAK/C,MAAMiG,SACP,kBAAC,IAAD,CAAUyC,GAAI3F,KAAK/C,MAAMiG,WAIhC,kBAAC,IAAMpD,SAAP,KACC,kBAAC,KAAD,CAAesE,KAAK,QAAQ2M,cAAe/Q,KAAKyD,OAChD,kBAAC,KAAD,CAAeW,KAAK,OAAO2M,cAAe/Q,KAAK2Q,WAC/C,yBAAKxU,UAAU,+BACd,yBAAKA,UAAU,qCACd,kBAACgO,GAAA,EAAD,CAAgB5H,QAAQ,cAAcpD,MAAYa,KAAK/C,MAAMmT,oBAAoBpQ,KAAK/C,MAAMiT,sBAAsB7L,OAArE,MAC7C,kBAACuB,EAAA,EAAD,CAAOzJ,UAAU,wBAChB,yBAAKA,UAAU,+BACd,6BACC,yBAAKA,UAAU,qCAAf,mBAGA,yBAAKA,UAAU,wCAAf,yDAID,6BACC,uBAAG6U,KAAMhR,KAAK/C,MAAMiT,sBAAsBlQ,KAAK/C,MAAMmT,qBAAqB1L,IAAIA,IAAKuM,IAAI,sBAAsBpQ,OAAO,UACnH,kBAACgF,EAAA,EAAD,CAAQ1J,UAAU,+BAA+BoG,QAAQ,YAAY5D,MAAM,aAA3E,eAEmC,IAAnCqB,KAAK/C,MAAMmT,qBACX,kBAACvK,EAAA,EAAD,CAAQ1J,UAAU,+BAA+BoG,QAAQ,YAAY5D,MAAM,UAAUwC,QAAS,kBAAM,EAAKP,SAAS,CAACsC,SAAU,wBAA7H,QAEAlD,KAAK/C,MAAMmT,oBAAsB,GACjC,kBAACvK,EAAA,EAAD,CAAQ1J,UAAU,+BAA+BoG,QAAQ,YAAY5D,MAAM,UAAUwC,QAASnB,KAAK2Q,UAAnG,YAEA3Q,KAAK/C,MAAMmT,oBAAsBpQ,KAAK/C,MAAMiT,sBAAsB7L,OAAS,GAC3E,kBAACwB,EAAA,EAAD,CAAQ1J,UAAU,2BAA2BoG,QAAQ,YAAY5D,MAAM,UAAUwC,QAASnB,KAAKyD,MAA/F,QAEAzD,KAAK/C,MAAMmT,sBAAwBpQ,KAAK/C,MAAMiT,sBAAsB7L,OAAS,GAC7E,kBAACwB,EAAA,EAAD,CAAQ1J,UAAU,2BAA2BoG,QAAQ,YAAY5D,MAAM,UAAUwC,QAASnB,KAAK0Q,qBAA/F,YAIH,yBAAKvU,UAAU,6BACd,6BACA,yBAAKA,UAAU,mCACd,kBAAC,KAAD,CAAYA,UAAU,iCAAiC+U,uBAAwB,CAACC,MAAO,IACtF,kBAAC,IAAMrR,SAAP,KACC,yBAAK3D,UAAU,sCAAf,mBACA,kBAACkF,EAAA,EAAD,OAEAc,EAAwBC,KAAI,SAAC9D,GAAY,OACzC,yBACCnC,UAAU,6BACVwB,IAAKqE,MACLb,QAAU,WAAQ,EAAKoP,gBAAgBjS,KAEvC,yBAAKnC,UAAU,sCAAsCwB,IAAKqE,OAAW1D,EAAMF,OAC3E,yBAAKjC,UAAU,yCAAyCwB,IAAKqE,OAAW1D,EAAMD,aAI/E8D,EAAsBC,KAAI,SAACpB,GAW3B,OAVIA,EAAI1D,OAAS,EAAKL,MAAMoT,kBAE3B,EAAKpT,MAAMoT,iBAAmBrP,EAAI1D,KAElC,EAAKL,MAAMqT,gBAAiB,GAG5B,EAAKrT,MAAMqT,gBAAiB,EAI5B,kBAAC,IAAMxQ,SAAP,KACE,EAAK7C,MAAMqT,gBACX,kBAAC,IAAMxQ,SAAP,KACC,yBAAK3D,UAAU,sCAAsC,EAAKc,MAAMoT,kBAChE,kBAAChP,EAAA,EAAD,OAGF,yBACClF,UAAU,2BACVwB,IAAKqE,MACLb,QAAS,WAAQ,EAAKqP,UAAUxP,KAEhC,yBAAK7E,UAAU,iCAAiC4D,MAAO,CAACE,gBAAiBe,EAAIrC,OAAQhB,IAAKqE,QAC1F,yBAAK7F,UAAU,iCAAiCwB,IAAKqE,OAAWhB,EAAI5C,aAOzE,yBAAKjC,UAAU,mCACd,kBAAC,GAAD,CAAqB8R,OAAQjO,KAAMiP,YAAajP,KAAK+P,UACpD,yBAAK5T,UAAU,wBAAwBiV,gBAAgB,OAAOC,IAAKrR,KAAK+P,UACtE/P,KAAK/C,MAAMiT,sBAAsBlQ,KAAK/C,MAAMmT,qBAAqBpC,MAAMjD,OAG1E,kBAAC,GAAD,CAAqBkD,OAAQjO,KAAMiP,YAAajP,KAAKiQ,UACpD,yBAAK9T,UAAU,wBAAwBiV,gBAAgB,OAAOC,IAAKrR,KAAKiQ,UACtEjQ,KAAK/C,MAAMiT,sBAAsBlQ,KAAK/C,MAAMmT,qBAAqBpC,MAAMhC,WAQ9E,kBAACpG,EAAA,EAAD,CAAOzJ,UAAU,wBAChB,yBAAKA,UAAU,+BACd,6BACC,yBAAKA,UAAU,qCAAf,gBAGA,yBAAKA,UAAU,wCAAf,uCAID,6BACC,kBAAC0J,EAAA,EAAD,CAAQ1J,UAAU,2BAA2BoG,QAAQ,YAAY5D,MAAM,UAAUwC,QAASnB,KAAKyQ,eAA/F,WAGF,6BACCrT,OAAOgH,KAAKpE,KAAK/C,MAAMiT,sBAAsBlQ,KAAK/C,MAAMmT,qBAAqBd,gBAAgBjL,OAAS,GACtG,kBAAChD,EAAA,EAAD,MAED,kBAAC,KAAD,CAAYlF,UAAU,0DACpBiB,OAAOgH,KAAKpE,KAAK/C,MAAMiT,sBAAsBlQ,KAAK/C,MAAMmT,qBAAqBd,gBAAgBlN,KAAI,SAAC1D,GAClG,IAAIsP,EAAQ,EAAK/Q,MAAMiT,sBAAsB,EAAKjT,MAAMmT,qBAAqBd,eAAe5Q,GAC5F,OACC,kBAAC,GAAD,CAAUuP,OAAQ,EAAMD,MAAOA,EAAOrQ,IAAKqE,eAQjD,kBAAC8E,EAAA,EAAD,CACCtF,KAAMxB,KAAK/C,MAAM+F,cACjBzB,QAAS,kBAAM,EAAKX,SAAS,CAACoC,eAAe,KAC7C+D,QAAS/G,KAAK/C,MAAMgG,wB,GAvPC7G,IAAMC,WA+QjB4K,oBAhBf,SAAyBhK,GACxB,MAAO,CACNR,WAAYQ,EAAMQ,cAAchB,WAChCC,gBAAiBO,EAAMQ,cAAcf,gBACrCC,gBAAiBM,EAAMQ,cAAcd,oBAKvC,SAA4BuK,GAC3B,MAAO,CACNlD,QAASmD,YAAmB,eAAIC,GAAyBF,MAK5CD,CAA6C6I,I,OC3f5D,IAAM5E,GAAYC,KAAMC,IAAI,CAC3BC,WAAW,EACXC,KAAM,CAAEC,MAAO,GACfC,MAAO,CAAED,MAAO,OAcjB,SAASf,GAA0B5N,EAAe2B,EAAMwE,GAOvD,IANA,IAvBuBmF,EAuBnBuC,EAAmB,GACnB6G,EAAa,GAIbC,GA5BmBrJ,EA4BYtL,EA3BxBQ,OAAOgH,KAAK8D,GACX,IA2BH/D,EAAI/G,OAAOgH,KAAKxH,EAAc2U,IAAgBlN,OAAS,EAAGF,GAAK,EAAGA,IAAK,CAC/E,IAAIuL,EAActS,OAAOgH,KAAKxH,EAAc2U,IAAgBpN,GAC5DmN,EAAW1G,KAAKrM,EAAKmR,GAAatR,OAInC,IAAIyM,EAAM,CAAI,MAAO,SAAU,iBAArB,OAAyCyG,GAEnD7G,EAAiBG,KAAKC,GAItB,IAAS1G,EAAI/G,OAAOgH,KAAKxH,GAAeyH,OAAS,EAAGF,GAAK,EAAGA,IAAK,CAChE,IAAI2G,EAAc,GACdf,EAAc3M,OAAOgH,KAAKxH,GAAeuH,GAE7C2G,EAAYF,KAAK7H,EAAKgH,GAAarF,KACnCoG,EAAYF,KAAK7H,EAAKgH,GAAa3E,QACnC0F,EAAYF,KAAK7H,EAAKgH,GAAa9B,eAEnC,IAAK,IAAI0C,EAAIvN,OAAOgH,KAAKxH,EAAcmN,IAAc1F,OAAS,EAAGsG,GAAK,EAAGA,IAAK,CAC7E,IAAI+E,EAActS,OAAOgH,KAAKxH,EAAcmN,IAAcY,GAEtD/N,EAAcmN,GAAa2F,GAAarL,OAAS,EACpDyG,EAAYF,KAAKhO,EAAcmN,GAAa2F,GAAa,GAAG3E,KAAKC,QAAQ,iBAAkB,MAE3FF,EAAYF,KAAK,IAInBH,EAAiBG,KAAKE,GAGvB,OAAOL,E,IAGF+G,G,YACL,WAAY/R,GAAQ,IAAD,sBAClB,4CAAMA,IAEN,IAAIgS,EAzDN,SAAyBC,GAExB,IADA,IAAID,EAAW,GACNtN,EAAIuN,EAAUrN,OAAS,EAAGF,GAAK,EAAGA,IAAK,CAC/C,IAAIuL,EAAcgC,EAAUvN,GAC5BsN,EAAS/B,EAAYhR,QAAUgR,EAGhC,OAAO+B,EAkDSE,CAAgBxP,GAHb,OAKlB,EAAKlF,MAAQ,CACZsB,KAAMkT,EACNG,SAAUpH,GAA0B,EAAK/K,MAAM7C,cAAe6U,EAAU,EAAKhS,MAAMhD,YACnFyG,UAAU,GARO,E,sEAYT,IAAD,OACR,OAAIlD,KAAK/C,MAAMiG,SACP,kBAAC,IAAD,CAAUyC,GAAI3F,KAAK/C,MAAMiG,WAIhC,yBAAK/G,UAAU,wBACd,kBAACyJ,EAAA,EAAD,CAAOzJ,UAAU,iBAChB,yBAAKA,UAAU,wBACd,6BACC,yBAAKA,UAAU,8BAAf,iBAGA,yBAAKA,UAAU,iCAAf,gEAID,6BACC,kBAAC0J,EAAA,EAAD,CAAQ1J,UAAU,oBAAoBoG,QAAQ,YAAY5D,MAAM,YAAYwC,QAAS,WAAO,EAAKP,SAAS,CAACsC,SAAU,QAArH,QACA,kBAAC,WAAD,CAASgK,UAAW,IAAKC,mBAAkB,IAAOC,SAAU,gCAAiCxI,KAAM5E,KAAK/C,MAAM2U,UAC7G,kBAAC/L,EAAA,EAAD,CAAQ1J,UAAU,wBAAwBoG,QAAQ,YAAY5D,MAAM,WAApE,eAIH,yBAAKxC,UAAU,sBACd,yBAAKA,UAAU,mBACd,kBAACkR,GAAA,EAAD,CAAOC,YAAU,EAACC,QAAM,GACvB,kBAACF,GAAA,EAAMnR,OAAP,KACC,kBAACmR,GAAA,EAAMG,IAAP,KACC,kBAACH,GAAA,EAAMI,WAAP,YACCrQ,OAAOgH,KAAKpE,KAAKP,MAAM7C,cAAcQ,OAAOgH,KAAKpE,KAAKP,MAAM7C,eAAe,KAAKwF,KAAI,SAAC1D,GACrF,OACC,kBAAC2O,GAAA,EAAMI,WAAP,CAAkB9P,IAAKqE,OAAW,EAAK/E,MAAMsB,KAAKG,GAAQN,UAG5D,kBAACiP,GAAA,EAAMI,WAAP,eACA,kBAACJ,GAAA,EAAMI,WAAP,wBAGF,kBAACJ,GAAA,EAAMK,KAAP,KACEtQ,OAAOgH,KAAKpE,KAAKP,MAAM7C,eAAewF,KAAI,SAAC2F,GAC3C,OACC,kBAACsF,GAAA,EAAMG,IAAP,CAAW7P,IAAKqE,OACf,kBAACqL,GAAA,EAAMM,KAAP,KACC,kBAAC,GAAD,KACC,kBAAC,mBAAD,CAAiB5C,KAAM,EAAKtL,MAAMhD,WAAWsL,GAAQrD,KACpD,kBAAC,KAAD,CAAcqG,KAAM,EAAKtL,MAAMhD,WAAWsL,GAAQrD,IAAKL,OAAQ,UAIjEjH,OAAOgH,KAAK,EAAK3E,MAAM7C,cAAcmL,IAAS3F,KAAI,SAAC1D,GACnD,OACC,kBAAC2O,GAAA,EAAMM,KAAP,CAAYhQ,IAAKqE,OAChB,kBAAC,GAAD,KACC,kBAAC,mBAAD,CAAiB+I,KAAM,EAAKtL,MAAM7C,cAAcmL,GAAQrJ,GAAQ2F,OAAS,EAAI,EAAK5E,MAAM7C,cAAcmL,GAAQrJ,GAAQ,GAAGqM,KAAO,IAC/H,kBAAC,KAAD,CAAcA,KAAM,EAAKtL,MAAM7C,cAAcmL,GAAQrJ,GAAQ2F,OAAS,EAAI,EAAK5E,MAAM7C,cAAcmL,GAAQrJ,GAAQ,GAAGqM,KAAO,GAAI1G,OAAQ,aAM9I,kBAACgJ,GAAA,EAAMM,KAAP,KACC,kBAAC,GAAD,KACC,kBAAC,mBAAD,CAAiB5C,KAAM,EAAKtL,MAAMhD,WAAWsL,GAAQ3C,QACpD,kBAAC,KAAD,CAAc2F,KAAM,EAAKtL,MAAMhD,WAAWsL,GAAQ3C,OAAQf,OAAQ,UAIrE,kBAACgJ,GAAA,EAAMM,KAAP,KACC,kBAAC,GAAD,KACC,kBAAC,mBAAD,CAAiB5C,KAAM,EAAKtL,MAAMhD,WAAWsL,GAAQE,cAAc2F,YAClE,kBAAC,KAAD,CAAc7C,KAAM,EAAKtL,MAAMhD,WAAWsL,GAAQE,cAAc2F,WAAYvJ,OAAQ,wB,GApFxEjI,IAAMC,WAuHlB4K,oBAhBf,SAAyBhK,GACxB,MAAO,CACNR,WAAYQ,EAAMQ,cAAchB,WAChCC,gBAAiBO,EAAMQ,cAAcf,gBACrCE,cAAeK,EAAMQ,cAAcb,kBAKrC,SAA4BsK,GAC3B,MAAO,CACNlD,QAASmD,YAAmB,eAAIC,GAAyBF,MAK5CD,CAA6CuK,ICnMvCK,G,iLAEnB,OACC,kBAAC,IAAD,KACC,kBAAC,IAAD,CACCC,KAAK,IACLC,OAAK,EACLC,OAAQ,WAAO,OAAO,kBAAC,GAAD,SAGvB,kBAAC,IAAD,CACCF,KAAK,SACLC,OAAK,EACLC,OAAQ,WAAO,OAAO,kBAAC,GAAD,SAGvB,kBAAC,IAAD,CACCF,KAAK,aACLC,OAAK,EACLC,OAAQ,WAAO,OAAO,kBAAC,GAAD,SAGvB,kBAAC,IAAD,CACCF,KAAK,oBACLC,OAAK,EACLC,OAAQ,WAAO,OAAO,kBAAC,GAAD,SAGvB,kBAAC,IAAD,CACCF,KAAK,iBACLC,OAAK,EACLC,OAAQ,WAAO,OAAO,kBAAC,GAAD,SAGvB,kBAAC,IAAD,CACCF,KAAK,kBACLC,OAAK,EACLC,OAAQ,WAAO,OAAO,kBAAC,GAAD,c,GArCS3V,aCU9B4V,I,OAAoB,CACzBC,WAAY,CACXC,WAAY,CACX,SACCC,KAAK,MAERC,QAAS,CACRnQ,QAAS,CACRoQ,KAAM,UACNC,MAAO,UACPC,KAAM,UACNC,aAAc,WAEfC,UAAW,CACVJ,KAAM,UACNC,MAAO,UACPC,KAAM,UACNC,aAAc,WAEfE,cAAe,UACfC,cAAe,UACfC,cAAe,UACfC,aAAc,UACdC,aAAc,UACdC,aAAc,UACdC,UAAW,WAEZC,OAAQ,CACPC,OAAQ,IAETC,WAAY,CACXzU,MAAO,UACPsU,UAAW,UACXI,kBAAmB,UACnBC,YAAa,UACbC,gBAAiB,UACjBC,4BAA6B,UAC7BC,YAAa,WAEdC,aAAc,CACbT,UAAW,UACXU,iBAAkB,aAGdC,GAAQC,YAAe5B,IAIvB6B,G,YACL,WAAYrU,GAAO,IAAD,8BACjB,4CAAMA,KAEDxC,MAAQ,CACZ8W,0BAA0B,GAJV,E,sEAcjB,OACC,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAkBH,MAAOA,IACxB,kBAAC,EAAD,MACA,yBAAKzX,UAAU,gBACd,kBAAC,GAAD,OAED,kBAAC,EAAD,Y,GAtBaE,aA8BjB+R,OAAO4F,iBAAiB,gBAAgB,SAAUtR,GACjDA,EAAEuR,iBACFvR,EAAEwR,YAAc,MAKHJ,UC9FKK,QACW,cAA7B/F,OAAOgG,SAAS1H,UAEe,UAA7B0B,OAAOgG,SAAS1H,UAEhB0B,OAAOgG,SAAS1H,SAASsB,MACvB,2D,cCNNqG,IAASrC,OACR,kBAAC,IAAD,CAAUjU,MAAOA,GAChB,kBAAC,KAAD,CACCuW,QAAS,KACTC,UAAWtW,GAEX,kBAAC,GAAD,QAGFqB,SAASkV,eAAe,SD8GnB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAA9P,GACLH,QAAQG,MAAMA,EAAM8B,c","file":"static/js/main.320f007d.chunk.js","sourcesContent":["import React from 'react';\n\n// CSS Imports\nimport './styles/Header.css';\n\nexport default class Header extends React.Component {\n\t// constructor(props) {\n\t// \tsuper(props);\n\t// }\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"header\"></div>\n\t\t);\n\t}\n}\n","import React from 'react';\n\nexport default class Footer extends React.Component {\n\t// constructor(props) {\n\t// \tsuper(props);\n\t// }\n\n\trender() {\n\t\treturn (\n\t\t\t<div></div>\n\t\t);\n\t}\n}\n","const initial_state = {\n\tfull_list_urls: [],\n\tcrawl_urls: false,\n\tcrawl_selectors: false,\n\tpartial_results: false,\n\tfinal_results: false,\n\tscraper_settings: {\n\t\tuse_proxy: false,\n\t\tscroll_page: false\n\t}\n}\n\nfunction GenericReducer(state = initial_state, action) {\n\tlet new_state = Object.assign({}, state);\n\n\tswitch (action.type) {\n\t\tcase 'SET_FULL_LIST_URLS':\n\t\t\tnew_state.full_list_urls = action.full_list_urls;\n\t\t\treturn new_state\n\n\t\tcase 'SET_SCRAPER_SETTINGS':\n\t\t\tnew_state.scraper_settings = action.scraper_settings;\n\t\t\treturn new_state\n\n\t\tcase 'SET_CRAWL_URLS':\n\t\t\tnew_state.crawl_urls = action.crawl_urls;\n\t\t\treturn new_state\n\n\t\tcase 'SET_CRAWL_SELECTORS':\n\t\t\tnew_state.crawl_selectors = action.crawl_selectors;\n\t\t\treturn new_state\n\n\t\tcase 'SET_PARTIAL_RESULTS':\n\t\t\tnew_state.partial_results = action.partial_results;\n\t\t\treturn new_state\n\n\t\tcase 'SET_FINAL_RESULTS':\n\t\t\tnew_state.final_results = action.final_results;\n\t\t\treturn new_state\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n\n}\n\nexport default GenericReducer","import { combineReducers } from 'redux'\n\nimport GlobalReducer from './GlobalReducer.js'\n\nconst RootReducer = combineReducers({\n\tGlobalReducer\n\t// ThatReducer,\n\t// ThatReducer,\n})\n\nexport default RootReducer","import { createStore } from 'redux'\nimport { persistStore, persistReducer } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage'\n\n// Base reducer\nimport RootReducer from './reducers/index.js'\n\nconst persistConfig = {\n\tkey: 'root',\n\tstorage,\n}\n\nconst PersistedRootReducer = persistReducer(persistConfig, RootReducer)\n\nconst store = createStore(PersistedRootReducer)\nconst store_persistor = persistStore(store)\n\nexport { store, store_persistor }","// Debug options ----------------------------------------------------------------------------------------------------------------\nexport const debug = process.env.NODE_ENV === 'development'\nexport const purge_store_persist_on_reload = process.env.NODE_ENV === 'development' ? false : false\n\n// API endpoints ----------------------------------------------------------------------------------------------------------------\nexport const scraper_base_url = process.env.NODE_ENV === 'development' ? 'http://127.0.0.1:5000' : 'http://13.59.2.237:5000';\nexport const scraper_endpoint = scraper_base_url + '/scrape/';\nexport const save_selector_sets = scraper_base_url + '/save-selector-set/';\nexport const load_selector_sets = scraper_base_url + '/selector-sets/';\nexport const delete_selector_set = scraper_base_url + '/delete-selector-set/';\n\n// Default Regex\nexport const regex_options = [\n\t{\n\t\ttitle: 'Artist Name + Death Year + Birth Year',\n\t\texample: 'Andy Warhol (1928-1987)',\n\t\tregex: /^([a-zA-Z\\s]*)\\s\\(([0-9]*)-([0-9]*)\\)/g,\n\t\ttags: ['b4hkvqk7mc', 'ukvfzw8rep', 'anptku77fe'],\n\t\tregex_id: '6lZCSihs7w'\n\t},\n\t{\n\t\ttitle: 'Currency + Floor Est. + Top Est.',\n\t\texample: 'USD 400,000 - USD 600,000',\n\t\t// eslint-disable-next-line\n\t\tregex: /^([A-Z]{3})\\s([0-9\\,\\.]*)[\\s\\-A-Z]*([0-9\\,\\.]*)/g,\n\t\ttags: ['tnjcrwnpwk', 'gup7bwnypd', 'zw7vvtnzb8'],\n\t\tregex_id: 'ReRbEVeknb'\n\t},\n\t{\n\t\ttitle: 'Hammer Price',\n\t\texample: 'USD 400,000',\n\t\t// eslint-disable-next-line\n\t\tregex: /^([A-Z]{3})\\s([0-9\\,\\.]*)/g,\n\t\ttags: ['tnjcrwnpwk', 'gup7bwnypd'],\n\t\tregex_id: 'ReRbEVeknb'\n\t}\n]\n\n\n// Default Tags\nexport const tag_options = [\n\t// Artist Tags\n\t{\n\t\ttitle: 'Artist Name',\n\t\ttype: 'artist',\n\t\ttag_id: 'b4hkvqk7mc',\n\t\tcolor: '#4811e3'\n\t},\n\t{\n\t\ttitle: 'Artist Birth Year',\n\t\ttype: 'artist',\n\t\ttag_id: 'ukvfzw8rep',\n\t\tcolor: '#14a998'\n\t},\n\t{\n\t\ttitle: 'Artist Death Year',\n\t\ttype: 'artist',\n\t\ttag_id: 'anptku77fe',\n\t\tcolor: '#cf04d9'\n\t},\n\t{\n\t\ttitle: 'Artist Century',\n\t\ttype: 'artist',\n\t\ttag_id: 'dxhp4dqaa4',\n\t\tcolor: '#95787d'\n\t},\n\t{\n\t\ttitle: 'Artist Birth Place',\n\t\ttype: 'artist',\n\t\ttag_id: 'rqvtase2mw',\n\t\tcolor: '#dc6843'\n\t},\n\t{\n\t\ttitle: 'Artist Description',\n\t\ttype: 'artist',\n\t\ttag_id: 'hzwxtyjamc',\n\t\tcolor: '#442734'\n\t},\n\t{\n\t\ttitle: 'Artist Biography',\n\t\ttype: 'artist',\n\t\ttag_id: 'ppcza3wpmr',\n\t\tcolor: '#c700ab'\n\t},\n\t\t{\n\t\ttitle: 'Artist Source ID',\n\t\ttype: 'artist',\n\t\ttag_id: '5uxd2y4qad',\n\t\tcolor: '#1878df'\n\t},\n\t{\n\t\ttitle: 'Artist Source URL',\n\t\ttype: 'artist',\n\t\ttag_id: 'frvy5zxjyk',\n\t\tcolor: '#8506c7'\n\t},\n\n\t// Object Tags\n\t{\n\t\ttitle: 'Object Name',\n\t\ttype: 'object',\n\t\ttag_id: 'qghneam4vw',\n\t\tcolor: '#8d0710'\n\t},\n\t{\n\t\ttitle: 'Object Image URL',\n\t\ttype: 'object',\n\t\ttag_id: '7sebgn9cdz',\n\t\tcolor: '#e17c2c'\n\t},\n\t{\n\t\ttitle: 'Object Floor Estimation',\n\t\ttype: 'object',\n\t\ttag_id: 'gup7bwnypd',\n\t\tcolor: '#b87f44'\n\t},\n\t{\n\t\ttitle: 'Object Top Estimation',\n\t\ttype: 'object',\n\t\ttag_id: 'zw7vvtnzb8',\n\t\tcolor: '#acb59d'\n\t},\n\t{\n\t\ttitle: 'Object Hammer Price',\n\t\ttype: 'object',\n\t\ttag_id: 'xnjcrwndcu',\n\t\tcolor: '#c10081'\n\t},\n\t{\n\t\ttitle: 'Object Currency',\n\t\ttype: 'object',\n\t\ttag_id: 'tnjcrwnpwk',\n\t\tcolor: '#d12031'\n\t},\n\t{\n\t\ttitle: 'Object Medium',\n\t\ttype: 'object',\n\t\ttag_id: 'bllxpawhkq',\n\t\tcolor: '#8faf11'\n\t},\n\t{\n\t\ttitle: 'Object Size',\n\t\ttype: 'object',\n\t\ttag_id: 'byzsma4rd6',\n\t\tcolor: '#d7c248'\n\t},\n\t{\n\t\ttitle: 'Object Category',\n\t\ttype: 'object',\n\t\ttag_id: '9ahkujyhff',\n\t\tcolor: '#0760ad'\n\t},\n\t{\n\t\ttitle: 'Object Description',\n\t\ttype: 'object',\n\t\ttag_id: 'wjapmaqcmz',\n\t\tcolor: '#6b72dd'\n\t},\n\t{\n\t\ttitle: 'Object Extra Info',\n\t\ttype: 'object',\n\t\ttag_id: 'widhku9p2l',\n\t\tcolor: '#fe5012'\n\t},\n\t{\n\t\ttitle: 'Object Lot Number',\n\t\ttype: 'object',\n\t\ttag_id: 'ltlxihttlf',\n\t\tcolor: '#013ab0'\n\t},\n\t{\n\t\ttitle: 'Object Year of Creation',\n\t\ttype: 'object',\n\t\ttag_id: 'ghqcdd5hho',\n\t\tcolor: '#a871de'\n\t},\n\t{\n\t\ttitle: 'Object Signature',\n\t\ttype: 'object',\n\t\ttag_id: 'zol6lprlzd',\n\t\tcolor: '#ba35fe'\n\t},\n\t{\n\t\ttitle: 'Object Provenance',\n\t\ttype: 'object',\n\t\ttag_id: 'eseceqwdbt',\n\t\tcolor: '#328ea3'\n\t},\n\t{\n\t\ttitle: 'Object Not Sold',\n\t\ttype: 'object',\n\t\ttag_id: 'yafpgxc4yv',\n\t\tcolor: '#1789ad'\n\t},\n\t{\n\t\ttitle: 'Object Source ID',\n\t\ttype: 'object',\n\t\ttag_id: 'e3ssleqyge',\n\t\tcolor: '#fef7aa'\n\t},\n\t{\n\t\ttitle: 'Object Source URL',\n\t\ttype: 'object',\n\t\ttag_id: 'jvvvwwqwkj',\n\t\tcolor: '#3138cd'\n\t},\n\t{\n\t\ttitle: 'Object Source Name',\n\t\ttype: 'object',\n\t\ttag_id: 'bezgjdwvmt',\n\t\tcolor: '#06d650'\n\t},\n\n\t// Auction Tags\n\t{\n\t\ttitle: 'Auction Name',\n\t\ttype: 'auction',\n\t\ttag_id: 'ebsfukecgm',\n\t\tcolor: '#39b386'\n\t},\n\t{\n\t\ttitle: 'Auction Start Date',\n\t\ttype: 'auction',\n\t\ttag_id: 'lsfhpccpb2',\n\t\tcolor: '#280439'\n\t},\n\t{\n\t\ttitle: 'Auction End Date',\n\t\ttype: 'auction',\n\t\ttag_id: 'fwyrbqpg5x',\n\t\tcolor: '#7bcfff'\n\t},\n\t{\n\t\ttitle: 'Auction Image URL',\n\t\ttype: 'auction',\n\t\ttag_id: 'cjzjtwgg7e',\n\t\tcolor: '#52c40e'\n\t},\n\t{\n\t\ttitle: 'Auction City',\n\t\ttype: 'auction',\n\t\ttag_id: 'fbqffkvcsm',\n\t\tcolor: '#33f346'\n\t},\n\t{\n\t\ttitle: 'Auction Source ID',\n\t\ttype: 'auction',\n\t\ttag_id: '9zfpse5tbd',\n\t\tcolor: '#e8f9e2'\n\t},\n\t{\n\t\ttitle: 'Auction Source URL',\n\t\ttype: 'auction',\n\t\ttag_id: 'hx6y32mmt8',\n\t\tcolor: '#860073'\n\t},\n\t{\n\t\ttitle: 'Auction Source Name',\n\t\ttype: 'auction',\n\t\ttag_id: 'fkjshhqhqb',\n\t\tcolor: '#478913'\n\t},\n\n\t// Auction House Tags\n\t{\n\t\ttitle: 'Auction House Name',\n\t\ttype: 'auction_house',\n\t\ttag_id: 'eguarqp59r',\n\t\tcolor: '#167dd1'\n\t},\n\t{\n\t\ttitle: 'Auction House Description',\n\t\ttype: 'auction_house',\n\t\ttag_id: 'bddndnm4dx',\n\t\tcolor: '#162a8b'\n\t},\n\t{\n\t\ttitle: 'Auction House Website',\n\t\ttype: 'auction_house',\n\t\ttag_id: '7zhbbdymd7',\n\t\tcolor: '#5f1579'\n\t},\n\t{\n\t\ttitle: 'Auction House Phone',\n\t\ttype: 'auction_house',\n\t\ttag_id: 's9cfw7sjua',\n\t\tcolor: '#ca264f'\n\t},\n\t{\n\t\ttitle: 'Auction House Address',\n\t\ttype: 'auction_house',\n\t\ttag_id: 'hhcd2dadsp',\n\t\tcolor: '#819c50'\n\t},\n\t{\n\t\ttitle: 'Auction House Source ID',\n\t\ttype: 'auction_house',\n\t\ttag_id: 'wvpepsw2xc',\n\t\tcolor: '#92acb1'\n\t},\n\t{\n\t\ttitle: 'Auction House Source URL',\n\t\ttype: 'auction_house',\n\t\ttag_id: '47qbbkug2a',\n\t\tcolor: '#1dd128'\n\t},\n\t{\n\t\ttitle: 'Auction House Source Name',\n\t\ttype: 'auction_house',\n\t\ttag_id: 'bkl5qunxls',\n\t\tcolor: '#906ec5'\n\t},\n]","export function set_full_list_urls(full_list_urls){\n\tvar action_to_return = {\n\t\ttype: 'SET_FULL_LIST_URLS',\n\t\tfull_list_urls: full_list_urls\n\t};\n\n\treturn action_to_return;\n}\n\nexport function set_scraper_settings(scraper_settings){\n\tvar action_to_return = {\n\t\ttype: 'SET_SCRAPER_SETTINGS',\n\t\tscraper_settings: scraper_settings\n\t};\n\n\treturn action_to_return;\n}\n\nexport function set_crawl_urls(crawl_urls){\n\tvar action_to_return = {\n\t\ttype: 'SET_CRAWL_URLS',\n\t\tcrawl_urls: crawl_urls\n\t};\n\n\treturn action_to_return;\n}\n\nexport function set_crawl_selectors(crawl_selectors){\n\tvar action_to_return = {\n\t\ttype: 'SET_CRAWL_SELECTORS',\n\t\tcrawl_selectors: crawl_selectors\n\t};\n\n\treturn action_to_return;\n}\n\n\nexport function set_partial_results(partial_results){\n\tvar action_to_return = {\n\t\ttype: 'SET_PARTIAL_RESULTS',\n\t\tpartial_results: partial_results\n\t};\n\n\treturn action_to_return;\n}\n\nexport function set_final_results(final_results){\n\tvar action_to_return = {\n\t\ttype: 'SET_FINAL_RESULTS',\n\t\tfinal_results: final_results\n\t};\n\n\treturn action_to_return;\n}","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Redirect } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Input from '@material-ui/core/Input';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport List from '@material-ui/core/List';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport TextField from '@material-ui/core/TextField';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport uniqid from 'uniqid';\nimport ReactTooltip from 'react-tooltip'\nimport ScrollArea from 'react-scrollbar';\nimport $ from \"jquery\";\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/Home.css';\n\n// Constants import\nimport * as constants from '../constants.js'\n\nfunction json_parse_booleans(key, value){\n\tif (value === 'false') {\n\t\treturn false\n\t}\n\treturn value\n}\n\nfunction validate_css_selector(selector){\n\ttry {\n\t\tdocument.querySelector(selector);\n\t\treturn true;\n\t}\n\tcatch {\n\n\t}\n\treturn false;\n}\n\nclass Selector extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\topen_tags_dialog: false,\n\t\t\topen_attributes_dialog: false,\n\t\t\tis_selector_valid: true,\n\t\t\tcustom_attribute: ''\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<ReactTooltip />\n\t\t\t\t<div className=\"home-selector-container\" style={this.state.is_selector_valid ? {} : {backgroundColor: '#fd676417'}}>\n\t\t\t\t\t<div className=\"home-selector-input-container\">\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tlabel=\"Dense multiline\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tdisableUnderline={true}\n\t\t\t\t\t\t\tplaceholder=\"My Awesome CSS selector\"\n\t\t\t\t\t\t\tdefaultValue={this.props.config.css_selector}\n\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\tthis.setState({is_selector_valid: validate_css_selector(event.target.value)})\n\t\t\t\t\t\t\t\tthis.props.edit_selector(this.props.config.selector_id, event.target.value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t{this.props.config.tag &&\n\t\t\t\t\t\t<span style={{backgroundColor: this.props.config.tag.color}} className=\"home-tag-indicator\">{this.props.config.tag.title}</span>\n\t\t\t\t\t}\n\t\t\t\t\t{!this.props.config.tag &&\n\t\t\t\t\t\t<span style={{backgroundColor: '#fd6764'}} className=\"home-tag-indicator\">Post Process</span>\n\t\t\t\t\t}\n\n\t\t\t\t\t<span style={{backgroundColor: '#361ffb', marginLeft: 10, color: 'white'}} className=\"home-tag-indicator\">{this.props.config.attr}</span>\n\t\t\t\t\t<i className=\"home-selector-icon material-icons\" onClick={() => this.setState({open_tags_dialog: true})}>label</i>\n\t\t\t\t\t<i className=\"home-selector-icon material-icons\" onClick={() => this.setState({open_attributes_dialog: true})}>code</i>\n\t\t\t\t\t<i className=\"home-selector-icon material-icons\" onClick={() => this.props.remove_selector(this.props.config.selector_id)}>close</i>\n\t\t\t\t</div>\n\t\t\t\t<Divider />\n\n\t\t\t\t<Dialog\n\t\t\t\t\tonClose={() => this.setState({open_tags_dialog: false})}\n\t\t\t\t\topen={this.state.open_tags_dialog}\n\t\t\t\t\taria-labelledby=\"simple-dialog-title\"\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle id=\"simple-dialog-title\">Select a tag</DialogTitle>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tstyle={{backgroundColor: '#eaeaea'}}\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({open_tags_dialog: false});\n\t\t\t\t\t\t\t\tthis.props.add_tag(this.props.config.selector_id, false);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary=\"Post process\" />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t{constants.tag_options.map((tag) => \n\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.setState({open_tags_dialog: false});\n\t\t\t\t\t\t\t\t\tthis.props.add_tag(this.props.config.selector_id, tag);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemText primary={tag.title} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</List>\n\t\t\t\t</Dialog>\n\n\t\t\t\t<Dialog\n\t\t\t\t\tonClose={() => this.setState({open_attributes_dialog: false})}\n\t\t\t\t\topen={this.state.open_attributes_dialog}\n\t\t\t\t\taria-labelledby=\"simple-dialog-title\"\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle id=\"simple-dialog-title\">Select an Attribute</DialogTitle>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tstyle={{margin: 10}}\n\t\t\t\t\t\tlabel=\"Custom Attribute\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tvalue={this.state.new_selector_set_name}\n\t\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\t\tonChange={(event) => this.state.custom_attribute = event.target.value}\n\t\t\t\t\t\tonKeyDown={(e) => { if (e.key === 'Enter') this.props.add_attribute(this.props.config.selector_id, this.state.custom_attribute); }}\n\t\t\t\t\t/>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({open_attributes_dialog: false});\n\t\t\t\t\t\t\t\tthis.props.add_attribute(this.props.config.selector_id, 'innerText');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary={'innerText'} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({open_attributes_dialog: false});\n\t\t\t\t\t\t\t\tthis.props.add_attribute(this.props.config.selector_id, 'href');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary={'href'} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({open_attributes_dialog: false});\n\t\t\t\t\t\t\t\tthis.props.add_attribute(this.props.config.selector_id, 'src');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary={'src'} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({open_attributes_dialog: false});\n\t\t\t\t\t\t\t\tthis.props.add_attribute(this.props.config.selector_id, 'srcset');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary={'srcset'} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({open_attributes_dialog: false});\n\t\t\t\t\t\t\t\tthis.props.add_attribute(this.props.config.selector_id, 'class');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary={'class'} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({open_attributes_dialog: false});\n\t\t\t\t\t\t\t\tthis.props.add_attribute(this.props.config.selector_id, 'id');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary={'id'} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</List>\n\t\t\t\t</Dialog>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n\nclass Home extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tadd_selector_field: '',\n\t\t\tselectors: this.props.crawl_selectors ? this.props.crawl_selectors : {},\n\t\t\turls: this.props.full_list_urls,\n\t\t\tsnackbar_open: false,\n\t\t\tsnackbar_message: '',\n\t\t\tredirect: false,\n\t\t\tnew_selector_set_name: '',\n\t\t\tdisplay_save_dialog: false,\n\t\t\tdisplay_load_dialog: false,\n\t\t\tis_selector_set_loading: true,\n\t\t\tavailable_selector_sets: []\n\t\t}\n\n\t\tthis.add_selector = this.add_selector.bind(this);\n\t\tthis.remove_selector = this.remove_selector.bind(this);\n\t\tthis.add_tag = this.add_tag.bind(this);\n\t\tthis.add_attribute = this.add_attribute.bind(this);\n\t\tthis.edit_selector = this.edit_selector.bind(this);\n\t\tthis.next = this.next.bind(this);\n\t\tthis.save = this.save.bind(this);\n\t\tthis.delete = this.delete.bind(this);\n\t\tthis.load = this.load.bind(this);\n\t\tthis.load_selectors = this.load_selectors.bind(this);\n\t}\n\n\t// Add a new empty CSS selector\n\tadd_selector(){\n\t\tlet new_selectors = Object.assign({}, this.state.selectors);\n\n\t\tlet new_id = uniqid();\n\t\tnew_selectors[new_id] = {\n\t\t\tselector_id: new_id,\n\t\t\tcss_selector: this.state.add_selector_field,\n\t\t\ttag: false,\n\t\t\tregex: '',\n\t\t\tattr: 'innerText',\n\t\t\turls: [],\n\t\t}\n\t\tthis.setState({selectors: new_selectors})\n\t\tthis.setState({add_selector_field: ''})\n\t\tthis.props.actions.set_crawl_selectors(new_selectors)\n\t}\n\n\tremove_selector(selector_id){\n\t\tlet new_selectors = Object.assign({}, this.state.selectors);\n\t\tdelete new_selectors[selector_id]\n\t\tthis.setState({selectors: new_selectors})\n\t\tthis.props.actions.set_crawl_selectors(new_selectors)\n\t}\n\n\tadd_tag(selector_id, tag){\n\t\tlet new_selectors = Object.assign({}, this.state.selectors);\n\t\tnew_selectors[selector_id]['tag'] = tag\n\t\tthis.setState({selectors: new_selectors})\n\t\tthis.props.actions.set_crawl_selectors(new_selectors)\n\t}\n\n\tadd_attribute(selector_id, attribute){\n\t\tlet new_selectors = Object.assign({}, this.state.selectors);\n\t\tnew_selectors[selector_id]['attr'] = attribute\n\t\tthis.setState({selectors: new_selectors})\n\t\tthis.props.actions.set_crawl_selectors(new_selectors)\n\t}\n\n\tedit_selector(selector_id, css_selector){\n\t\tlet new_selectors = Object.assign({}, this.state.selectors);\n\t\tnew_selectors[selector_id]['css_selector'] = css_selector;\n\t\t// eslint-disable-next-line\n\t\tthis.state.selectors = new_selectors;\n\t}\n\n\tnext(full_list){\n\t\tlet selectors = Object.assign({}, this.state.selectors);\n\n\t\t// Delete css selectors with invalid format\n\t\tfor (var i = Object.keys(selectors).length - 1; i >= 0; i--) {\n\t\t\tlet current_selector_id = Object.keys(selectors)[i];\n\t\t\tif (!validate_css_selector(selectors[current_selector_id].css_selector)) {\n\t\t\t\tdelete selectors[current_selector_id]\n\t\t\t}\n\t\t}\n\n\t\tif (Object.keys(selectors).length === 0) {\n\t\t\tthis.setState({snackbar_message: 'No proper CSS selector found'})\n\t\t\tthis.setState({snackbar_open: true})\n\t\t\treturn\n\t\t}\n\n\t\tthis.props.actions.set_crawl_selectors(selectors)\n\t\t\n\t\tthis.setState({redirect: \"/urls/\"})\n\t}\n\n\tload_selectors(){\n\t\tthis.setState({is_selector_set_loading: true});\n\t\tthis.setState({display_load_dialog: true});\n\t\t$.ajax({\n\t\t\tcontext: this,\n\t\t\turl: constants.load_selector_sets,\n\t\t\ttype: 'get',\n\t\t\tdata: {},\n\t\t\tsuccess: function(data) {\n\t\t\t\tconsole.log(data)\n\t\t\t\tthis.setState({available_selector_sets: data.selector_sets});\n\t\t\t\tthis.setState({is_selector_set_loading: false});\n\t\t\t},\n\t\t\terror: function(data) {},\n\t\t\tcomplete: function(XHR, status){},\n\t\t\ttimeout: 120000\n\t\t});\n\t}\n\n\tload(selector_set){\n\t\tvar selector_set_dict = JSON.parse(selector_set, json_parse_booleans);\n\t\tthis.setState({ selectors: selector_set_dict });\n\t\tthis.setState({display_load_dialog: false});\n\t\tconsole.log(selector_set_dict)\n\t}\n\n\tsave(){\t\n\t\tif (this.state.new_selector_set_name.length === 0) {\n\t\t\tthis.setState({snackbar_message: 'Please give your selector set a proper name'})\n\t\t\tthis.setState({snackbar_open: true})\n\t\t\treturn \n\t\t}\n\n\t\tthis.setState({display_save_dialog: false})\n\t\t$.ajax({\n\t\t\tcontext: this,\n\t\t\turl: constants.save_selector_sets,\n\t\t\ttype: 'get',\n\t\t\tdata: {\n\t\t\t\t'selector_set': this.state.selectors,\n\t\t\t\t'set_name': this.state.new_selector_set_name\n\t\t\t},\n\t\t\tsuccess: function(data) {\n\t\t\t\tif (data.status === 'success') {\n\t\t\t\t\tthis.setState({snackbar_message: 'Saved!'})\n\t\t\t\t\tthis.setState({snackbar_open: true})\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\tthis.setState({snackbar_message: 'Sorry, I got an error...'})\n\t\t\t\t\tthis.setState({snackbar_open: true})\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: function(data) {\n\t\t\t\tthis.setState({snackbar_message: 'Sorry, I got an error...'})\n\t\t\t\tthis.setState({snackbar_open: true})\n\t\t\t},\n\t\t\tcomplete: function(XHR, status){},\n\t\t\ttimeout: 120000\n\t\t});\n\t}\n\n\tdelete(select_set_hash_id){\n\t\tthis.setState({display_load_dialog: false})\n\t\t$.ajax({\n\t\t\tcontext: this,\n\t\t\turl: constants.delete_selector_set,\n\t\t\ttype: 'get',\n\t\t\tdata: {\n\t\t\t\t'hash_id': select_set_hash_id,\n\t\t\t},\n\t\t\tsuccess: function(data) {},\n\t\t\terror: function(data) {},\n\t\t\tcomplete: function(XHR, status){},\n\t\t\ttimeout: 120000\n\t\t});\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"home-main-container\">\n\t\t\t\t<ReactTooltip />\n\t\t\t\t<Paper className=\"home-section\">\n\t\t\t\t\t<div className=\"home-section-header\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"home-section-header-title\">\n\t\t\t\t\t\t\t\tSelectors\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"home-section-header-subtitle\">\n\t\t\t\t\t\t\t\tAdd your CSS selectors and their respective tags\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Button className=\"home-run-button\" variant=\"contained\" color=\"secondary\" onClick={this.load_selectors} style={{marginRight: 10}}>LOAD</Button>\n\t\t\t\t\t\t\t<Button className=\"home-run-button\" variant=\"contained\" color=\"secondary\" onClick={() => this.setState({display_save_dialog: true})} style={{marginRight: 10}}>SAVE</Button>\n\t\t\t\t\t\t\t<Button className=\"home-run-button\" variant=\"contained\" color=\"primary\" onClick={this.next}>NEXT</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ScrollArea\n\t\t\t\t\t\tspeed={0.8}\n\t\t\t\t\t\tclassName=\"home-section-body\"\n\t\t\t\t\t\tcontentClassName=\"content\"\n\t\t\t\t\t\thorizontal={false}\n\t\t\t\t\t\tsmoothScrolling={true}\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t{Object.keys(this.state.selectors).map((selector_id) => {\n\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t<Selector\n\t\t\t\t\t\t\t\t\t\tconfig={this.state.selectors[selector_id]}\n\t\t\t\t\t\t\t\t\t\tremove_selector={this.remove_selector}\n\t\t\t\t\t\t\t\t\t\tadd_tag={this.add_tag}\n\t\t\t\t\t\t\t\t\t\tadd_attribute={this.add_attribute}\n\t\t\t\t\t\t\t\t\t\tedit_selector={this.edit_selector}\n\t\t\t\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\n\t\t\t\t\t\t\t<div className=\"home-selector-container\">\n\t\t\t\t\t\t\t\t<div className=\"home-selector-input-container\">\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tlabel=\"CSS Selector\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tdisableUnderline={true}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"My Awesome CSS selector\"\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.add_selector_field}\n\t\t\t\t\t\t\t\t\t\tonChange={(event) => this.setState({add_selector_field: event.target.value})}\n\t\t\t\t\t\t\t\t\t\tonKeyDown={(e) => {if (e.key === 'Enter') this.add_selector()}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<i className=\"home-selector-icon material-icons\" onClick={this.add_selector}>add</i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t</React.Fragment>\n\n\t\t\t\t\t</ScrollArea>\n\t\t\t\t</Paper>\n\n\t\t\t\t<Dialog\n\t\t\t\t\topen={this.state.display_save_dialog}\n\t\t\t\t\tonClose={() => this.setState({display_save_dialog: false})}\n\t\t\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\t\t\taria-describedby=\"alert-dialog-description\"\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle id=\"alert-dialog-title\">Save Selector Set</DialogTitle>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<DialogContentText id=\"alert-dialog-description\">\n\t\t\t\t\t\t\tGive your selector set a name. It should have a name that reminds you of the website and type of page you're parsing.\n\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tstyle={{marginTop: 10, marginBottom: 10 }}\n\t\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\t\tid=\"outlined-basic\"\n\t\t\t\t\t\t\tlabel=\"Selecto Set Name\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tvalue={this.state.new_selector_set_name}\n\t\t\t\t\t\t\tonChange={(event) => this.setState({new_selector_set_name: event.target.value})}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={() => this.setState({display_save_dialog: false})} color=\"secondary\" variant=\"contained\">CANCEL</Button>\n\t\t\t\t\t\t<Button onClick={this.save} color=\"primary\" variant=\"contained\">SAVE</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Dialog>\n\n\t\t\t\t<Dialog onClose={() => this.setState({display_load_dialog: false})} aria-labelledby=\"simple-dialog-title\" open={this.state.display_load_dialog}>\n\t\t\t\t\t<DialogTitle id=\"simple-dialog-title\">Load Selector Set</DialogTitle>\n\t\t\t\t\t{this.state.is_selector_set_loading &&\n\t\t\t\t\t\t<div className=\"home-load-dialog-progress-container\">\n\t\t\t\t\t\t\t<CircularProgress />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t\t{!this.state.is_selector_set_loading &&\n\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t{this.state.available_selector_sets.map((selector_set) => {\n\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t<ListItem className=\"home-load-dialog-item\">\n\t\t\t\t\t\t\t\t\t\t<ListItemText onClick={() => this.load(selector_set.selectors_json)} primary={selector_set.set_name} />\n\t\t\t\t\t\t\t\t\t\t<ListItemAvatar onClick={() => this.delete(selector_set.hash_id)} className=\"home-load-dialog-delete-button\">\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">delete</i>\n\t\t\t\t\t\t\t\t\t\t</ListItemAvatar>\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</List>\n\t\t\t\t\t}\n\t\t\t\t</Dialog>\n\n\t\t\t\t<Snackbar message={this.state.snackbar_message} open={this.state.snackbar_open} autoHideDuration={5000} onClose={() => this.setState({snackbar_open: false})} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tcrawl_selectors: state.GlobalReducer.crawl_selectors,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)\n\n\n\n\n\n\n\n\n\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Redirect } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport update from 'react-addons-update';\nimport uniqid from 'uniqid';\nimport validate from 'validate.js';\nimport ReactTooltip from 'react-tooltip'\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/Urls.css';\n\n// Get the first N keys of a dict\nfunction firstN(obj, n) {\n\treturn Object.keys(obj) //get the keys out\n\t\t.sort() //this will ensure consistent ordering of what you will get back. If you want something in non-aphabetical order, you will need to supply a custom sorting function\n\t\t.slice(0, n) //get the first N\n\t\t.reduce(function(memo, current) { //generate a new object out of them\n\t\t\tmemo[current] = obj[current]\n\t\t\treturn memo;\n\t}, {})\n}\n\n\nfunction url_dict_to_string(url_dict){\n\tlet urls_string = ''\n\n\tvar url_ids = Object.keys(url_dict);\n\tfor (var i = url_ids.length - 1; i >= 0; i--) {\n\t\tlet url_id = url_ids[i]\n\n\t\turls_string = urls_string + url_dict[url_id].url + '\\n'\n\t}\n\n\treturn urls_string\n}\n\n\nclass Home extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// Reset the URLs status to in_queue\n\n\t\tlet urls = Object.assign({}, this.props.full_list_urls);\n\t\tlet url_ids = Object.keys(urls)\n\t\tfor (var i = url_ids.length - 1; i >= 0; i--) {\n\t\t\tlet url_id = url_ids[i]\n\t\t\turls[url_id].status = 'in_queue'\n\t\t}\n\n\t\tthis.state = {\n\t\t\tadd_selector_field: '',\n\t\t\turls: urls,\n\t\t\tscraper_settings: this.props.scraper_settings,\n\t\t}\n\n\t\tthis.url_list_changed = this.url_list_changed.bind(this);\n\t\tthis.run = this.run.bind(this);\n\t\tthis.use_proxy_changed = this.use_proxy_changed.bind(this);\n\t\tthis.scroll_page_changed = this.scroll_page_changed.bind(this);\n\t}\n\n\turl_list_changed(event){\n\t\tlet new_urls = Object.assign({}, {});\n\n\t\tlet urls = event.target.value.split('\\n')\n\t\tlet url_id = uniqid();\n\t\tfor (var i = urls.length - 1; i >= 0; i--) {\n\t\t\turl_id = uniqid();\n\t\t\tnew_urls[url_id] = {url: urls[i], url_id: url_id, 'status': 'in_queue', page_source: false, response_code: false}\n\t\t}\n\n\t\tthis.props.actions.set_full_list_urls(new_urls)\n\n\t\t// eslint-disable-next-line\n\t\tthis.state.urls = new_urls;\n\t}\n\n\trun(full_list){\n\t\tlet urls = Object.assign({}, this.state.urls);\n\n\t\t// Delete URLs that don't have a valid format\n\t\t// eslint-disable-next-line\n\t\tfor (var i = Object.keys(urls).length - 1; i >= 0; i--) {\n\t\t\tlet current_url_id = Object.keys(urls)[i];\n\t\t\tlet url_checker = validate({website: urls[current_url_id]['url'].trim()}, {website: {url: true}});\n\t\t\tif (url_checker !== undefined) {\n\t\t\t\tdelete urls[current_url_id]\n\t\t\t}\n\t\t}\n\n\t\t// eslint-disable-next-line\n\t\tfor (var i = urls.length - 1; i >= 0; i--) {\n\t\t\tlet url_checker = validate({website: urls[i]}, {website: {url: true}});\n\t\t\tif (url_checker !== undefined) {\n\t\t\t\turls.splice(i, 1);\n\t\t\t}\n\t\t}\n\n\t\tif (Object.keys(urls).length === 0) {\n\t\t\tthis.setState({snackbar_message: 'No proper URLs found'})\n\t\t\tthis.setState({snackbar_open: true})\n\t\t\treturn\n\t\t}\n\n\t\tif (!full_list && Object.keys(urls).length > 3) {\n\t\t\turls = firstN(urls, 3)\n\t\t}\n\n\t\tthis.props.actions.set_crawl_urls(urls)\n\t\t\n\t\tthis.setState({redirect: \"/progress/\"})\n\t}\n\n\tuse_proxy_changed(event, is_checked){\n\t\tconst new_state = update(this.state, {\n\t\t\tscraper_settings: {use_proxy: {$set: is_checked}},\n\t\t});\n\t\tthis.props.actions.set_scraper_settings(new_state.scraper_settings)\n\t\tthis.setState(new_state)\n\t}\n\n\tscroll_page_changed(event, is_checked){\n\t\tconst new_state = update(this.state, {\n\t\t\tscraper_settings: {scroll_page: {$set: is_checked}},\n\t\t});\n\t\tthis.props.actions.set_scraper_settings(new_state.scraper_settings)\n\t\tthis.setState(new_state)\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"urls-main-container\">\n\t\t\t\t<ReactTooltip />\n\t\t\t\t<Paper className=\"urls-section\">\n\t\t\t\t\t<div className=\"urls-section-header\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"urls-section-header-title\">\n\t\t\t\t\t\t\t\tURLs to scrape\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"urls-section-header-subtitle\">\n\t\t\t\t\t\t\t\tURL list here - One per line\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Button className=\"urls-run-sample-button\" variant=\"contained\" color=\"secondary\" onClick={() => this.setState({redirect: \"/\"})}>BACK</Button>\n\t\t\t\t\t\t\t<Button className=\"urls-run-sample-button\" variant=\"contained\" color=\"secondary\" data-tip=\"Run a sample of 3 URLs only\" onClick={() => this.run(false)}>RUN SAMPLE</Button>\n\t\t\t\t\t\t\t<Button className=\"urls-run-button\" variant=\"contained\" color=\"primary\" onClick={() => this.run(true)}>RUN</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"urls-section-body\">\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tid=\"outlined-dense-multiline\"\n\t\t\t\t\t\t\tlabel=\"URL List\"\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tdefaultValue={url_dict_to_string(this.state.urls)}\n\t\t\t\t\t\t\tonChange={this.url_list_changed}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Paper>\n\n\t\t\t\t<Paper className=\"urls-section\">\n\t\t\t\t\t<div className=\"urls-section-header\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"urls-section-header-title\">\n\t\t\t\t\t\t\t\tScraper options\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"urls-section-header-subtitle\">\n\t\t\t\t\t\t\t\tThe settings to use when requesting the listed URLs.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"urls-section-body\">\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tchecked={this.state.scraper_settings.use_proxy}\n\t\t\t\t\t\t\t\tonChange={this.use_proxy_changed}\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span>Use proxies on every request</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tchecked={this.state.scraper_settings.scroll_page}\n\t\t\t\t\t\t\t\tonChange={this.scroll_page_changed}\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span>Scroll page all the way before parsing</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Paper>\n\n\n\t\t\t\t<Snackbar message={this.state.snackbar_message} open={this.state.snackbar_open} onClose={() => this.setState({snackbar_open: false})} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tfull_list_urls: state.GlobalReducer.full_list_urls,\n\t\tscraper_settings: state.GlobalReducer.scraper_settings,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)\n\n\n\n\n\n\n\n\n\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Redirect } from 'react-router-dom';\nimport $ from \"jquery\";\nimport uniqid from 'uniqid';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Paper from '@material-ui/core/Paper';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/Progress.css';\n\n// Constants import\nimport * as constants from '../constants.js'\n\nclass Progress extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\turls: this.props.crawl_urls,\n\t\t\tin_queue_counter: 0,\n\t\t\tinitial_queue_size: 0,\n\t\t\tredirect: false,\n\t\t\tmatches: {}\n\t\t}\n\n\t\tthis.crawl = this.crawl.bind(this);\n\t\tthis.crawl_next = this.crawl_next.bind(this);\n\t\tthis.count_in_queue = this.count_in_queue.bind(this);\n\t\tthis.update_queue = this.update_queue.bind(this);\n\t\tthis.crawl_finished = this.crawl_finished.bind(this);\n\n\t\tthis.state.initial_queue_size = this.count_in_queue();\n\t\tthis.crawl_next();\n\t\tthis.state.in_queue_counter = this.count_in_queue() + 1;\n\t}\n\n\tcrawl_next(){\n\t\tlet urls = Object.assign({}, this.state.urls);\n\t\tfor (var i = 0; i < Object.keys(urls).length; i++) {\n\t\t\tlet current_url_id = Object.keys(urls)[i];\n\t\t\tlet current_url = urls[current_url_id];\n\t\t\tif (current_url.status === 'in_queue') {\n\t\t\t\turls[current_url_id].status = 'scraping'\n\t\t\t\tthis.setState({urls: urls})\n\t\t\t\tthis.update_queue();\n\t\t\t\tthis.crawl(current_url)\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\tthis.crawl_finished()\n\t\treturn\n\t}\n\n\tcrawl(url){\n\t\tvar selector_ids = Object.keys(this.props.crawl_selectors);\n\n\t\t// Create an empty dict for the current URL being crawler\n\t\t// eslint-disable-next-line\n\t\tthis.state.matches[url.url_id] = {}\n\n\t\t// Now, for each one of the selector IDs, let's create an empty array with the selector id as the key.\n\t\t// They will later be replaces with the matches if we find any.\n\t\tfor (var i = selector_ids.length - 1; i >= 0; i--) {\n\t\t\tlet selector_id = selector_ids[i];\n\t\t\t// eslint-disable-next-line\n\t\t\tthis.state.matches[url.url_id][selector_id] = []\n\t\t}\n\n\t\t$.ajax({\n\t\t\tcontext: this,\n\t\t\turl: constants.scraper_endpoint,\n\t\t\ttype: 'get',\n\t\t\tdata: {\n\t\t\t\turl: url.url,\n\t\t\t\tselectors: this.props.crawl_selectors,\n\t\t\t\tsettings: this.props.scraper_settings\n\t\t\t},\n\t\t\tsuccess: function(data) {\n\t\t\t\t// eslint-disable-next-line\n\t\t\t\tthis.state.matches[url.url_id] = Object.assign(this.state.matches[url.url_id], data.matches);\n\n\t\t\t\tlet urls = Object.assign({}, this.state.urls);\n\t\t\t\turls[url.url_id].status = data.status\n\t\t\t\turls[url.url_id].page_source = data.page_source\n\t\t\t\turls[url.url_id].response_code = data.response_code\n\t\t\t\tthis.setState({urls: urls})\n\t\t\t\tthis.crawl_next();\n\t\t\t},\n\t\t\terror: function(data) {\n\t\t\t\tlet urls = Object.assign({}, this.state.urls);\n\t\t\t\turls[url.url_id].status = 'error'\n\t\t\t\tthis.setState({urls: urls})\n\t\t\t\tthis.crawl_next();\n\t\t\t},\n\t\t\tcomplete: function(XHR, status){\n\t\t\t\tthis.update_queue();\n\t\t\t},\n\t\t\ttimeout: 120000\n\t\t});\n\t}\n\n\tcount_in_queue(){\n\t\tlet counter = 0;\n\t\tfor (var i = Object.keys(this.state.urls).length - 1; i >= 0; i--) {\n\t\t\tlet current_url_id = Object.keys(this.state.urls)[i];\n\t\t\tlet current_url = this.state.urls[current_url_id];\n\t\t\tif (current_url.status === 'in_queue') {\n\t\t\t\tcounter = counter + 1\n\t\t\t}\n\t\t}\n\t\treturn counter\n\t}\n\n\tupdate_queue(){\n\t\tlet counter = this.count_in_queue();\n\t\tthis.setState({in_queue_counter: counter + 1});\n\t}\n\n\tcrawl_finished(){\n\t\tthis.props.actions.set_crawl_urls(this.state.urls)\n\t\tthis.props.actions.set_partial_results(this.state.matches);\n\t\tthis.setState({redirect: \"/partial-results/\"})\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"progress-main-container\">\n\t\t\t\t<Paper className=\"progress-section\">\n\t\t\t\t\t<div className=\"progress-section-header\">\n\t\t\t\t\t\t<div className=\"progress-section-header-title\">Now running...</div>\n\t\t\t\t\t\t<Button className=\"home-run-button\" variant=\"contained\" color=\"secondary\" onClick={() => this.setState({redirect: \"/urls/\"}) }>CANCEL</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<LinearProgress className=\"progress-loading-bar\" variant=\"determinate\" value={100*((this.state.initial_queue_size - this.state.in_queue_counter)/this.state.initial_queue_size)} />\n\t\t\t\t\t<div className=\"progress-section-progress-legend\">{this.state.initial_queue_size - this.state.in_queue_counter}/{this.state.initial_queue_size} urls processed</div>\n\t\t\t\t</Paper>\n\t\t\t\t<Paper className=\"progress-section\">\n\t\t\t\t\t<div className=\"progress-section-header-title\">Crawl Results</div>\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<div className=\"progress-section-url-container\">\n\t\t\t\t\t\t\t{Object.keys(this.state.urls).map((url_id) => {\n\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t<React.Fragment key={uniqid()}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"progress-item\" key={uniqid()}>\n\t\t\t\t\t\t\t\t\t\t\t<div key={uniqid()} className=\"progress-item-url\">{this.state.urls[url_id].url}</div>\n\t\t\t\t\t\t\t\t\t\t\t<div key={uniqid()} className=\"progress-item-status\">{this.state.urls[url_id].status}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<Divider key={uniqid()} />\n\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</React.Fragment>\n\n\t\t\t\t</Paper>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tcrawl_urls: state.GlobalReducer.crawl_urls,\n\t\tcrawl_selectors: state.GlobalReducer.crawl_selectors,\n\t\tscraper_settings: state.GlobalReducer.scraper_settings,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(Progress)\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Redirect } from 'react-router-dom';\nimport { Table } from 'semantic-ui-react'\nimport uniqid from 'uniqid';\nimport { parse } from 'node-html-parser';\nimport EllipsisText from 'react-ellipsis-text';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { CSVLink } from \"react-csv\";\nimport posed from 'react-pose';\nimport ReactJson from 'react-json-view'\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/PartialResults.css';\n\nfunction get_data_from_tag(tag, attr){\n\tif (attr === 'innerText') {\n\t\treturn tag.structuredText\n\t}\n\n\tvar result = tag.getAttribute(attr);\n\tif (result == null){\n    \treturn ''\n\t}\n\n\treturn result\n\n}\n\nfunction get_content(urls, selectors){\n\tlet matches = {}\n\n\t// Now let's iterate over each url scraped\n\tfor (var i = Object.keys(urls).length - 1; i >= 0; i--) {\n\t\tlet url_id = Object.keys(urls)[i];\n\t\tlet url = urls[url_id];\n\n\t\t// Now let's create an empty entry for each one of the URLs, this entry will later be filled with the selectors results\n\t\tmatches[url_id] = {}\n\n\t\t// We should only parse URLs that were successfully scraped\n\t\tif (url.status === \"success\") {\n\n\t\t\t// Now create a soup from the raw page source code\n\t\t\tlet soup = parse(url.page_source);\n\n\t\t\t// Now let's find the elements of interest withing the soup using the user's CSS selectors\n\t\t\tfor (var j = Object.keys(selectors).length - 1; j >= 0; j--) {\n\t\t\t\tlet selector_id = Object.keys(selectors)[j];\n\t\t\t\tlet selector = selectors[selector_id];\n\n\t\t\t\t// Now get the target element from the soup\n\t\t\t\tlet tag = soup.querySelector(selector.css_selector);\n\t\t\t\tlet tags = soup.querySelectorAll(selector.css_selector);\n\n\t\t\t\t// Check if the element was found, if it is then, get the inner text,\n\t\t\t\t// otherwise just assign false to the result array\n\t\t\t\tif (tag !== null) {\n\t\t\t\t\tif (tags.length > 1) {\n\t\t\t\t\t\tlet text = {\n\t\t\t\t\t\t\t'data_type': 'json',\n\t\t\t\t\t\t\tmatches: []\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet outerHTML = {\n\t\t\t\t\t\t\t'data_type': 'json',\n\t\t\t\t\t\t\tmatches: []\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (var k = tags.length - 1; k >= 0; k--) {\n\t\t\t\t\t\t\tlet unitary_tag = tags[k];\n\t\t\t\t\t\t\ttext.matches.push(get_data_from_tag(unitary_tag, selector.attr))\n\t\t\t\t\t\t\touterHTML.matches.push(unitary_tag.outerHTML)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatches[url_id][selector_id] = {data_type: 'json', text: JSON.stringify(text), html: JSON.stringify(outerHTML)}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tmatches[url_id][selector_id] = {data_type: 'single', text: get_data_from_tag(tag, selector.attr), html: tag.outerHTML}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tmatches[url_id][selector_id] = false\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\t// If the page surce wasn't scraped successfuly, then simply assign false to every selector\n\t\t\t// eslint-disable-next-line\n\t\t\tfor (var j = Object.keys(selectors).length - 1; j >= 0; j--) {\n\t\t\t\tlet selector_id = Object.keys(selectors)[j];\n\t\t\t\tmatches[url_id][selector_id] = false\n\t\t\t}\n\t\t}\n\n\t}\n\n\treturn matches\n}\n\nfunction generate_csv_from_matches(urls, selectors, matches){\n\tlet csv_export_array = [];\n\n\tlet selector_titles = [];\n\tfor (var j = 0; j < Object.keys(selectors).length; j++) {\n\t\tlet selector_id = Object.keys(selectors)[j];\n\t\tlet selector = selectors[selector_id];\n\t\tselector_titles.push(selector.tag.title ? selector.tag.title : 'Post Process')\n\t}\t\n\n\tlet header = ['URL', 'Status', 'Response Code', ...selector_titles];\n\tcsv_export_array.push(header)\n\n\tfor (var i = 0; i < Object.keys(urls).length; i++) {\n\t\tlet current_row = []\n\t\tlet url_id = Object.keys(urls)[i];\n\t\tlet url = urls[url_id];\n\t\tcurrent_row.push(url.url)\n\t\tcurrent_row.push(url.status ? url.status : '')\n\t\tcurrent_row.push(url.response_code)\n\n\t\t// eslint-disable-next-line\n\t\tfor (var j = 0; j < Object.keys(selectors).length; j++) {\n\t\t\tlet selector_id = Object.keys(selectors)[j];\n\n\t\t\tif (matches[url_id][selector_id].length === 0) {\n\t\t\t\tcurrent_row.push('');\n\n\t\t\t} else if (matches[url_id][selector_id].length === 1) {\n\t\t\t\tif (matches[url_id][selector_id][0].text !== null) {\n\t\t\t\t\tcurrent_row.push(matches[url_id][selector_id][0].text.replace(/(\\r\\n|\\n|\\r)/gm, \" \"));\n\t\t\t\t}else{\n\t\t\t\t\tcurrent_row.push('');\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tcurrent_row.push(JSON.stringify(matches[url_id][selector_id]).replace(/(\\r\\n|\\n|\\r)/gm, \" \"));\n\t\t\t}\n\n\t\t}\n\n\t\tcsv_export_array.push(current_row)\n\t}\n\n\treturn csv_export_array\n}\n\n\nconst PosedCell = posed.div({\n\tpressable: true,\n\tinit: { scale: 1 },\n\tpress: { scale: 0.98 }\n});\n\n\nclass PartialResults extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tlet matches = get_content(this.props.crawl_urls, this.props.crawl_selectors)\n\n\t\tthis.state = {\n\t\t\tmatches: matches,\n\t\t\tredirect: false,\n\t\t\topen_dialog: false,\n\t\t\tdialog_json: [],\n\t\t\tdialog_url: '',\n\t\t}\n\n\t\tthis.use_result_as_urls = this.use_result_as_urls.bind(this);\n\t}\n\n\tuse_result_as_urls(){\n\t\t// Get base URL (without path) to use with relative paths down the line\n\t\tconst url = document.createElement('a');\n\t\turl.setAttribute('href', this.state.dialog_url);\n\t\tlet base_url = url.protocol + '//' + url.hostname;\n\t\tif (url.port.length > 0) {\n\t\t\tbase_url = base_url + ':' + url.port\n\t\t}\n\n\t\t// Create a regex pattern to test for absolute URLs\n\t\tvar regex_pattern = new RegExp('^(?:[a-z]+:)?//', 'i');\n\n\t\tvar urls_to_crawl = {};\n\t\tfor (var i = this.state.dialog_json.length - 1; i >= 0; i--) {\n\t\t\tlet scraped_url = this.state.dialog_json[i].text.trim();\n\t\t\tlet is_absolute_url = regex_pattern.test(scraped_url)\n\n\t\t\tif (is_absolute_url) {\n\t\t\t\tlet new_url_id = uniqid();\n\t\t\t\turls_to_crawl[new_url_id] = {\n\t\t\t\t\turl: scraped_url,\n\t\t\t\t\turl_id: new_url_id,\n\t\t\t\t\t'status': 'in_queue',\n\t\t\t\t\tpage_source: false,\n\t\t\t\t\tresponse_code: false\n\t\t\t\t}\n\n\t\t\t}else{\n\t\t\t\tlet new_url_id = uniqid();\n\t\t\t\turls_to_crawl[new_url_id] = {\n\t\t\t\t\turl: base_url + scraped_url,\n\t\t\t\t\turl_id: new_url_id,\n\t\t\t\t\t'status': 'in_queue',\n\t\t\t\t\tpage_source: false,\n\t\t\t\t\tresponse_code: false\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.setState({open_dialog: false});\n\t\tthis.props.actions.set_full_list_urls(urls_to_crawl);\n\t\tthis.setState({redirect: '/'});\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\t\n\t\treturn (\n\t\t\t<div className=\"partial-main-container\">\n\t\t\t\t<Paper className=\"partial-section\">\n\t\t\t\t\t<div className=\"partial-section-header\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"partial-section-header-title\">\n\t\t\t\t\t\t\t\tPartial Results\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"partial-section-header-subtitle\">\n\t\t\t\t\t\t\t\tData parsed using the scraper results before post processing\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button className=\"post-process-previous-button\" variant=\"contained\" color=\"secondary\" onClick={() => this.setState({redirect: '/urls/'})}>BACK</Button>\n\t\t\t\t\t\t\t<CSVLink separator={\"|\"} enclosingCharacter={`\"`} filename={\"pipe-separated-partial-data.csv\"} data={generate_csv_from_matches(this.props.crawl_urls, this.props.crawl_selectors, this.props.partial_results)}>\n\t\t\t\t\t\t\t\t<Button className=\"partial-download-button\" variant=\"contained\" color=\"secondary\">DOWNLOAD</Button>\n\t\t\t\t\t\t\t</CSVLink>\n\t\t\t\t\t\t\t<Button className=\"partial-postprocess-button\" variant=\"contained\" color=\"primary\" onClick={() => {this.setState({redirect: \"/post-process/\"})}}>Post Process</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"partial-section-body\">\n\t\t\t\t\t\t<div className=\"table-container\">\n\t\t\t\t\t\t\t<Table collapsing celled>\n\t\t\t\t\t\t\t\t<Table.Header>\n\t\t\t\t\t\t\t\t\t<Table.Row>\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>URL</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t{Object.keys(this.props.crawl_selectors).map((selector_id) => {\n\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>{this.props.crawl_selectors[selector_id].tag.title ? this.props.crawl_selectors[selector_id].tag.title : 'Post Process' }</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Status</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Response Code</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t\t\t</Table.Header>\n\t\t\t\t\t\t\t\t<Table.Body>\n\t\t\t\t\t\t\t\t\t{Object.keys(this.props.crawl_urls).map((url_id) => {\n\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t<Table.Row key={uniqid()}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].url}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].url} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t{Object.keys(this.props.crawl_selectors).map((selector_id) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.partial_results[url_id][selector_id].length === 1 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={ this.props.partial_results[url_id][selector_id][0].text }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext={ this.props.partial_results[url_id][selector_id][0].text === null ? '' : this.props.partial_results[url_id][selector_id][0].text }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlength={\"70\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.partial_results[url_id][selector_id].length > 1 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"partial-multiple-found\" onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({dialog_json: this.props.partial_results[url_id][selector_id]});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.dialog_url = this.props.crawl_urls[url_id].url;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({open_dialog: true});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tMultiple Found\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].status}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].status} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\t\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].response_code.toString()}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].response_code.toString()} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Table.Body>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Paper>\n\n\n\t\t\t\t<Dialog\n\t\t\t\t\topen={this.state.open_dialog}\n\t\t\t\t\tonClose={() => this.setState({open_dialog: false})}\n\t\t\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\t\t\taria-describedby=\"alert-dialog-description\"\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle id=\"alert-dialog-title\">Your selector returned multiple elements</DialogTitle>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<DialogContentText id=\"alert-dialog-description\">\n\t\t\t\t\t\t\t<ReactJson collapsed={true} src={this.state.dialog_json} />\n\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={() => this.setState({open_dialog: false})}>CLOSE</Button>\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={this.use_result_as_urls}>USE AS URLS</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Dialog>\n\t\t\t</div>\n\n\t\t);\n\t}\n}\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tcrawl_urls: state.GlobalReducer.crawl_urls,\n\t\tcrawl_selectors: state.GlobalReducer.crawl_selectors,\n\t\tpartial_results: state.GlobalReducer.partial_results,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(PartialResults)","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport Input from '@material-ui/core/Input';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { Redirect } from 'react-router-dom';\nimport Popover from 'react-text-selection-popover';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport ScrollArea from 'react-scrollbar';\nimport uniqid from 'uniqid';\nimport ReactShortcut from 'react-shortcut';\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/PostProcess.css';\n\n// Constants import\nimport * as constants from '../constants.js'\n\n\nclass NewMatch extends React.Component {\n\t// constructor(props) {\n\t// \tsuper(props);\n\t// }\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className=\"post-process-selector-container\">\n\t\t\t\t\t<div className=\"post-process-selector-input-container\">\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tlabel=\"Dense multiline\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tdisableUnderline={true}\n\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\tdefaultValue={this.props.match.text}\n\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t// this.props.edit_selector(this.props.config.selector_id, event.target.value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span style={{backgroundColor: this.props.match.tag.color}} className=\"post-process-tag-indicator\">{this.props.match.tag.title}</span>\n\t\t\t\t\t<CopyToClipboard text={this.props.match.text}>\n\t\t\t\t\t\t<i className=\"post-process-selector-icon material-icons\">flip_to_front</i>\n\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t<i className=\"post-process-selector-icon material-icons\" onClick={() => this.props.parent.remove_match(this.props.match.tag.tag_id)}>close</i>\n\t\t\t\t</div>\n\t\t\t\t<Divider />\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n\n\nvar popover_timer = window.setTimeout(() => {}, 1);\n\nclass PostProcessPopovoer extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tis_open: false,\n\t\t\tclose_timeout: false,\n\t\t\tcurrent_selection: ''\n\t\t}\n\n\t\tthis.popover_close = this.popover_close.bind(this);\n\t\tthis.popover_open = this.popover_open.bind(this);\n\t}\n\n\tpopover_open(){\n\t\tlet selection = window.getSelection().toString()\n\t\t// eslint-disable-next-line\n\t\tthis.props.parent.state.current_selection = selection;\n\n\t\twindow.clearTimeout(popover_timer);\n\t\tthis.setState({ is_open: true })\n\t}\n\n\tpopover_close(){\n\t\twindow.clearTimeout(popover_timer);\n\t\tpopover_timer = window.setTimeout(() => {\n\t\t\tthis.setState({ is_open: false });\n\t\t\t// eslint-disable-next-line\n\t\t\tthis.props.parent.state.current_selection = '';\n\t\t}, 400);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{this.props.children}\n\t\t\t\t<Popover\n\t\t\t\t\tselectionRef={this.props.ref_element}\n\t\t\t\t\tisOpen={this.state.is_open}\n\t\t\t\t\tonTextSelect={this.popover_open}\n\t\t\t\t\tonTextUnselect={this.popover_close}\n\t\t\t\t>\n\t\t\t\t\t{/*\n\t\t\t\t\t<div className=\"post-process-popover-content\">\n\t\t\t\t\t\t{constants.tag_options.map((tag) => \n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"post-process-popover-tag\"\n\t\t\t\t\t\t\t\tonClick={() => { this.props.parent.add_match(tag) }} \n\t\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"post-process-popover-tag-color\" style={{backgroundColor: tag.color}} key={uniqid()}></div>\n\t\t\t\t\t\t\t\t<div className=\"post-process-popover-tag-title\" key={uniqid()}>{tag.title}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t*/}\n\t\t\t\t</Popover>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n\nfunction prepare_post_process_array(urls, selectors, matches){\n\tvar to_post_process_array = [];\n\n\t// Now let's create an array with all the elements that should be post processed\n\tfor (var i = 0; i < Object.keys(urls).length; i++) {\n\t\tlet url_id = Object.keys(urls)[i];\n\t\tlet url = urls[url_id];\n\n\t\t// Check if the crawl was a success, ignore otherwise\n\t\tif (url.status === 'success') {\n\n\t\t\t// eslint-disable-next-line\n\t\t\tfor (var j = 0; j < Object.keys(selectors).length; j++) {\n\n\t\t\t\tlet selector_id = Object.keys(selectors)[j];\n\t\t\t\tlet selector = selectors[selector_id];\n\n\t\t\t\t// Check if the tag for the selector is false, that's the signal that the selctor has no defined tag and should rather be post-processed\n\t\t\t\t// Also check if the post process tag was found in the page source code\n\n\t\t\t\tif (selector.tag === false) {\n\t\t\t\t\tfor (var k = matches[url_id][selector_id].length - 1; k >= 0; k--) {\n\t\t\t\t\t\t// If it was, then append the match to be post processed\n\t\t\t\t\t\tto_post_process_array.push({\n\t\t\t\t\t\t\tmatch: matches[url_id][selector_id][k],\n\t\t\t\t\t\t\tselector: selector,\n\t\t\t\t\t\t\turl: url,\n\t\t\t\t\t\t\tpost_processed: {}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to_post_process_array;\n}\n\nfunction prepare_final_resuts(urls, selectors, matches, post_processed){\n\t// Now let's create an array with all possible tag IDs to use as the columns for our export\n\tvar all_tags = [];\n\t\n\t// Now push to the all_tags array all the non-post-process tags\n\tfor (var i = 0; i < Object.keys(selectors).length; i++) {\n\t\tlet selector_id = Object.keys(selectors)[i];\n\t\tlet selector = selectors[selector_id];\n\t\tif (selector.tag) {\n\t\t\tall_tags.push(selector.tag.tag_id)\n\t\t}\n\t}\n\n\t// Now push to the all_tags array all tags created during post-process\n\t// eslint-disable-next-line\n\tfor (var i = post_processed.length - 1; i >= 0; i--) {\n\t\tfor (var j = 0; j < Object.keys(post_processed[i].post_processed).length; j++) {\n\t\t\tlet match_id = Object.keys(post_processed[i].post_processed)[j];\n\t\t\tlet match = post_processed[i].post_processed[match_id];\n\t\t\tall_tags.push(match.tag.tag_id)\n\t\t}\n\t}\n\n\t// This is the object that will contain all the results extracted so far\n\t// It will be a two-dimensional array with url ids in the first dimension and tag ids in the second\n\tvar results = {};\n\n\t// Now let's fill the results array with false for all possible tags, we will later fill this object with the actual results\n\t// eslint-disable-next-line\n\tfor (var i = 0; i < Object.keys(urls).length; i++) {\n\t\tlet url_id = Object.keys(urls)[i];\n\t\tlet url = urls[url_id];\n\t\t\n\t\t// Check if the crawl was a success, ignore otherwise\n\t\tif (url.status === 'success') {\n\t\t\t\n\t\t\t// create the url key\n\t\t\tresults[url.url_id] = {}\n\n\t\t\t// Now fill the url key with all possible tags, but with empty value for each\n\t\t\t// eslint-disable-next-line\n\t\t\tfor (var j = all_tags.length - 1; j >= 0; j--) {\n\t\t\t\tlet current_tag = all_tags[j];\n\t\t\t\tresults[url.url_id][current_tag] = []\n\t\t\t}\n\t\t}\n\t}\n\n\t// Now let's fill the result array with the non post-process results\n\t// eslint-disable-next-line\n\tfor (var i = 0; i < Object.keys(matches).length; i++) {\n\t\tlet url_id = Object.keys(matches)[i];\n\t\tlet selector_ids = matches[url_id];\n\n\t\t// eslint-disable-next-line\n\t\tfor (var j = 0; j < Object.keys(selector_ids).length; j++) {\n\t\t\tlet selector_id = Object.keys(selector_ids)[j];\n\t\t\tlet selector = selectors[selector_id];\n\t\t\tlet result = selector_ids[selector_id];\n\t\t\tlet tag = selector.tag;\n\n\t\t\t// If tag equals false, that means this selector should be post-processed and thus the resuls were already included in the previous loop\n\t\t\t// So we only have to add the resuls where the tag actually has a tag dict assigned to it\n\t\t\tif (tag) {\n\t\t\t\tresults[url_id][tag.tag_id] = result\n\t\t\t}\n\t\t}\n\t}\n\n\t// Now let's fill the result array with the post-process results\n\t// eslint-disable-next-line\n\tfor (var i = post_processed.length - 1; i >= 0; i--) {\n\t\tlet url_id = post_processed[i].url.url_id;\n\t\tlet post_processed_tags = post_processed[i].post_processed;\n\n\t\t// eslint-disable-next-line\n\t\tfor (var j = 0; j < Object.keys(post_processed_tags).length; j++) {\n\t\t\tlet post_procced_tag_id = Object.keys(post_processed_tags)[j];\n\t\t\tlet post_procced_tag = post_processed_tags[post_procced_tag_id]\n\n\t\t\tresults[url_id][post_procced_tag.tag.tag_id] = [{text: post_procced_tag.text, html: post_procced_tag.text}]\n\n\t\t\t// results[url_id][post_procced_tag.tag.tag_id] = post_procced_tag.text;\n\t\t}\n\t}\n\n\treturn(results)\n}\n\nfunction get_tag(tag_id){\n\tfor (var i = constants.tag_options.length - 1; i >= 0; i--) {\n\t\tif (constants.tag_options[i].tag_id === tag_id) {\n\t\t\treturn constants.tag_options[i]\n\t\t}\n\t}\n\treturn false\n}\n\nclass PostProcess extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.ref_text = React.createRef()\n\t\tthis.ref_html = React.createRef()\n\t\t\n\t\t// eslint-disable-next-line\n\t\tvar to_post_process_array = prepare_post_process_array(this.props.crawl_urls, this.props.crawl_selectors, this.props.partial_results);\n\n\t\tthis.state = {\n\t\t\tcurrent_match_index: 0,\n\t\t\tto_post_process_array: to_post_process_array,\n\t\t\tcurrent_selection: '',\n\t\t\tredirect: false,\n\t\t\tcurrent_tag_type: '',\n\t\t\trender_divider: false,\n\t\t\tsnackbar_open: false,\n\t\t\tsnackbar_message: '',\n\t\t}\n\n\t\tthis.add_regex_match = this.add_regex_match.bind(this);\n\t\tthis.add_match = this.add_match.bind(this);\n\t\tthis.remove_match = this.remove_match.bind(this);\n\t\tthis.clear_matches = this.clear_matches.bind(this);\n\t\tthis.finish_post_process = this.finish_post_process.bind(this);\n\t\tthis.next = this.next.bind(this);\n\t\tthis.previous = this.previous.bind(this);\n\n\t\tif (this.state.to_post_process_array.length === 0 ) {\n\t\t\tlet results = prepare_final_resuts(this.props.crawl_urls, this.props.crawl_selectors, this.props.partial_results, this.state.to_post_process_array);\n\t\t\tthis.props.actions.set_final_results(results);\n\t\t\tthis.state.redirect = '/final-results/';\n\t\t}\n\t}\n\n\tadd_match(tag){\n\t\t// Create a copy of the current to_post_process_array\n\t\tvar new_to_post_process_array = this.state.to_post_process_array.slice();\n\n\t\tnew_to_post_process_array[this.state.current_match_index].post_processed[tag.tag_id] = {text: this.state.current_selection, html: this.state.current_selection, tag: tag}\n\t\tthis.setState({to_post_process_array: new_to_post_process_array});\n\t}\n\n\tadd_regex_match(regex){\n\t\tlet current_text = this.state.to_post_process_array[this.state.current_match_index].match.text;\n\t\tlet regex_selector = regex.regex;\n\t\tlet matches = regex_selector.exec(current_text);\n\n\t\tif (matches !== null) {\n\t\t\tif (matches.length === regex.tags.length + 1) {\n\t\t\t\tfor (var i = 1; i < matches.length; i++) {\n\n\t\t\t\t\tlet match = matches[i];\n\t\t\t\t\tlet tag_id = regex.tags[i-1]\n\t\t\t\t\tlet tag = get_tag(tag_id);\n\n\t\t\t\t\tvar new_to_post_process_array = this.state.to_post_process_array.slice();\n\t\t\t\t\tnew_to_post_process_array[this.state.current_match_index].post_processed[tag_id] = {text: match, html: match, tag: tag}\n\t\t\t\t\tthis.setState({to_post_process_array: new_to_post_process_array});\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.setState({snackbar_open: true});\n\t\t\t\tthis.setState({snackbar_message: 'No perfect match found'});\t\n\t\t\t}\n\t\t}else{\n\t\t\tthis.setState({snackbar_open: true});\n\t\t\tthis.setState({snackbar_message: 'No match found'});\n\t\t}\n\n\t}\n\n\tremove_match(tag_id){\n\t\tvar new_to_post_process_array = this.state.to_post_process_array.slice();\n\n\t\tdelete new_to_post_process_array[this.state.current_match_index].post_processed[tag_id]\n\t\tthis.setState({to_post_process_array: new_to_post_process_array});\n\t}\n\n\tclear_matches(){\n\t\tvar new_to_post_process_array = this.state.to_post_process_array.slice();\n\t\tfor (var i = Object.keys(new_to_post_process_array[this.state.current_match_index].post_processed).length - 1; i >= 0; i--) {\n\t\t\tlet tag_id = Object.keys(new_to_post_process_array[this.state.current_match_index].post_processed)[i];\n\t\t\tdelete new_to_post_process_array[this.state.current_match_index].post_processed[tag_id]\n\t\t}\n\n\t\tthis.setState({to_post_process_array: new_to_post_process_array});\n\t}\n\n\tfinish_post_process(){\n\t\tlet results = prepare_final_resuts(this.props.crawl_urls, this.props.crawl_selectors, this.props.partial_results, this.state.to_post_process_array)\n\t\tthis.props.actions.set_final_results(results)\n\t\tthis.setState({redirect: '/final-results/'})\n\t}\n\n\tnext(){\n\t\tif (this.state.current_match_index < this.state.to_post_process_array.length - 1) {\n\t\t\tthis.setState({current_match_index: this.state.current_match_index + 1});\n\t\t}\n\t}\n\n\tprevious(){\n\t\tif (this.state.current_match_index > 0) {\n\t\t\tthis.setState({current_match_index: this.state.current_match_index - 1});\n\t\t}\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<ReactShortcut keys=\"Right\" onKeysPressed={this.next} />\n\t\t\t\t<ReactShortcut keys=\"Left\" onKeysPressed={this.previous} />\n\t\t\t\t<div className=\"post-process-main-container\">\n\t\t\t\t\t<div className=\"post-process-main-container-inner\">\n\t\t\t\t\t\t<LinearProgress variant=\"determinate\" value={100*(this.state.current_match_index/this.state.to_post_process_array.length)} />\n\t\t\t\t\t\t<Paper className=\"post-process-section\">\n\t\t\t\t\t\t\t<div className=\"post-process-section-header\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div className=\"post-process-section-header-title\">\n\t\t\t\t\t\t\t\t\t\tPost Processing\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"post-process-section-header-subtitle\">\n\t\t\t\t\t\t\t\t\t\tPlease highlight and tag all the content accordingly\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<a href={this.state.to_post_process_array[this.state.current_match_index].url.url} rel=\"noopener noreferrer\" target=\"_blank\">\n\t\t\t\t\t\t\t\t\t\t<Button className=\"post-process-previous-button\" variant=\"contained\" color=\"secondary\">VISIT PAGE</Button>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t{this.state.current_match_index === 0 &&\n\t\t\t\t\t\t\t\t\t\t<Button className=\"post-process-previous-button\" variant=\"contained\" color=\"primary\" onClick={() => this.setState({redirect: '/partial-results/'})}>BACK</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{this.state.current_match_index > 0 &&\n\t\t\t\t\t\t\t\t\t\t<Button className=\"post-process-previous-button\" variant=\"contained\" color=\"primary\" onClick={this.previous}>PREVIOUS</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{this.state.current_match_index < this.state.to_post_process_array.length - 1 &&\n\t\t\t\t\t\t\t\t\t\t<Button className=\"post-process-next-button\" variant=\"contained\" color=\"primary\" onClick={this.next}>NEXT</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{this.state.current_match_index === this.state.to_post_process_array.length - 1 &&\n\t\t\t\t\t\t\t\t\t\t<Button className=\"post-process-next-button\" variant=\"contained\" color=\"primary\" onClick={this.finish_post_process}>FINISH</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"post-process-section-body\">\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className=\"post-process-section-body-inner\">\n\t\t\t\t\t\t\t\t\t<ScrollArea className=\"post-process-section-body-left\" verticalContainerStyle={{width: 4}}>\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-popover-divider-title\">Regex Selectors</div>\n\t\t\t\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t{constants.regex_options.map((regex) => { return(\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"post-process-popover-regex\"\n\t\t\t\t\t\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => { this.add_regex_match(regex) }} \n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-popover-tag-regex-name\" key={uniqid()}>{regex.title}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-popover-tag-regex-example\" key={uniqid()}>{regex.example}</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)})}\n\n\t\t\t\t\t\t\t\t\t\t{constants.tag_options.map((tag) => {\n\t\t\t\t\t\t\t\t\t\t\tif (tag.type !== this.state.current_tag_type) {\n\t\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.current_tag_type = tag.type;\n\t\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.render_divider = true;\n\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.render_divider = false;\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.render_divider &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-popover-divider-title\">{this.state.current_tag_type}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"post-process-popover-tag\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={uniqid()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => { this.add_match(tag) }} \n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-popover-tag-color\" style={{backgroundColor: tag.color}} key={uniqid()}></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-popover-tag-title\" key={uniqid()}>{tag.title}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</ScrollArea>\n\t\t\t\t\t\t\t\t\t<div className=\"post-process-section-body-right\">\n\t\t\t\t\t\t\t\t\t\t<PostProcessPopovoer parent={this} ref_element={this.ref_text}>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-raw-text\" contentEditable=\"true\" ref={this.ref_text}>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.to_post_process_array[this.state.current_match_index].match.text}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</PostProcessPopovoer>\n\t\t\t\t\t\t\t\t\t\t<PostProcessPopovoer parent={this} ref_element={this.ref_html}>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"post-process-raw-html\" contentEditable=\"true\" ref={this.ref_html}>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.to_post_process_array[this.state.current_match_index].match.html}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</PostProcessPopovoer>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Paper>\n\n\t\t\t\t\t\t<Paper className=\"post-process-section\">\n\t\t\t\t\t\t\t<div className=\"post-process-section-header\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div className=\"post-process-section-header-title\">\n\t\t\t\t\t\t\t\t\t\tCurrent Tags\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"post-process-section-header-subtitle\">\n\t\t\t\t\t\t\t\t\t\tThese are the tags selected so far\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<Button className=\"post-process-next-button\" variant=\"contained\" color=\"primary\" onClick={this.clear_matches}>CLEAR</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t{Object.keys(this.state.to_post_process_array[this.state.current_match_index].post_processed).length > 0 &&\n\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<ScrollArea className=\"post-process-section-body post-process-matcehs-section\">\n\t\t\t\t\t\t\t\t{Object.keys(this.state.to_post_process_array[this.state.current_match_index].post_processed).map((tag_id) => {\n\t\t\t\t\t\t\t\t\tlet match = this.state.to_post_process_array[this.state.current_match_index].post_processed[tag_id];\n\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t<NewMatch parent={this} match={match} key={uniqid()}/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</ScrollArea>\n\t\t\t\t\t\t</Paper>\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Snackbar\n\t\t\t\t\topen={this.state.snackbar_open}\n\t\t\t\t\tonClose={() => this.setState({snackbar_open: false})}\n\t\t\t\t\tmessage={this.state.snackbar_message}\n\t\t\t\t/>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tcrawl_urls: state.GlobalReducer.crawl_urls,\n\t\tcrawl_selectors: state.GlobalReducer.crawl_selectors,\n\t\tpartial_results: state.GlobalReducer.partial_results,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(PostProcess)","import React from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Redirect } from 'react-router-dom';\nimport { Table } from 'semantic-ui-react'\nimport uniqid from 'uniqid';\nimport EllipsisText from 'react-ellipsis-text';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport { CSVLink } from \"react-csv\";\nimport posed from 'react-pose';\n\n// Constants import\nimport * as constants from '../constants.js'\n\n// Actions\nimport * as global_action_creators from '../actions/GlobalActions.js';\n\n// CSS Imports\nimport './styles/FinalResults.css';\n\nfunction randomProperty(obj) {\n\tvar keys = Object.keys(obj);\n\treturn keys[0];\n};\n\nconst PosedCell = posed.div({\n\tpressable: true,\n\tinit: { scale: 1 },\n\tpress: { scale: 0.98 }\n});\n\n// Simple helper function to create a dictionary with the tag_id's as the keys and the actual tags as the values\nfunction create_tag_dict(tag_array){\n\tvar tag_dict = {}\n\tfor (var i = tag_array.length - 1; i >= 0; i--) {\n\t\tlet current_tag = tag_array[i]\n\t\ttag_dict[current_tag.tag_id] = current_tag;\n\t}\n\n\treturn tag_dict\n}\n\nfunction generate_csv_from_matches(final_results, tags, urls){\n\tlet csv_export_array = [];\n\tlet tag_titles = [];\n\n\t// Now let's create an array with all the tag's names to work as the header of our CSV\n\t// To do so we can get a random key (that represents a random URL) of our final_resuts dict and get all the tags for that url\n\tlet random_url_id = randomProperty(final_results)\n\tfor (var i = Object.keys(final_results[random_url_id]).length - 1; i >= 0; i--) {\n\t\tlet current_tag = Object.keys(final_results[random_url_id])[i];\n\t\ttag_titles.push(tags[current_tag].title)\n\t}\n\n\t// The Header of our CSV then is the tag_titles variable plus the default headers we would like to add: URL, Status and Response Code\n\tlet header = ['URL', 'Status', 'Response Code', ...tag_titles];\n\n\tcsv_export_array.push(header)\n\n\t// Now we simply have to push the results for each one of the URLs to a separate array (current_row) and then push that array to the final array that will become our CSV (csv_export_array)\n\t// eslint-disable-next-line\n\tfor (var i = Object.keys(final_results).length - 1; i >= 0; i--) {\n\t\tlet current_row = []\n\t\tlet current_url = Object.keys(final_results)[i];\n\n\t\tcurrent_row.push(urls[current_url].url)\n\t\tcurrent_row.push(urls[current_url].status)\n\t\tcurrent_row.push(urls[current_url].response_code)\n\n\t\tfor (var j = Object.keys(final_results[current_url]).length - 1; j >= 0; j--) {\n\t\t\tlet current_tag = Object.keys(final_results[current_url])[j]\n\n\t\t\tif (final_results[current_url][current_tag].length > 0) {\n\t\t\t\tcurrent_row.push(final_results[current_url][current_tag][0].text.replace(/(\\r\\n|\\n|\\r)/gm, \" \"))\n\t\t\t}else{\n\t\t\t\tcurrent_row.push('')\n\t\t\t}\n\t\t}\n\n\t\tcsv_export_array.push(current_row)\n\t}\n\n\treturn csv_export_array\n}\n\nclass FinalResults extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tvar tag_dict = create_tag_dict(constants.tag_options)\n\n\t\tthis.state = {\n\t\t\ttags: tag_dict,\n\t\t\tcsv_data: generate_csv_from_matches(this.props.final_results, tag_dict, this.props.crawl_urls),\n\t\t\tredirect: false\n\t\t}\n\t}\n\n\trender() {\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={this.state.redirect} />\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"final-main-container\">\n\t\t\t\t<Paper className=\"final-section\">\n\t\t\t\t\t<div className=\"final-section-header\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"final-section-header-title\">\n\t\t\t\t\t\t\t\tFinal Results\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"final-section-header-subtitle\">\n\t\t\t\t\t\t\t\tData parsed using the scraper results after post processing\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button className=\"final-home-button\" variant=\"contained\" color=\"secondary\" onClick={() => {this.setState({redirect: \"/\"})}}>Home</Button>\n\t\t\t\t\t\t\t<CSVLink separator={\"|\"} enclosingCharacter={`\"`} filename={\"pipe-separated-final-data.csv\"} data={this.state.csv_data}>\n\t\t\t\t\t\t\t\t<Button className=\"final-download-button\" variant=\"contained\" color=\"primary\">DOWNLOAD</Button>\n\t\t\t\t\t\t\t</CSVLink>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"final-section-body\">\n\t\t\t\t\t\t<div className=\"table-container\">\n\t\t\t\t\t\t\t<Table collapsing celled>\n\t\t\t\t\t\t\t\t<Table.Header>\n\t\t\t\t\t\t\t\t\t<Table.Row>\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>URL</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t{Object.keys(this.props.final_results[Object.keys(this.props.final_results)[0]]).map((tag_id) => {\n\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell key={uniqid()}>{this.state.tags[tag_id].title}</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Status</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Response Code</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t\t\t</Table.Header>\n\t\t\t\t\t\t\t\t<Table.Body>\n\t\t\t\t\t\t\t\t\t{Object.keys(this.props.final_results).map((url_id) => {\n\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t<Table.Row key={uniqid()}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].url}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].url} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t{Object.keys(this.props.final_results[url_id]).map((tag_id) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell key={uniqid()}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.final_results[url_id][tag_id].length > 0 ? this.props.final_results[url_id][tag_id][0].text : ''}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.final_results[url_id][tag_id].length > 0 ? this.props.final_results[url_id][tag_id][0].text : ''} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].status}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].status} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\t\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyToClipboard text={this.props.crawl_urls[url_id].response_code.toString()}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisText text={this.props.crawl_urls[url_id].response_code.toString()} length={\"70\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PosedCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Table.Body>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Paper>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n// Map Redux state to component props\nfunction mapStateToProps(state) {\n\treturn {\n\t\tcrawl_urls: state.GlobalReducer.crawl_urls,\n\t\tcrawl_selectors: state.GlobalReducer.crawl_selectors,\n\t\tfinal_results: state.GlobalReducer.final_results,\n\t}\n}\n\n// Map Redux actions to component props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators({...global_action_creators}, dispatch)\n\t}\n}\n\n// Connect component to the store\nexport default connect(mapStateToProps, mapDispatchToProps)(FinalResults)","import React, { Component } from 'react';\nimport { Route, Switch } from \"react-router-dom\";\n// import { connect } from 'react-redux'\n// import { bindActionCreators } from 'redux'\nimport Home from '../views/Home.js';\nimport Urls from '../views/Urls.js';\nimport Progress from '../views/Progress.js';\nimport PartialResults from '../views/PartialResults.js';\nimport PostProcess from '../views/PostProcess.js';\nimport FinalResults from '../views/FinalResults.js';\n\nexport default class Routes extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<Switch>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<Home/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/urls/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<Urls/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/progress/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<Progress/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/partial-results/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<PartialResults/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/post-process/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<PostProcess/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/final-results/\"\n\t\t\t\t\texact\n\t\t\t\t\trender={() => {return(<FinalResults/>)}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</Switch>\n\t\t);\n\t}\n}","import React, { Component } from 'react';\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\n// Components\nimport Header from './views/Header.js';\nimport Footer from './views/Footer.js';\n\n// import the store created in the store.js file\nimport { store_persistor } from './store';\n\n// Constants import\nimport * as constants from './constants.js'\n\n// URLs Imports\nimport Routes from './routes/Routes.js';\n\n// CSS Imports\nimport './App.css';\n\n// General theme definition\nconst material_ui_theme = {\n\ttypography: {\n\t\tfontFamily: [\n\t\t\t'Karla',\n\t\t].join(','),\n\t},\n\tpalette: {\n\t\tprimary: {\n\t\t\tmain: '#361FFB',\n\t\t\tlight: '#361FFB',\n\t\t\tdark: '#361FFB',\n\t\t\tcontrastText: '#FFFFFF',\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: '#e5e5e5',\n\t\t\tlight: '#e5e5e5',\n\t\t\tdark: '#e5e5e5',\n\t\t\tcontrastText: '#000000',\n\t\t},\n\t\tprimary1Color: '#361FFB',\n\t\tprimary2Color: '#361FFB',\n\t\tprimary3Color: '#361FFB',\n\t\taccent1Color: '#361FFB',\n\t\taccent2Color: '#361FFB',\n\t\taccent3Color: '#361FFB',\n\t\ttextColor: '#101010',\n\t},\n\tappBar: {\n\t\theight: 50,\n\t},\n\tdatePicker: {\n\t\tcolor: '#361FFB',\n\t\ttextColor: '#101010',\n\t\tcalendarTextColor: '#101010',\n\t\tselectColor: '#361FFB',\n\t\tselectTextColor: '#101010',\n\t\tcalendarYearBackgroundColor: '#ffffff',\n\t\theaderColor: '#361FFB',\n\t},\n\traisedButton: {\n\t\ttextColor: '#000000',\n\t\tprimaryTextColor: '#000000'\n\t}\n}\nconst theme = createMuiTheme(material_ui_theme);\n\n\n\nclass App extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\topen_back_warning_dialog: false\n\t\t}\n\n\t\tif (constants.purge_store_persist_on_reload) {\n\t\t\tstore_persistor.pause()\n\t\t\tstore_persistor.flush().then(() => { return store_persistor.purge() })\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Router>\n\t\t\t\t<MuiThemeProvider theme={theme}>\n\t\t\t\t\t<Header />\n\t\t\t\t\t<div className=\"main-content\">\n\t\t\t\t\t\t<Routes />\n\t\t\t\t\t</div>\n\t\t\t\t\t<Footer />\n\t\t\t\t</MuiThemeProvider>\n\t\t\t</Router>\n\t\t);\n\t}\n}\n\nif (!constants.debug) {\n\twindow.addEventListener('beforeunload', function (e) {\n\t\te.preventDefault();\n\t\te.returnValue = '';\n\t});\n}\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { Provider } from 'react-redux'\nimport { PersistGate } from 'redux-persist/integration/react'\n\n// import the store created in the store.js file\nimport { store, store_persistor } from './store';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<PersistGate\n\t\t\tloading={null}\n\t\t\tpersistor={store_persistor}\n\t\t>\n\t\t\t<App />\n\t\t</PersistGate>\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();"],"sourceRoot":""}